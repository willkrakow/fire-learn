(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{335:function(e,t,a){},765:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),i=a.n(c),o=(a(335),a(6)),s=a(55),l=a(21),u=a(809),d=a(99),j=a(864),b=a(14),h=a(58),p=a(2),m=r.a.createContext(null);function O(){return Object(n.useContext)(m)}var x=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(b.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(!0),s=Object(b.a)(o,2),l=s[0],u=s[1],d=Object(h.c)();Object(n.useEffect)((function(){return Object(h.d)(d,(function(e){i(e),console.log(e),u(!1)}))}),[d]);var j={currentUser:c,login:function(e,t){return Object(h.f)(d,e,t)},signup:function(e,t){return Object(h.b)(d,e,t)},logout:function(){return Object(h.h)(d)},resetPassword:function(e){return Object(h.e)(d,e)},updateUserEmail:function(e){return c?Object(h.i)(c,e):Promise.reject("No user logged in")},updateUserPassword:function(e){return c?Object(h.j)(c,e):Promise.reject("No user logged in")},signInWithGoogle:function(){return Object(h.g)(d,new h.a)},updateUserName:function(e){return c?Object(h.k)(c,{displayName:e}):Promise.reject("No user logged in")},updateUserPhoto:function(e){return c?Object(h.k)(c,{photoURL:e}):Promise.reject("No user logged in")},isAdmin:function(){return c&&"willkrakow@gmail.com"===c.email}};return l?Object(p.jsx)("div",{children:"loading..."}):Object(p.jsx)(m.Provider,{value:j,children:t})},f=a(1),g=a.n(f),v=a(4),y=a(23),S=function(e){var t=r.a.useState(!0),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState([]),o=Object(b.a)(i,2),s=o[0],l=o[1],u=O();return r.a.useEffect((function(){var t;c(!0);var a=function(){var t=Object(v.a)(g.a.mark((function t(a){var n,r,i,o;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(y.h)(),r=Object(y.c)(n,"enrollments"),i=e?Object(y.j)(r,Object(y.m)("user_id","==",a),Object(y.m)("course_id","==",e),Object(y.i)(1)):Object(y.j)(r,Object(y.m)("user_id","==",a)),t.next=5,Object(y.g)(i);case 5:o=t.sent,l(o.docs.map((function(e){return e.data()}))),c(!1);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(null===u||void 0===u?void 0:u.currentUser)&&a(null===u||void 0===u||null===(t=u.currentUser)||void 0===t?void 0:t.uid),function(){c(!1)}}),[null===u||void 0===u?void 0:u.currentUser,e]),{enrollments:s,isLoading:n}},w=a(811),k=a(813),C=a(814),N=a(815),E=a(816),T=a(158),I=Object(u.a)((function(e){return{root:{padding:0,position:"relative"},media:{height:532},content:{"& p":{color:e.palette.primary.contrastText}},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:T.a[500]},actions:{padding:e.spacing(2)},dark:{padding:e.spacing(1),paddingTop:e.spacing(3),position:"absolute",bottom:0,background:"linear-gradient(to bottom,\n        rgba(0,0,0,0.0) 0%,\n        rgba(0,0,0,0.1) 5%,\n        rgba(0,0,0,0.2) 10%,\n          rgba(0,0,0,0.5) 20%,\n        rgba(0,0,0,0.6) 30%,\n        rgba(0,0,0,0.9) 80%)"}}})),D=function(e){var t=e.course,a=I();return Object(p.jsxs)(w.a,{className:a.root,children:[Object(p.jsx)(k.a,{className:a.media,image:null===t||void 0===t?void 0:t.data.image_url}),Object(p.jsxs)(j.a,{className:a.dark,children:[Object(p.jsxs)(C.a,{className:a.content,children:[Object(p.jsx)(d.a,{variant:"h3",children:null===t||void 0===t?void 0:t.data.name}),Object(p.jsx)(d.a,{variant:"body1",children:null===t||void 0===t?void 0:t.data.description})]}),Object(p.jsx)(N.a,{className:a.actions,children:Object(p.jsx)(E.a,{component:s.b,to:"/courses/".concat(null===t||void 0===t?void 0:t.id),variant:"contained",color:"primary",children:"View course"})})]})]})},_=a(819),P=a(22),F=a(47),B=a(11),R=a(15),W=["classes","children","className"];Object(R.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}})((function(e){var t=e.classes,a=e.children,n=e.className,r=Object(F.a)(e,W);return Object(p.jsx)(E.a,Object(P.a)(Object(P.a)({className:Object(B.a)(t.root,n)},r),{},{children:a||"class names"}))}));var A=n.forwardRef((function(e,t){return Object(p.jsx)(s.b,Object(P.a)(Object(P.a)({ref:t,to:e.href||"/"},e),{},{role:void 0}))}));function U(e){return Object(p.jsx)(E.a,{variant:e.variant,color:e.color,component:A,children:e.children,href:e.href})}var z=a(820),L=r.a.createContext(null),H=function(){return r.a.useContext(L)},M=function(e){var t=e.children,a=Object(y.h)(),n=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.e)(a,t),e.next=3,Object(y.f)(n);case 3:return r=e.sent,console.log(r),e.abrupt("return",{data:r.data(),id:r.id});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(v.a)(g.a.mark((function e(t){var a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.f)(t);case 2:return a=e.sent,console.log(a),e.abrupt("return",{data:a.data(),id:a.id});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function c(){return(c=Object(v.a)(g.a.mark((function e(t,n){var r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.b)(Object(y.c)(a,t),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i={getDocument:n,getCollection:function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.j)(Object(y.c)(a,t)),e.next=3,Object(y.g)(n);case 3:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return{id:e.id,data:e.data(),path:e.ref.path,ref:e.ref,metadata:e.metadata}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addDocument:function(e,t){return c.apply(this,arguments)},updateDocument:function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,r=t.data,e.next=3,Object(y.l)(Object(y.e)(a,n),r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteDocument:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.d)(Object(y.e)(a,t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),queryDocuments:function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r,c,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collectionPath,r=t.queryParams,c=Object(y.c)(a,n),i=Object(y.j)(c,Object(y.m)(r[0],r[1],r[2])),e.next=5,Object(y.g)(i);case 5:return o=e.sent,e.abrupt("return",o.docs.map((function(e){return{id:e.id,data:e.data(),path:e.ref.path,ref:e.ref,metadata:e.metadata}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSubCollection:function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r,c,i,o;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collectionName,r=t.collectionItem,c=t.subCollectionName,i=Object(y.c)(a,n,r,c),e.next=4,Object(y.g)(i);case 4:return o=e.sent,e.abrupt("return",o.docs.map((function(e){return{id:e.id,data:e.data()}})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSubCollectionDocument:function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r,c,i,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collectionName,r=t.collectionItem,c=t.subCollectionName,i=t.subCollectionItem,o=Object(y.e)(a,n,r,c,i),e.next=4,Object(y.f)(o);case 4:return s=e.sent,e.abrupt("return",s.data());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getDocumentFromReference:r};return Object(p.jsx)(L.Provider,{value:i,children:t})},V=a(85),K=r.a.createContext(null),G=function(){return r.a.useContext(K)},q=function(e){var t=e.children,a=Object(V.b)(),n={uploadFile:function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r,c,i,o,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.path,c=t.image,i=void 0!==c&&c,o=Object(V.c)(a,r),e.next=4,Object(V.d)(o,n,{contentType:i?"image/jpeg":"application/octet-stream"});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uploadText:function(){var e=Object(v.a)(g.a.mark((function e(t,n){var r,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(V.c)(a,n),e.next=3,Object(V.e)(r,t);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),downloadFile:function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(V.c)(a,t),e.next=3,Object(V.a)(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return Object(p.jsx)(K.Provider,{value:n,children:t})},J=a(316),Y=a(818),Z=a(817),$=["children"],Q=["children"],X=["children"],ee=["children"],te=["children"],ae=["children"],ne=["children"],re=["children"],ce=["children"],ie=["children"],oe=(Object(u.a)((function(e){return{root:{whiteSpace:"pre-wrap"}}})),{h1:function(e){var t=e.children,a=Object(F.a)(e,$);return Object(p.jsx)(d.a,{component:"h1",variant:"h1",children:t},a.key)},h2:function(e){var t=e.children,a=Object(F.a)(e,Q);return Object(p.jsx)(d.a,{variant:"h2",component:"h2",children:t},a.key)},h3:function(e){var t=e.children,a=Object(F.a)(e,X);return Object(p.jsx)(d.a,{component:"h3",variant:"h3",children:t},a.key)},h4:function(e){var t=e.children,a=Object(F.a)(e,ee);return Object(p.jsx)(d.a,{component:"h4",variant:"h4",children:t},a.key)},h5:function(e){var t=e.children,a=Object(F.a)(e,te);return Object(p.jsx)(d.a,{component:"h5",variant:"h5",children:t},a.key)},h6:function(e){var t=e.children,a=Object(F.a)(e,ae);return Object(p.jsx)(d.a,{component:"h6",variant:"h6",children:t},a.key)},p:function(e){var t=e.children,a=Object(F.a)(e,ne);return Object(p.jsx)(d.a,{component:"p",variant:"body1",children:t},a.key)},a:function(e){var t=e.children,a=Object(F.a)(e,re);return Object(p.jsx)(Z.a,{underline:"always",href:a.href,children:t},a.key)},strong:function(e){var t=e.children,a=Object(F.a)(e,ce);return Object(p.jsx)("strong",Object(P.a)(Object(P.a)({},a),{},{children:t}))},pre:function(e){var t=e.children,a=Object(F.a)(e,ie);return Object(p.jsx)("span",Object(P.a)(Object(P.a)({},a),{},{children:t}))}}),se=a(312),le=Object(u.a)((function(e){return{root:{minHeight:"100vh",padding:e.spacing(5),maxWidth:900,margin:"auto"},card:{padding:e.spacing(2)},image:{height:300},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(4)}}}));var ue=function(e){var t,a,n=e.lesson,r=le();return Object(p.jsxs)(J.a,{className:r.root,children:[Object(p.jsx)(d.a,{variant:"h2",children:n.data.title}),Object(p.jsx)(d.a,{variant:"h4",children:n.data.subtitle}),Object(p.jsx)(Y.a,{className:r.divider}),Object(p.jsx)(se.a,{className:r.root,children:(null===(t=n.data)||void 0===t||null===(a=t.markdown_content)||void 0===a?void 0:a.toString())||" ",components:oe,unwrapDisallowed:!1})]})};var de=function(e){var t=e.lessonId,a=e.courseId,n=e.courseName,c=r.a.useState(null),i=Object(b.a)(c,2),o=i[0],s=i[1],l=H().getDocument,u=r.a.useState(!1),d=Object(b.a)(u,2),j=d[0],h=d[1];return r.a.useEffect((function(){h(!0),l("lessons/".concat(t)).then(s).finally((function(){return h(!1)}))}),[t]),Object(p.jsxs)(p.Fragment,{children:[j&&Object(p.jsx)(_.a,{}),o&&!j&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(U,{color:"primary",variant:"text",href:"/courses/".concat(a),children:[Object(p.jsx)(z.a,{fontSize:"inherit"})," ",n]}),Object(p.jsx)(ue,{lesson:o})]})]})},je=a(823),be=a(821),he=a(822),pe=function(e){var t=e.lesson,a=e.url,n=e.index;return Object(p.jsx)(be.a,{children:Object(p.jsx)(s.b,{to:"".concat(a,"/lessons/").concat(t.id),children:Object(p.jsx)(he.a,{primary:"".concat((n+1).toString(),". ").concat(t.data.title),primaryTypographyProps:{variant:"h4"},secondaryTypographyProps:{variant:"body1"},secondary:t.data.subtitle})})},t.id)},me=function(e){var t=e.courseId,a=H().queryDocuments,n=r.a.useState([]),c=Object(b.a)(n,2),i=c[0],o=c[1],s=r.a.useState(!0),u=Object(b.a)(s,2),j=u[0],h=u[1],m=Object(l.i)().url;return r.a.useEffect((function(){h(!0),a({collectionPath:"lessons",queryParams:["course_id","==",t]}).then(o).catch(console.error).finally((function(){return h(!1)}))}),[t,a]),j?Object(p.jsx)(_.a,{}):i.length?Object(p.jsx)(je.a,{children:i.map((function(e,t){return Object(p.jsx)(pe,{lesson:e,url:m,index:t},t)}))}):Object(p.jsx)(d.a,{variant:"h5",children:"No lessons found"})},Oe=Object(u.a)((function(e){var t,a;return{root:(t={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"40vh",width:"100%",position:"relative",backgroundColor:"#fafafa"},Object(o.a)(t,e.breakpoints.down("sm"),{height:"50vh"}),Object(o.a)(t,"&::after",{content:"''",position:"absolute",inset:0,backgroundColor:"rgba(0,0,0,0.7)",zIndex:10}),t),image:(a={position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"},Object(o.a)(a,e.breakpoints.down("sm"),{width:"100%",height:"100%"}),Object(o.a)(a,"zIndex",1),a),box:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",padding:e.spacing(2),zIndex:11}}})),xe=function(e){var t=e.imagePath,a=void 0===t?"images/site/resize/hero_1000x800.webp":t,n=e.children,c=Oe(),i=G().downloadFile,o=r.a.useState(""),s=Object(b.a)(o,2),l=s[0],u=s[1];return r.a.useEffect((function(){return i(a).then((function(e){u(e),console.log(e)})),function(){u("")}}),[i,a]),Object(p.jsxs)("div",{className:c.root,children:[l&&Object(p.jsx)("img",{className:c.image,src:l,alt:"hero"}),Object(p.jsx)(j.a,{className:c.box,children:n})]})},fe=a(824),ge=function(){var e=H().getCollection,t=r.a.useState([]),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!0),o=Object(b.a)(i,2),s=o[0],l=o[1];return r.a.useEffect((function(){return l(!0),e("courses").then((function(e){c(e)})),l(!1),function(){c([])}}),[e]),s?Object(p.jsx)("div",{children:"Loading..."}):Object(p.jsx)(fe.a,{container:!0,spacing:3,children:n.map((function(e){return Object(p.jsx)(fe.a,{item:!0,xs:12,md:4,lg:3,children:Object(p.jsx)(D,{course:e})},e.id)}))})},ve=Object(u.a)((function(e){return{paper:{width:"100%",height:"100%",marginTop:e.spacing(2)},grid:{width:"100%",height:"100%",padding:e.spacing(2),marginTop:e.spacing(2)},sectionTitle:{marginBottom:e.spacing(2)}}})),ye=function(){var e=ve(),t=S(),a=(t.enrollments,t.isLoading),n=O().currentUser.displayName.split(" ")[0];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(xe,{children:Object(p.jsxs)(d.a,{variant:"h2",children:["Welcome back, ",n]})}),Object(p.jsx)(j.a,{className:e.paper,children:!a&&Object(p.jsx)(ge,{})})]})},Se=function(){var e=O();return(null===e||void 0===e?void 0:e.currentUser)?Object(p.jsx)(ye,{}):Object(p.jsx)(l.a,{to:"/login"})},we=a(863),ke=a(873),Ce=Object(u.a)((function(e){return Object(ke.a)({root:{maxWidth:400,margin:"auto",width:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2)},form:{width:"100%",padding:e.spacing(2),display:"flex",flexDirection:"column"},title:{textAlign:"center"},button:{marginTop:e.spacing(2),backgroundColor:e.palette.info.main},googleButton:{marginTop:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2),backgroundColor:e.palette.primary.main},orText:{marginTop:e.spacing(1),marginBottom:e.spacing(1),textAlign:"center"}})}));function Ne(e){var t,a=Object.assign({},e),n=Ce(),c=(null===(t=a.location.state)||void 0===t?void 0:t.referrer)||"/",i=O(),o=r.a.useState(""),s=Object(b.a)(o,2),u=s[0],j=s[1],h=r.a.useState(""),m=Object(b.a)(h,2),x=m[0],f=m[1];return(null===i||void 0===i?void 0:i.currentUser)?Object(p.jsx)(l.a,{to:c}):Object(p.jsxs)(w.a,{className:n.root,children:[Object(p.jsx)(d.a,{variant:"h3",className:n.title,children:"Sign in to FireLearn"}),Object(p.jsxs)("form",{className:n.form,children:[Object(p.jsx)(we.a,{value:u,onChange:function(e){j(e.currentTarget.value)},label:"Email",type:"email"}),Object(p.jsx)(we.a,{value:x,onChange:function(e){f(e.currentTarget.value)},label:"Password",type:"password"}),Object(p.jsx)(E.a,{className:n.button,type:"submit",variant:"contained",onClick:Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i,!e.t0){e.next=5;break}return e.next=4,i.login(u,x);case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),children:"Sign in"})]}),Object(p.jsx)(d.a,{className:n.orText,variant:"h6",children:"or"}),Object(p.jsx)(E.a,{variant:"contained",className:n.googleButton,color:"primary",onClick:Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i,!e.t0){e.next=5;break}return e.next=4,i.signInWithGoogle();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),children:"Log in with Google"})]})}var Ee=Object(u.a)((function(e){return Object(ke.a)({root:{maxWidth:400,margin:"auto",width:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2)},form:{width:"100%",padding:e.spacing(2),display:"flex",flexDirection:"column"},title:{textAlign:"center"},button:{marginTop:e.spacing(2),backgroundColor:e.palette.info.main},googleButton:{marginTop:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2),backgroundColor:e.palette.primary.main},orText:{marginTop:e.spacing(1),marginBottom:e.spacing(1),textAlign:"center"}})}));function Te(){var e=O(),t=r.a.useState(""),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState(""),o=Object(b.a)(i,2),s=o[0],l=o[1],u=Ee(),j=function(){var t=Object(v.a)(g.a.mark((function t(a){var r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,t.t0=e,!t.t0){t.next=7;break}return t.next=6,e.signup(n,s);case 6:t.t0=t.sent;case 7:(null===(r=t.t0)||void 0===r?void 0:r.user)&&(console.log("User created",null===e||void 0===e?void 0:e.currentUser),window.location.href="/"),t.next=14;break;case 11:t.prev=11,t.t1=t.catch(1),console.error(t.t1);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)(w.a,{className:u.root,children:[Object(p.jsx)(d.a,{className:u.title,variant:"h3",children:"Sign up for FireLearn"}),Object(p.jsxs)("form",{className:u.form,onSubmit:j,children:[Object(p.jsx)(we.a,{label:"Email",type:"email",value:n,onChange:function(e){c(e.target.value)}}),Object(p.jsx)(we.a,{label:"Password",type:"password",value:s,onChange:function(e){l(e.target.value)}}),Object(p.jsx)(E.a,{className:u.button,variant:"contained",type:"submit",children:"Sign up"})]}),Object(p.jsx)(d.a,{className:u.orText,variant:"h6",children:"or"}),Object(p.jsx)(E.a,{className:u.googleButton,variant:"contained",color:"primary",onClick:Object(v.a)(g.a.mark((function t(){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,e.signInWithGoogle();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=console.log("Error");case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)}))),children:"Sign up with Google"})]})}var Ie=a(43),De=a(834),_e=a(835),Pe=a(836),Fe=a(866),Be=a(870),Re=a(837),We=a(827),Ae=a(828),Ue=a(829),ze=a(830),Le=a(831),He=a(832),Me=a(833),Ve=Object(u.a)((function(e){return{list:Object(P.a)(Object(P.a)({},e.mixins.toolbar),{},{borderRadius:0})}})),Ke=function(e){var t=e.currentUser,a=e.handleLogout,n=e.handleClick,r=Ve();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(je.a,{className:r.list,children:[t&&Object(p.jsxs)(be.a,{button:!0,onClick:function(){return n("/")},children:[Object(p.jsx)(We.a,{children:Object(p.jsx)(Ae.a,{})}),Object(p.jsx)(he.a,{primary:"Home"})]}),t&&Object(p.jsxs)(be.a,{button:!0,onClick:function(){return n("/account")},children:[Object(p.jsx)(We.a,{children:Object(p.jsx)(Ue.a,{})}),Object(p.jsx)(he.a,{primary:"Account"})]}),Object(p.jsxs)(be.a,{button:!0,onClick:function(){return n("/browse")},children:[Object(p.jsx)(We.a,{children:Object(p.jsx)(ze.a,{})}),Object(p.jsx)(he.a,{primary:"Browse"})]}),Object(p.jsx)(Y.a,{}),t&&Object(p.jsxs)(be.a,{button:!0,onClick:a,children:[Object(p.jsx)(We.a,{children:Object(p.jsx)(Le.a,{})}),Object(p.jsx)(he.a,{primary:"Logout"})]}),!t&&Object(p.jsxs)(be.a,{button:!0,onClick:function(){return n("/signup")},children:[Object(p.jsx)(We.a,{children:Object(p.jsx)(He.a,{})}),Object(p.jsx)(he.a,{primary:"Signup"})]}),!t&&Object(p.jsxs)(be.a,{button:!0,onClick:function(){return n("/login")},children:[Object(p.jsx)(We.a,{children:Object(p.jsx)(Me.a,{})}),Object(p.jsx)(he.a,{primary:"Login"})]})]})})},Ge=240,qe=Object(u.a)((function(e){var t;return{drawer:Object(o.a)({},e.breakpoints.up("sm"),{width:Ge,flexShrink:0}),appBar:(t={},Object(o.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Ge,"px)"),marginLeft:Ge}),Object(o.a)(t,"borderTopRightRadius",0),Object(o.a)(t,"borderTopLeftRadius",0),t),menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),drawerPaper:{width:Ge},title:{color:e.palette.background.paper,fontWeight:e.typography.fontWeightBold,fontFamily:e.typography.fontFamily,fontSize:e.typography.h3.fontSize},toolbar:e.mixins.toolbar}})),Je=function(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(Ie.a)(),i=qe(),o=O(),s=o.logout,u=o.currentUser,j=Object(l.g)().push,h=function(e){j(e)},m=function(){s(),j("/")},x=function(){n(!a)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(De.a,{position:"static",className:i.appBar,children:Object(p.jsxs)(_e.a,{className:i.toolbar,children:[Object(p.jsx)(Pe.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:x,className:i.menuButton,children:Object(p.jsx)(Re.a,{})}),Object(p.jsx)(d.a,{className:i.title,noWrap:!0,children:"FireLearn"})]})}),Object(p.jsxs)("nav",{className:i.drawer,"aria-label":"menu",children:[Object(p.jsx)(Fe.a,{smUp:!0,implementation:"css",children:Object(p.jsx)(Be.a,{variant:"temporary",anchor:"rtl"===c.direction?"right":"left",open:a,onClose:x,classes:{paper:i.drawerPaper},ModalProps:{keepMounted:!0},children:Object(p.jsx)(Ke,{handleClick:h,handleLogout:m,currentUser:u})})}),Object(p.jsx)(Fe.a,{xsDown:!0,implementation:"css",children:Object(p.jsx)(Be.a,{classes:{paper:i.drawerPaper},variant:"permanent",open:!0,children:Object(p.jsx)(Ke,{handleClick:h,handleLogout:m,currentUser:u})})})]})]})},Ye=a(304),Ze=a(313),$e=a(842),Qe=a(157),Xe=a(838),et=a(839),tt=a(840),at=a(841),nt=a(159),rt=Object(Ze.a)({overrides:{MuiPaper:{root:{backgroundColor:Qe.a[50]}},MuiFilledInput:{root:{backgroundColor:Qe.a[50]}},MuiCssBaseline:{"@global":{html:{WebkitFontSmoothing:"auto"},body:{minHeight:"100vh",backgroundColor:Xe.a[50],display:"flex",flexDirection:"column"},a:{fontStyle:"normal",textDecoration:"none"}}},MuiLink:{root:{fontWeight:"bold",position:"relative",zIndex:10},underlineAlways:{textDecoration:"none","&::after":{content:'""',position:"absolute",left:-1,right:-1,bottom:0,top:"70%",zIndex:-1,backgroundColor:et.a[50]}}}},palette:{primary:{main:et.a[700],light:Qe.a[50],dark:tt.a[900]},secondary:{main:at.a[200]},info:{main:nt.a[500],light:nt.a[100]},text:{primary:Xe.a[900]},error:{main:tt.a[500],light:tt.a[50]}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:15,fontWeightLight:200,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700,button:{fontSize:"1rem",fontWeight:"bold",textTransform:"none"},h1:{fontSize:"2.5rem",fontWeight:"bold",fontStyle:"normal"},h2:{fontSize:"3rem",fontWeight:"bold",fontStyle:"normal",marginBottom:"1rem",background:"linear-gradient(to right, ".concat(nt.a[400]," 0%, ").concat(T.a[900]," 100%)"),color:"transparent",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},h3:{color:"transparent",fontSize:"2rem",fontWeight:"bold",background:"linear-gradient(to right, ".concat(nt.a[400]," 0%, ").concat(T.a[900]," 100%)"),backgroundClip:"text",WebkitBackgroundClip:"text",fontStyle:"normal",marginBottom:"1rem"},h4:{fontSize:"1.375rem",fontWeight:"normal",marginBottom:"0.5rem",fontStyle:"normal",background:"linear-gradient(to right, ".concat(nt.a[400]," 0%, ").concat(T.a[900]," 100%)"),backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",color:"transparent"},h5:{fontSize:"1rem",fontWeight:"bold",fontStyle:"normal"},h6:{fontSize:"0.875rem",fontWeight:"normal",fontStyle:"normal",color:Xe.a[700],textTransform:"uppercase",letterSpacing:"0.1em"},subtitle1:{fontSize:"1rem",fontWeight:"bold",fontStyle:"normal"},subtitle2:{fontSize:"0.75rem",fontWeight:"normal",fontStyle:"italic"},body1:{fontSize:"1rem",fontWeight:"normal",color:Xe.a[900],fontStyle:"normal"},body2:{fontSize:"0.75rem",fontWeight:"normal",fontStyle:"italic"}}});function ct(e){return Object(p.jsx)($e.a,{theme:rt,children:e.children})}var it=a(849),ot=a(874),st=a(847),lt=a(875),ut=(Object(u.a)((function(e){return{root:{padding:e.spacing(3,2),margin:"auto",minHeight:"100vh",width:"100%"},form:{display:"flex",flexDirection:"column",alignItems:"center"}}})),a(868)),dt=a(843),jt=a(844),bt=Object(u.a)((function(e){return Object(ke.a)({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},alert:{flexWrap:"wrap"},deleteButton:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark},marginTop:e.spacing(2),marginBottom:e.spacing(2),marginLeft:e.spacing(1)},confirmDeleteButton:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(2)}})}));function ht(){var e=bt(),t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1];return Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)(dt.a,{in:n,children:Object(p.jsxs)(ut.a,{className:e.alert,severity:"error",action:Object(p.jsx)(E.a,{"aria-label":"close",color:"inherit",size:"small",variant:"contained",className:e.deleteButton,onClick:function(){console.log("clicked"),c(!n)},children:"Yes, I'd like to delete my account"}),children:[Object(p.jsx)(jt.a,{children:"Warning!"}),"You are about to delete your account."," ",Object(p.jsx)("strong",{children:"This action is irreversible."})]})}),Object(p.jsx)(E.a,{className:n?"":e.deleteButton,variant:"contained",color:n?"secondary":"inherit",onClick:function(){c(!n)},children:n?"Close":"Delete Account"})]})}var pt=a(846),mt=a(305),Ot=a(845),xt=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-end",width:"100%",padding:e.spacing(1)},fileInput:{display:"none"},imagePreview:{width:"100%",height:"100%",objectFit:"cover"}}})),ft=function(e){var t=e.setTempImage,a=xt(),n=O(),c=n.currentUser,i=n.updateUserPhoto,o=r.a.useState(!1),s=Object(b.a)(o,2),l=s[0],u=s[1],j=r.a.useState(null),h=Object(b.a)(j,2),m=h[0],x=h[1],f=G().uploadFile,y=r.a.useState(""),S=Object(b.a)(y,2),w=S[0],k=S[1],C=function(){var e=Object(v.a)(g.a.mark((function e(t){var a,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u(!0),m){e.next=5;break}return k("No file selected"),e.abrupt("return");case 5:if(!(m.size>5e6)){e.next=8;break}return k("File must be less than 5MB"),e.abrupt("return");case 8:if(c){e.next=11;break}return k("No user logged in"),e.abrupt("return");case 11:return e.next=13,f({file:m,path:"profileImages/".concat(null===c||void 0===c?void 0:c.uid,"/").concat(m.name)});case 13:if(a=e.sent){e.next=17;break}return k("Error uploading file"),e.abrupt("return");case 17:return e.next=19,Object(mt.a)(a.ref);case 19:return n=e.sent,console.log(n),e.next=23,i(n);case 23:u(!1),window.location.reload();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{onSubmit:C,className:a.root,children:[Object(p.jsx)("input",{id:"file-input",type:"file",accept:"image/*",onChange:function(e){var a,n=null===(a=e.target.files)||void 0===a?void 0:a[0];n&&(x(n),t(URL.createObjectURL(n)))},className:a.fileInput}),Object(p.jsx)("label",{htmlFor:"file-input",children:!m&&Object(p.jsx)(E.a,{variant:"contained",color:"primary",endIcon:Object(p.jsx)(Ot.a,{}),component:"span"})}),w&&Object(p.jsx)(d.a,{variant:"h6",color:"error",children:w.toString()}),m&&Object(p.jsxs)(E.a,{variant:"contained",color:"secondary",disabled:l,type:"submit",children:[l&&Object(p.jsx)(_.a,{}),w?"Reupload":"Save"]})]})})},gt=function(e){return y.a.fromDate(new Date(e)).toDate().toLocaleString()},vt=Object(u.a)((function(e){return{root:{margin:"auto",minHeight:"100vh",width:"100%",maxWidth:"100vw",overflow:"hidden"},card:{marginBottom:e.spacing(3)},cardDanger:{marginBottom:e.spacing(3),backgroundColor:e.palette.error.light},verified:{fontSize:e.typography.h6.fontSize,color:e.palette.success.main},listItem:{padding:e.spacing(1)},editButton:{margin:e.spacing(2,"auto")},media:{height:300},chip:{color:e.palette.primary.contrastText,"& span":{}},check:{color:e.palette.primary.contrastText},none:{color:e.palette.grey[400]}}})),yt=function(e){var t=e.providerData;return Object(p.jsx)(je.a,{children:t.map((function(e,t){return Object(p.jsxs)(be.a,{component:w.a,children:[Object(p.jsx)(st.a,{children:Object(p.jsx)(lt.a,{src:e.photoURL||""})}),Object(p.jsx)(he.a,{primary:e.providerId.slice(0,1).toUpperCase()+e.providerId.replace(".com","").slice(1),secondary:e.email,primaryTypographyProps:{variant:"body1"},secondaryTypographyProps:{variant:"h6"}})]},t)}))})},St=function(){var e=vt(),t=O(),a=t.currentUser,n=a||{},c=n.metadata,i=n.displayName,o=n.email,u=n.emailVerified,h=n.phoneNumber,m=n.photoURL,x=c||{},f=x.creationTime,g=x.lastSignInTime,v=r.a.useState(null),y=Object(b.a)(v,2),S=y[0],T=y[1];if(!(null===t||void 0===t?void 0:t.currentUser))return Object(p.jsx)(l.a,{to:{pathname:"/login",state:{referrer:"/account"}}});var I=gt(f||""),D=gt(g||""),_=[{primary:"Name",secondary:i},{primary:"Email",secondary:Object(p.jsxs)(p.Fragment,{children:[o,Object(p.jsx)("br",{}),u?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(ot.a,{icon:Object(p.jsx)(pt.a,{color:"primary"}),color:"primary",variant:"outlined",label:"Verified",size:"small"})}):Object(p.jsx)(ot.a,{label:"Not Verified",color:"secondary"})]})},{primary:"Phone Number",secondary:h||Object(p.jsx)("span",{className:e.none,children:"None"})},{primary:"Created at",secondary:I},{primary:"Last sign in",secondary:D}];return t.currentUser&&Object(p.jsxs)(j.a,{children:[Object(p.jsxs)(w.a,{elevation:0,className:e.card,children:[Object(p.jsx)(k.a,{image:S||m||"",className:e.media,children:Object(p.jsx)(ft,{setTempImage:T})}),Object(p.jsxs)(C.a,{children:[Object(p.jsx)(d.a,{align:"center",variant:"h3",children:i}),Object(p.jsx)(d.a,{align:"center",variant:"h5",children:o})]}),Object(p.jsx)(N.a,{children:Object(p.jsx)(E.a,{className:e.editButton,variant:"outlined",component:s.b,to:"/account/edit",children:"Edit info"})})]}),Object(p.jsx)(w.a,{className:e.card,children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(d.a,{variant:"h3",children:"Info"}),Object(p.jsx)(je.a,{children:_.map((function(t){return Object(p.jsx)(be.a,{className:e.listItem,children:Object(p.jsx)(he.a,{primaryTypographyProps:{variant:"h6"},secondaryTypographyProps:{variant:"h4"},primary:t.primary,secondary:t.secondary})},t.primary)}))})]})}),Object(p.jsx)(w.a,{elevation:0,className:e.card,children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(d.a,{variant:"h3",children:"Linked accounts"}),Object(p.jsx)(yt,Object(P.a)({},a))]})}),Object(p.jsxs)(w.a,{component:j.a,className:e.cardDanger,elevation:0,children:[Object(p.jsxs)(C.a,{children:[Object(p.jsx)(d.a,{variant:"h3",color:"error",children:"Danger zone"}),Object(p.jsx)(d.a,{variant:"body1",children:"Actions here are either irreversible or just plain risky. Proceed at your own risk."})]}),Object(p.jsx)(N.a,{children:Object(p.jsx)(ht,{})})]})]})},wt=(Object(u.a)((function(e){return Object(ke.a)({root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}})})),function(e){var t=H().getDocument,a=r.a.useState(null),n=Object(b.a)(a,2),c=n[0],i=n[1],o=r.a.useState(!1),s=Object(b.a)(o,2),l=s[0],u=s[1];return r.a.useEffect((function(){u(!0),t("courses/".concat(e)).then((function(e){i(e),console.log(e),u(!1)}))}),[e,t]),{courseData:c,loading:l}}),kt=function(e){var t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState(),o=Object(b.a)(i,2),s=o[0],l=o[1],u=H().getDocument;return r.a.useEffect((function(){c(!0),u("lessons/".concat(e)).then((function(e){l(e),c(!1)}))}),[e,u]),{loading:n,lessonData:s}};a(194);var Ct=Object(u.a)((function(e){return{root:{padding:e.spacing(2)},heroSubtitle:{color:e.palette.primary.contrastText}}})),Nt=function(e){var t=e.courseId,a=Object(l.i)().path,n=Ct(),r=wt(t),c=r.courseData,i=r.loading;return Object(p.jsxs)(p.Fragment,{children:[i&&Object(p.jsx)(_.a,{}),!i&&(null===c||void 0===c?void 0:c.data)&&Object(p.jsxs)(l.d,{children:[Object(p.jsxs)(l.b,{exact:!0,path:a,children:[Object(p.jsxs)(xe,{imagePath:null===c||void 0===c?void 0:c.data.image_path,children:[Object(p.jsx)(d.a,{variant:"h2",children:null===c||void 0===c?void 0:c.data.name}),Object(p.jsx)(d.a,{className:n.heroSubtitle,variant:"h5",children:null===c||void 0===c?void 0:c.data.description})]}),Object(p.jsxs)(j.a,{className:n.root,children:[Object(p.jsx)(d.a,{variant:"h3",children:"Curriculum"}),Object(p.jsx)(me,{courseId:t})]})]}),Object(p.jsx)(l.b,{path:"".concat(a,"/lessons/:lessonId"),render:function(e){return Object(p.jsx)(de,{courseId:t,lessonId:e.match.params.lessonId,courseName:c.data.name})}})]})]})},Et=Object(u.a)((function(e){return{root:{display:"flex",alignItems:"center",flexWrap:"wrap","& div":{margin:e.spacing(1),flex:"100%"}},saveButton:{margin:e.spacing(1),flex:"100%",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}})),Tt=function(){var e=Et(),t=Object(l.g)(),a=O(),n=a.currentUser,c=a.updateUserEmail,i=a.updateUserName,s=n,u=r.a.useState({name:(null===s||void 0===s?void 0:s.displayName)||"",email:(null===s||void 0===s?void 0:s.email)||""}),j=Object(b.a)(u,2),h=j[0],m=j[1],x=r.a.useState(""),f=Object(b.a)(x,2),y=f[0],S=f[1],w=r.a.useState(null),k=Object(b.a)(w,2),C=k[0],N=k[1],T=function(e){m(Object(P.a)(Object(P.a)({},h),{},Object(o.a)({},e.target.name,e.target.value)))},I=function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(h.email.length<5)){e.next=4;break}return S("Email must be at least 5 characters"),e.abrupt("return");case 4:if(h.email.includes("@")&&h.email.includes(".")){e.next=7;break}return S("Email must be valid"),e.abrupt("return");case 7:return h.email!==(null===s||void 0===s?void 0:s.email)&&c(h.email),h.name!==(null===s||void 0===s?void 0:s.displayName)&&i(h.name),e.prev=9,e.next=12,c(h.email);case 12:return e.next=14,i(h.name);case 14:S(""),D(),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(9),console.error(e.t0),S("Something went wrong. Refreshing..."),setTimeout((function(){window.location.reload()}),2e3);case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t){return e.apply(this,arguments)}}(),D=function(){N(!0),setTimeout((function(){N(!1),t.push("/account")}),2e3)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{onSubmit:I,className:e.root,children:[Object(p.jsx)(we.a,{variant:"filled",name:"name",label:"Name",value:h.name,onChange:T,margin:"normal"}),Object(p.jsx)(we.a,{variant:"filled",name:"email",label:"Email",value:h.email,onChange:T,margin:"normal"}),y.length>0&&Object(p.jsx)(d.a,{variant:"h6",color:"error",children:y}),C&&Object(p.jsx)(ut.a,{severity:"success",children:"Successfully updated"}),Object(p.jsx)(E.a,{className:e.saveButton,disabled:y.length>0||!0===C,type:"submit",children:"Save"})]})})};a(347).config();var It={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_API_KEY||"AIzaSyAHs3BDMtCrM4EoyIFBfZAhMT37ebkk3Zw",authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_AUTH_DOMAIN||"fire-learn-ffc4e.firebaseapp.com",projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_PROJECT_ID||"fire-learn-ffc4e",storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_STORAGE_BUCKET||"fire-learn-ffc4e.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_MESSAGING_SENDER_ID||"936895465833",appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_APP_ID||"1:936895465833:web:4d22b12e724e5156f095f8",measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_MEASUREMENT_ID||"G-0L1P008S3H"},Dt=a(872),_t=a(306),Pt=a.n(_t),Ft=a(848),Bt=240,Rt=Object(u.a)((function(e){return Object(ke.a)({root:{display:"flex"},drawer:Object(o.a)({},e.breakpoints.up("sm"),{width:Bt,flexShrink:0}),appBar:Object(o.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Bt,"px)"),marginLeft:Bt}),menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:Bt},content:{flexGrow:1},title:{color:e.palette.background.paper,fontSize:e.typography.h4.fontSize,fontWeight:"bolder",textTransform:"none"}})})),Wt=function(){var e=Rt(),t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=function(){c(!n)},o=[{name:"Users",icon:Object(p.jsx)(Ue.a,{}),link:"/admin/users"},{name:"Courses",icon:Object(p.jsx)(ze.a,{}),link:"/admin/courses"},{name:"Lessons",icon:Object(p.jsx)(Ft.a,{}),link:"/admin/lessons"}],l=Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:e.toolbar}),Object(p.jsxs)(je.a,{children:[o.map((function(e,t){return Object(p.jsxs)(be.a,{button:!0,component:s.b,to:e.link,children:[Object(p.jsx)(We.a,{children:e.icon}),Object(p.jsx)(he.a,{primary:e.name})]},t)})),Object(p.jsx)(Y.a,{}),Object(p.jsxs)(be.a,{button:!0,component:s.b,to:"/",children:[Object(p.jsx)(We.a,{children:Object(p.jsx)(Le.a,{})}),Object(p.jsx)(he.a,{primary:"Exit admin"})]})]})]});return Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)(it.a,{}),Object(p.jsx)(De.a,{position:"fixed",className:e.appBar,children:Object(p.jsxs)(_e.a,{children:[Object(p.jsx)(Pe.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:i,className:e.menuButton,children:Object(p.jsx)(Pt.a,{})}),Object(p.jsx)(d.a,{variant:"h6",noWrap:!0,className:e.title,children:"FireLearn Admin"})]})}),Object(p.jsxs)("nav",{className:e.drawer,"aria-label":"mailbox folders",children:[Object(p.jsx)(Fe.a,{smUp:!0,implementation:"css",children:Object(p.jsx)(Be.a,{variant:"temporary",anchor:"right",open:n,onClose:i,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:l})}),Object(p.jsx)(Fe.a,{xsDown:!0,implementation:"css",children:Object(p.jsx)(Be.a,{classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:l})})]})]})},At=Object(u.a)((function(e){return{root:{},title:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between","& svg":{marginBottom:e.spacing(1)}},dataBox:{height:"100%"}}})),Ut=function(e){var t=e.title,a=e.data,n=(e.icon,e.loading),r=e.xs,c=void 0===r?12:r,i=e.md,o=void 0===i?6:i,s=e.lg,l=void 0===s?3:s,u=At();return Object(p.jsxs)(fe.a,{item:!0,xs:c,md:o,lg:l,className:u.root,children:[Object(p.jsx)(d.a,{variant:"h4",className:u.title,children:Object(p.jsx)("span",{children:t})}),Object(p.jsx)(J.a,{className:u.root,children:Object(p.jsx)(j.a,{className:u.dataBox,children:n?Object(p.jsx)(_.a,{}):a})})]})},zt=["count","label","width","primaryTypographyVariant","secondaryTypographyVariant"],Lt=Object(u.a)((function(e){return{}}));function Ht(e){return e.data.created_at.toDate()>new Date(Date.now()-6048e5)}function Mt(e){return e.data.created_at.toDate()>new Date(Date.now()-864e5)}var Vt=function(){Lt();var e=H().getCollection,t=r.a.useState(0),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState(0),o=Object(b.a)(i,2),s=o[0],l=o[1],u=r.a.useState(0),d=Object(b.a)(u,2),j=d[0],h=d[1],m=r.a.useState(!1),O=Object(b.a)(m,2),x=O[0],f=O[1];return r.a.useEffect((function(){f(!0),e("users").then((function(e){c(e.length),l(e.filter(Ht).length),h(e.filter(Mt).length)})).catch((function(){c(0),l(0),h(0)})).finally((function(){f(!1)}))}),[]),Object(p.jsx)(p.Fragment,{children:x?Object(p.jsx)(_.a,{}):Object(p.jsx)(Ut,{data:Object(p.jsxs)(fe.a,{container:!0,children:[Object(p.jsx)(Kt,{count:n,label:"Total Users",width:12,primaryTypographyVariant:"h2",secondaryTypographyVariant:"h4"}),Object(p.jsx)(Kt,{count:s,label:"New Weekly Users",width:6,primaryTypographyVariant:"h3",secondaryTypographyVariant:"body1"}),Object(p.jsx)(Kt,{count:j,label:"New Daily Users",width:6,primaryTypographyVariant:"h3",secondaryTypographyVariant:"body1"})]}),loading:x,title:"Users",icon:Ue.a})})},Kt=function(e){var t=e.count,a=e.label,n=e.width,r=e.primaryTypographyVariant,c=e.secondaryTypographyVariant,i=Object(F.a)(e,zt);return Object(p.jsxs)(fe.a,{item:!0,xs:n,className:i.className,children:[Object(p.jsx)(d.a,{align:"center",variant:r,children:"".concat(t.toString())}),Object(p.jsx)(d.a,{align:"center",variant:c,children:a})]})},Gt=a(850),qt=a(851),Jt=a(852),Yt=a(853),Zt=a(855),$t=a(127),Qt=a(854);var Xt=function(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),i=Object(b.a)(c,2),o=i[0],s=i[1],l=H().getCollection;return r.a.useEffect((function(){n(!0),l("enrollments").then((function(e){var t=e.map((function(e){return e.data})),a=Object($t.groupBy)(t,"course_id"),n=Object($t.sortBy)(a,(function(e){return!e.length})).map((function(e){return{courseId:e[0].course_id,enrollments:e.length}}));s(n)})).catch((function(e){console.error(e)})).finally((function(){n(!1)}))}),[]),Object(p.jsx)(p.Fragment,{children:a?Object(p.jsx)(_.a,{}):Object(p.jsx)(Ut,{title:"Popular courses",loading:a,data:Object(p.jsxs)(Gt.a,{children:[Object(p.jsxs)(qt.a,{children:[Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"h6",children:"Course"})}),Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"h6",children:"Enrollments"})})]}),Object(p.jsx)(Yt.a,{children:o.slice(0,3).map((function(e){return Object(p.jsx)(ea,{courseId:e.courseId,enrollments:e.enrollments},e.courseId)}))})]}),icon:Qt.a})})},ea=function(e){var t=e.courseId,a=e.enrollments,n=H().getDocument,c=r.a.useState(null),i=Object(b.a)(c,2),o=i[0],s=i[1],l=r.a.useState(!1),u=Object(b.a)(l,2),j=u[0],h=u[1];return r.a.useEffect((function(){h(!0),n("courses/".concat(t)).then(s).catch((function(e){console.error(e)})).finally((function(){h(!1)}))}),[t]),Object(p.jsx)(p.Fragment,{children:j||!(null===o||void 0===o?void 0:o.data)?Object(p.jsx)(_.a,{}):Object(p.jsxs)(Zt.a,{children:[Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"h5",children:o.data.name})}),Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"h4",children:a.toString()})})]})})},ta=function(){return Object(p.jsxs)(fe.a,{container:!0,children:[Object(p.jsx)(Vt,{}),Object(p.jsx)(Xt,{})]})},aa=a(856),na=Object(u.a)((function(e){return{input:e.typography.body1,titleInput:e.typography.h4,button:{width:"100%"}}}));var ra=function(e){var t=e.course,a=(e.url,r.a.useState(Object(P.a)({},t))),n=Object(b.a)(a,2),c=n[0],i=n[1],s=r.a.useState({}),l=Object(b.a)(s,2),u=l[0],d=(l[1],H().updateDocument),j=r.a.useState(!1),h=Object(b.a)(j,2),m=h[0],O=h[1],x=na(),f=function(e){if(!m&&c){var t=e.target,a=t.name,n=t.value;i(Object(P.a)(Object(P.a)({},c),{},Object(o.a)({},a,n)))}};return Object(p.jsxs)(p.Fragment,{children:[m&&Object(p.jsx)(_.a,{}),c?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault(),O(!0),0===Object.keys(u).length&&d({path:"courses/".concat(t.id),data:c}).then((function(){console.log("success")})).catch((function(e){console.log(e)})).finally((function(){O(!1)}))},children:Object(p.jsxs)(fe.a,{component:J.a,container:!0,children:[Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(we.a,{variant:"filled",fullWidth:!0,error:!!u.name,name:"name",color:"primary",value:null===c||void 0===c?void 0:c.data.name,onChange:f,helperText:null===u||void 0===u?void 0:u.name,label:"Name"})}),Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(we.a,{variant:"filled",fullWidth:!0,InputProps:{className:x.input},error:!!u.description,multiline:!0,minRows:3,color:"primary",name:"description",value:null===c||void 0===c?void 0:c.data.description,onChange:f,label:"Description",helperText:null===u||void 0===u?void 0:u.description})}),Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(we.a,{variant:"filled",fullWidth:!0,InputProps:{className:x.input},error:!!u.organization,color:"primary",name:"organization",value:null===c||void 0===c?void 0:c.data.organization,onChange:f,label:"Organization",helperText:null===u||void 0===u?void 0:u.organization})}),Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(we.a,{variant:"filled",fullWidth:!0,InputProps:{className:x.input},error:!!u.author,color:"primary",name:"author",value:null===c||void 0===c?void 0:c.data.author,onChange:f,label:"Author",helperText:null===u||void 0===u?void 0:u.author})}),Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(we.a,{variant:"filled",fullWidth:!0,error:!!u.price,type:"number",color:"primary",InputProps:{startAdornment:Object(p.jsx)(aa.a,{position:"start",children:"$"}),className:x.input},label:"Price",name:"price",value:null===c||void 0===c?void 0:c.data.price,onChange:f,helperText:null===u||void 0===u?void 0:u.price})}),Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(E.a,{variant:"contained",color:"primary",type:"submit",className:x.button,children:"Save"})})]})})}):Object(p.jsx)("div",{children:"404"})]})},ca=Object(u.a)((function(e){return{root:{padding:e.spacing(3)},gridItem:{},paper:{height:"100%",padding:0},header:{backgroundColor:e.palette.primary.main,"& *":{color:e.palette.primary.contrastText}}}})),ia=function(e){var t=e.match,a=Object(l.i)().url,n=r.a.useState(null),c=Object(b.a)(n,2),i=c[0],o=c[1],s=H().getDocument,u=r.a.useState(!1),j=Object(b.a)(u,2),h=j[0],m=j[1],O=ca();return r.a.useEffect((function(){m(!0),s("courses/".concat(t.params.courseId)).then(o).finally((function(){return m(!1)}))}),[s,t.params.courseId]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{variant:"h2",children:null===i||void 0===i?void 0:i.data.name}),Object(p.jsx)(fe.a,{container:!0,spacing:10,className:O.root,children:!h&&i&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(fe.a,{item:!0,xs:12,lg:4,children:[Object(p.jsx)(d.a,{variant:"h4",children:"Metadata"}),Object(p.jsx)(ra,{course:i,url:a})]}),Object(p.jsxs)(fe.a,{item:!0,xs:12,lg:8,children:[Object(p.jsx)(d.a,{variant:"h4",children:"Lessons"}),Object(p.jsx)(ya,{courseId:i.id})]}),Object(p.jsxs)(fe.a,{item:!0,xs:12,md:6,lg:3,children:[Object(p.jsx)(d.a,{variant:"h4",children:"Analystics"}),Object(p.jsx)(je.a,{children:Object(p.jsx)(be.a,{children:Object(p.jsx)(he.a,{primary:"Enrollments",secondary:"0",primaryTypographyProps:{variant:"h6"},secondaryTypographyProps:{variant:"h5"}})})})]})]})})]})},oa=a(858),sa=a(859),la=a(860),ua=a(142),da=a(857),ja=function(){var e=H().addDocument,t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=Object(l.g)().push;return Object(p.jsxs)(E.a,{onClick:function(){c(!0),e("courses",{createdAt:ua.a.fromDate(new Date)}).then((function(e){c(!1),i("courses/".concat(e.id))}))},variant:"contained",color:"primary",fullWidth:!0,children:[n?Object(p.jsx)(_.a,{size:"small"}):Object(p.jsx)(da.a,{fontSize:"inherit"}),"Add course"]})},ba=Object(u.a)((function(e){return{root:{padding:e.spacing(2),margin:e.spacing(5)},title:{marginBottom:e.spacing(3)},buttonCell:{display:"flex"}}})),ha=function(){var e=ba(),t=H().getCollection,a=r.a.useState([]),n=Object(b.a)(a,2),c=n[0],i=n[1],o=r.a.useState(!1),s=Object(b.a)(o,2),u=s[0],j=s[1],h=Object(l.i)().url;return r.a.useEffect((function(){j(!0),t("courses").then(i).catch(console.error).finally((function(){return j(!1)}))}),[t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{variant:"h3",className:e.title,children:"Courses"}),u?Object(p.jsx)(_.a,{}):Object(p.jsxs)(Gt.a,{component:J.a,children:[Object(p.jsx)(qt.a,{children:["Name","Description","Status","Actions"].map((function(e){return Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"h5",color:"primary",children:e})},e)}))}),Object(p.jsx)(Yt.a,{children:c.map((function(t){return Object(p.jsxs)(Zt.a,{children:[Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"subtitle1",children:t.data.name})}),Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"body1",children:t.data.description})}),Object(p.jsx)(Jt.a,{children:t.data.published?Object(p.jsx)(ot.a,{icon:Object(p.jsx)(pt.a,{color:"primary",fontSize:"inherit"}),label:"Published",color:"primary"}):Object(p.jsx)(ot.a,{icon:Object(p.jsx)(oa.a,{color:"disabled",fontSize:"inherit"}),label:"Not published"})}),Object(p.jsx)(Jt.a,{children:Object(p.jsxs)("div",{className:e.buttonCell,children:[Object(p.jsx)(U,{href:"".concat(h,"/").concat(t.id),children:Object(p.jsx)(sa.a,{color:"primary",fontSize:"small"})}),Object(p.jsx)(U,{onClick:function(){return console.log("delete")},children:Object(p.jsx)(la.a,{color:"error",fontSize:"small"})})]})})]},t.data.name)}))})]}),Object(p.jsx)(ja,{})]})},pa=function(e){var t=e.courseId,a=H().addDocument,n=r.a.useState(!1),c=Object(b.a)(n,2),i=c[0],o=c[1],s=Object(l.g)().push;return Object(p.jsxs)(E.a,{onClick:function(){o(!0),a("lessons",{course_id:t,courseId:t}).then((function(e){o(!1),s("/admin/courses/".concat(t,"/lessons/").concat(e.id))}))},variant:"contained",color:"primary",fullWidth:!0,children:[i?Object(p.jsx)(_.a,{size:"small"}):Object(p.jsx)(da.a,{fontSize:"inherit"}),"Add lesson"]})},ma=Object(u.a)((function(e){return{buttonCell:{display:"flex"}}})),Oa=function(e){var t,a,n=e.lesson,r=ma();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(Zt.a,{children:[Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"subtitle1",children:n.data.title})}),Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"body1",children:n.data.subtitle})}),Object(p.jsx)(Jt.a,{children:n.data.published?Object(p.jsx)(ot.a,{icon:Object(p.jsx)(pt.a,{color:"primary",fontSize:"inherit"}),label:"Published",color:"primary"}):Object(p.jsx)(ot.a,{icon:Object(p.jsx)(oa.a,{color:"disabled",fontSize:"inherit"}),label:"Not published"})}),Object(p.jsxs)(Jt.a,{className:r.buttonCell,children:[Object(p.jsx)(U,{href:"/admin/courses/".concat((null===(t=n.data)||void 0===t?void 0:t.courseId)||(null===(a=n.data)||void 0===a?void 0:a.course_id),"/lessons/").concat(n.id),children:Object(p.jsx)(sa.a,{fontSize:"small",color:"primary"})}),Object(p.jsx)(E.a,{variant:"text",onClick:function(){return console.log("delete")},children:Object(p.jsx)(la.a,{fontSize:"small",color:"error"})})]})]},n.id)})},xa=function(e){var t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState([]),o=Object(b.a)(i,2),s=o[0],l=o[1],u=H().queryDocuments;return r.a.useEffect((function(){return c(!0),u({collectionPath:"lessons",queryParams:["course_id","==",e]}).then(l),c(!1),function(){l([])}}),[e,u]),{loading:n,lessons:s}},fa=["typographyVariant","value","align","className"],ga=function(e){var t=e.typographyVariant,a=e.value,n=e.align,r=void 0===n?"center":n,c=e.className,i=Object(F.a)(e,fa);return Object(p.jsx)(Jt.a,Object(P.a)(Object(P.a)({align:r,className:c},i),{},{children:Object(p.jsx)(d.a,{color:"primary",variant:t,children:a})}))},va=Object(u.a)((function(e){return{root:{padding:e.spacing(5)}}})),ya=function(e){var t=e.courseId,a=Object(l.i)(),n=a.url,r=a.path,c=xa(t),i=c.lessons,o=c.loading,s=va();return Object(p.jsxs)(p.Fragment,{children:[o?Object(p.jsx)(_.a,{}):Object(p.jsxs)(Gt.a,{component:J.a,className:s.root,children:[Object(p.jsx)(qt.a,{children:Object(p.jsx)(Zt.a,{children:["Title","Subtitle","Status","Actions"].map((function(e,t){return Object(p.jsx)(ga,{typographyVariant:"h5",align:"left",value:e},t)}))})}),Object(p.jsx)(Yt.a,{children:i.map((function(e){return Object(p.jsx)(Oa,{lesson:e,url:n,path:r},e.id)}))})]}),Object(p.jsx)(pa,{courseId:t})]})},Sa=a(195),wa=a.n(Sa),ka=Object(u.a)((function(e){return{root:{maxWidth:900,display:"flex",flexDirection:"column",justifyContent:"space-between"},paper:{padding:e.spacing(4,5),minHeight:500,fontStyle:"normal",display:"flex",flexDirection:"column",justifyContent:"space-between","& h3":{fontSize:e.typography.h3.fontSize},"& h4":{fontSize:e.typography.h4.fontSize},"& h5":{fontSize:e.typography.h5.fontSize},"& h6":{fontSize:e.typography.h6.fontSize},"& p":{fontSize:e.typography.body1.fontSize}},button:{width:"min-content",margin:e.spacing(2,"auto")}}}));function Ca(e){var t=function(e){return e.split(/\s+/).length}(e),a=Math.floor(t/200),n=Math.floor(t%200/(200/60));return"".concat(a," min ").concat(n," sec")}var Na,Ea,Ta=function(e){var t=e.lessonData,a=e.loading,n=Object(Ie.a)(),c=ka(),i=r.a.useState(""),o=Object(b.a)(i,2),s=o[0],l=o[1],u=H().updateDocument,h=r.a.useState(!1),m=Object(b.a)(h,2),O=m[0],x=m[1];return r.a.useEffect((function(){!s&&(null===t||void 0===t?void 0:t.data.markdown_content)&&l(t.data.markdown_content)}),[t]),Object(p.jsxs)(p.Fragment,{children:[a&&Object(p.jsx)(_.a,{}),!a&&(null===t||void 0===t?void 0:t.data)&&Object(p.jsxs)(j.a,{className:c.root,children:[Object(p.jsx)(d.a,{variant:"h4",children:"Content editor"}),Object(p.jsx)(J.a,{className:c.paper,children:Object(p.jsx)(wa.a,{defaultValue:t.data.markdown_content,onChange:function(e){return l(e)},headingsOffset:2,theme:Object(P.a)(Object(P.a)({},Sa.theme),{},{black:n.palette.text.primary,white:n.palette.common.white,primary:n.palette.primary.main,textSecondary:n.palette.text.secondary,almostBlack:n.palette.text.secondary,fontFamily:n.typography.fontFamily||"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen'",fontFamilyMono:"Menlo, Monaco, Consolas, 'Courier New', monospace",fontWeight:400})})}),Object(p.jsx)(E.a,{variant:"contained",disabled:O||a,color:"primary",onClick:function(e){e.preventDefault(),x(!0),s&&u({path:"lessons/".concat(t.id),data:{markdown_content:s,updated_at:y.a.fromDate(new Date),reading_time:Ca(s)}}).then((function(){return console.log("updated")})).catch((function(e){return console.log(e)})).finally((function(){return x(!1)}))},className:c.button,children:O?Object(p.jsx)(_.a,{}):"Save"})]})]})},Ia=a(861),Da=a(867),_a=a(871),Pa=a(869),Fa=function(e){var t=e.currentValues,a=e.onChange,n=e.label,c=e.placeholder,i=void 0===c?"Choose...":c,o=e.options,s=r.a.useState(t||[]),l=Object(b.a)(s,2),u=(l[0],l[1]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Pa.a,{multiple:!0,options:o,getOptionLabel:function(e){return e},onChange:function(e,t){u(t),a(e,t)},defaultValue:t||[],renderInput:function(e){return Object(p.jsx)(we.a,Object(P.a)(Object(P.a)({},e),{},{variant:"filled",label:n,placeholder:i}))}})})},Ba=a(862);!function(e){e.ENGLISH="ENGLISH",e.SPANISH="SPANISH",e.FRENCH="FRENCH",e.GERMAN="GERMAN",e.ITALIAN="ITALIAN",e.JAPANESE="JAPANESE",e.KOREAN="KOREAN",e.PORTUGUESE="PORTUGUESE"}(Na||(Na={})),function(e){e[e.Math=0]="Math",e[e.Science=1]="Science",e[e.English=2]="English",e[e.History=3]="History",e[e.Geography=4]="Geography",e[e.Biology=5]="Biology",e[e.Chemistry=6]="Chemistry",e[e.Physics=7]="Physics",e[e.Music=8]="Music",e[e.Art=9]="Art",e[e.Literature=10]="Literature",e[e["Computer Science"]=11]="Computer Science",e[e.Business=12]="Business",e[e.Economics=13]="Economics",e[e.Accounting=14]="Accounting",e[e.Health=15]="Health",e[e.Law=16]="Law",e[e.Psychology=17]="Psychology",e[e.Sociology=18]="Sociology",e[e.Philosophy=19]="Philosophy",e[e.Religion=20]="Religion"}(Ea||(Ea={}));var Ra=Object(u.a)((function(e){return{grid:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},form:{marginBottom:e.spacing(4)},root:{padding:e.spacing(3)}}})),Wa=function(e){var t=e.lessonId,a=(Ra(),kt(t)),n=a.lessonData,c=a.loading,i=H().updateDocument,s=r.a.useState(null),l=Object(b.a)(s,2),u=l[0],h=l[1],m=r.a.useState(!1),O=Object(b.a)(m,2),x=O[0],f=O[1],g=r.a.useState(!1),v=Object(b.a)(g,2),y=v[0],S=v[1],w=r.a.useState(""),k=Object(b.a)(w,2),C=k[0],N=k[1],T=function(){S(!1),N("")};r.a.useEffect((function(){n&&!u&&h(n)}),[n]);var I=function(e){var a=e.target,n=a.name,r=a.value;h({id:t,data:Object(P.a)(Object(P.a)({},null===u||void 0===u?void 0:u.data),{},Object(o.a)({},n,r))})};return Object(p.jsxs)(p.Fragment,{children:[c&&Object(p.jsx)(_.a,{}),!c&&(null===u||void 0===u?void 0:u.data)?Object(p.jsxs)(j.a,{children:[Object(p.jsx)(d.a,{variant:"h4",children:"Lesson details"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),f(!0),i({path:"lessons/".concat(t),data:Object(P.a)(Object(P.a)({},u.data),{},{published:!0})}).then((function(){N("Lesson updated successfully")})).catch((function(e){console.error(e),N(e.message)})).finally((function(){S(!0),f(!1)}))},children:[Object(p.jsxs)(fe.a,{container:!0,children:[Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(we.a,{label:"Title",onChange:I,value:u.data.title,variant:"filled",name:"title",fullWidth:!0})}),Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(we.a,{label:"Subtitle",onChange:I,value:u.data.subtitle,name:"subtitle",variant:"filled",fullWidth:!0})}),Object(p.jsx)(fe.a,{item:!0,xs:12,children:Object(p.jsx)(we.a,{label:"Summary",onChange:I,value:u.data.summary,name:"summary",fullWidth:!0,multiline:!0,variant:"filled",minRows:3})}),Object(p.jsx)(fe.a,{item:!0,xs:12,md:6,children:Object(p.jsx)(Fa,{options:Object.values(Na),onChange:function(e,a){h({id:t,data:Object(P.a)(Object(P.a)({},null===u||void 0===u?void 0:u.data),{},{languages:a})})},label:"Languages",currentValues:u.data.languages})}),Object(p.jsx)(fe.a,{item:!0,xs:12,md:6,children:Object(p.jsx)(Fa,{options:Object.values(Ea).map((function(e){return e.toString()})),onChange:function(e,a){h({id:t,data:Object(P.a)(Object(P.a)({},null===u||void 0===u?void 0:u.data),{},{tags:a})})},currentValues:u.data.tags,label:"Tags"})}),Object(p.jsx)(fe.a,{item:!0,xs:12,md:6,children:Object(p.jsx)(Ia.a,{control:Object(p.jsx)(Da.a,{color:"primary",name:"published",checked:u.data.published,onChange:function(e){h({id:t,data:Object(P.a)(Object(P.a)({},null===u||void 0===u?void 0:u.data),{},{published:e.target.checked})})}}),label:"Publish now?"})})]}),Object(p.jsxs)(E.a,{variant:"contained",disabled:x,color:"primary",type:"submit",children:[x&&Object(p.jsx)(_.a,{}),u.data.published?"Publish":"Save as draft"]})]}),Object(p.jsx)(_a.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:y,autoHideDuration:6e3,onClose:T,message:C,action:Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(E.a,{color:"secondary",size:"small",onClick:T,children:"Close"}),Object(p.jsx)(Pe.a,{size:"small","aria-label":"close",color:"inherit",onClick:T,children:Object(p.jsx)(Ba.a,{fontSize:"small"})})]})})]}):Object(p.jsx)(_.a,{})]})},Aa=Object(u.a)((function(e){return{root:{padding:e.spacing(3)}}})),Ua=function(e){var t=e.match,a=Aa(),n=t.params.lessonId,c=kt(n),i=c.lessonData,o=c.loading,s=r.a.useState(null),l=Object(b.a)(s,2),u=l[0],j=l[1];return r.a.useEffect((function(){i&&!u&&j(i)}),[i]),Object(p.jsxs)(p.Fragment,{children:[o&&Object(p.jsx)(_.a,{}),!o&&(null===u||void 0===u?void 0:u.data)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{variant:"h3",children:i.data.title}),Object(p.jsxs)(fe.a,{container:!0,spacing:5,className:a.root,children:[Object(p.jsx)(fe.a,{item:!0,xs:12,lg:6,children:Object(p.jsx)(Wa,{lessonId:n})}),Object(p.jsx)(fe.a,{item:!0,xs:12,lg:6,children:!o&&i&&Object(p.jsx)(Ta,{lessonData:i,loading:o})})]})]})]})},za=function(e){e.match;var t=Object(l.i)().params;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"UserEditor"}),Object(p.jsxs)("p",{children:["UserId: ",t.userId]})]})},La=function(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),i=Object(b.a)(c,2),o=i[0],s=i[1],u=H().getCollection,j=Object(l.i)().url;return r.a.useEffect((function(){n(!0),u("users").then(s).finally((function(){return n(!1)}))}),[u]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(d.a,{variant:"h3",children:"User Manager"}),a?Object(p.jsx)(_.a,{}):Object(p.jsxs)(Gt.a,{children:[Object(p.jsx)(qt.a,{children:Object(p.jsx)(Zt.a,{children:["Name","ID","Email","Created At","Options"].map((function(e){return Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:"h4",children:e})},e)}))})}),Object(p.jsx)(Yt.a,{children:o.map((function(e){return Object(p.jsxs)(Zt.a,{children:[[e.data.name,e.id,e.data.email,(t=e.data.created_at,t.toDate().toLocaleDateString())].map((function(e,t){return Object(p.jsx)(Jt.a,{children:Object(p.jsx)(d.a,{variant:0===t?"subtitle1":"body1",children:e})},t)})),Object(p.jsx)(Jt.a,{children:Object(p.jsx)(U,{href:"".concat(j,"/").concat(e.id),children:Object(p.jsx)(sa.a,{fontSize:"inherit",color:"secondary"})})})]},e.id);var t}))})]})]})},Ha=Object(u.a)((function(e){return{root:{backgroundColor:"transparent"},breadcrumbs:{padding:e.spacing(1),marginBottom:e.spacing(3),marginTop:0,borderRadius:e.shape.borderRadius},gridItem:{}}})),Ma=function(){var e=O().isAdmin,t=r.a.useState([]),a=Object(b.a)(t,2),n=a[0],c=a[1],i=Object(l.h)().pathname,o=Ha();return r.a.useEffect((function(){var e=i.split("/"),t=e.slice(1).map((function(t,a){return{link:e.slice(0,a+2).join("/"),name:t.toLocaleUpperCase()}}));c(t)}),[i]),e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Wt,{}),Object(p.jsx)(Dt.a,{className:o.breadcrumbs,children:n.map((function(e,t){return Object(p.jsx)(U,{size:"small",href:e.link,children:e.name},t)}))}),Object(p.jsx)(J.a,{elevation:0,className:o.root,children:Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin",children:Object(p.jsx)(ta,{})}),Object(p.jsxs)(l.b,{path:"/admin/courses",children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin/courses",component:ha}),Object(p.jsxs)(l.b,{path:"/admin/courses/:courseId",children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin/courses/:courseId",component:ia}),Object(p.jsxs)(l.b,{path:"/admin/courses/:courseId/lessons",children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin/courses/:courseId/lessons",render:function(e){return Object(p.jsx)(ya,{courseId:e.match.params.courseId})}}),Object(p.jsx)(l.b,{path:"/admin/courses/:courseId/lessons/:lessonId",component:Ua})]})]})]}),Object(p.jsxs)(l.b,{path:"/admin/users",children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin/users",component:La}),Object(p.jsx)(l.b,{path:"/admin/users/:userId",component:za})]})]})})]}):Object(p.jsx)(l.a,{to:"/"})},Va=Object(u.a)((function(e){var t;return{main:(t={marginBottom:e.spacing(2),flexGrow:1},Object(o.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),Object(o.a)(t,"padding",e.spacing(3)),t),root:{},toolbar:e.mixins.toolbar}}));var Ka=function(){var e=Va();return Object(Ye.a)(It),Object(p.jsx)(r.a.Fragment,{children:Object(p.jsx)(x,{children:Object(p.jsx)(q,{children:Object(p.jsx)(M,{children:Object(p.jsxs)(ct,{children:[Object(p.jsx)(it.a,{}),Object(p.jsx)(s.a,{children:Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)(Je,{}),Object(p.jsx)(j.a,{component:"main",className:e.main,children:Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/",component:Se}),Object(p.jsx)(l.b,{path:"/login",component:Ne}),Object(p.jsx)(l.b,{path:"/signup",component:Te}),Object(p.jsx)(l.b,{path:"/account/edit",component:Tt}),Object(p.jsx)(l.b,{path:"/account",exact:!0,component:St}),Object(p.jsx)(l.b,{path:"/courses",exact:!0,component:ge}),Object(p.jsx)(l.b,{path:"/courses/:courseId",render:function(e){return Object(p.jsx)(Nt,{courseId:e.match.params.courseId})}}),Object(p.jsx)(l.b,{path:"/admin",component:Ma}),Object(p.jsx)(l.b,{path:"/browse",component:ge})]})})]})})]})})})})})};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(Ka,{})}),document.getElementById("root"))}},[[765,1,2]]]);
//# sourceMappingURL=main.c9734e9a.chunk.js.map