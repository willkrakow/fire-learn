(this.webpackJsonpfern=this.webpackJsonpfern||[]).push([[0],{335:function(e,t,a){},765:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(32),i=a.n(c),o=(a(335),a(6)),s=a(55),l=a(22),u=a(809),j=a(99),d=a(864),b=a(15),h=a(58),p=a(2),m=r.a.createContext(null);function O(){return Object(n.useContext)(m)}var x=function(e){var t=e.children,a=Object(n.useState)(null),r=Object(b.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(!0),s=Object(b.a)(o,2),l=s[0],u=s[1],j=Object(h.c)();Object(n.useEffect)((function(){return Object(h.d)(j,(function(e){i(e),console.log(e),u(!1)}))}),[j]);var d={currentUser:c,login:function(e,t){return Object(h.f)(j,e,t)},signup:function(e,t){return Object(h.b)(j,e,t)},logout:function(){return Object(h.h)(j)},resetPassword:function(e){return Object(h.e)(j,e)},updateUserEmail:function(e){return c?Object(h.i)(c,e):Promise.reject("No user logged in")},updateUserPassword:function(e){return c?Object(h.j)(c,e):Promise.reject("No user logged in")},signInWithGoogle:function(){return Object(h.g)(j,new h.a)},updateUserName:function(e){return c?Object(h.k)(c,{displayName:e}):Promise.reject("No user logged in")},updateUserPhoto:function(e){return c?Object(h.k)(c,{photoURL:e}):Promise.reject("No user logged in")},isAdmin:function(){return c&&"willkrakow@gmail.com"===c.email}};return l?Object(p.jsx)("div",{children:"loading..."}):Object(p.jsx)(m.Provider,{value:d,children:t})},f=a(20),g=a(36),v=a(811),y=a(813),S=a(814),C=a(815),k=a(816),w=a(158),N=["course"],T=Object(u.a)((function(e){return{root:{padding:0,position:"relative"},media:{height:532},content:{"& p":{color:e.palette.primary.contrastText}},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:w.a[500]},actions:{padding:e.spacing(2)},dark:{padding:e.spacing(1),paddingTop:e.spacing(3),position:"absolute",bottom:0,background:"linear-gradient(to bottom,\n        rgba(0,0,0,0.0) 0%,\n        rgba(0,0,0,0.1) 5%,\n        rgba(0,0,0,0.2) 10%,\n          rgba(0,0,0,0.5) 20%,\n        rgba(0,0,0,0.6) 30%,\n        rgba(0,0,0,0.9) 80%)"}}})),E=function(e){var t=e.course,a=Object(g.a)(e,N),n=T();return Object(p.jsxs)(v.a,Object(f.a)(Object(f.a)({className:n.root},a),{},{children:[Object(p.jsx)(y.a,{className:n.media,image:null===t||void 0===t?void 0:t.data.image_url,title:null===t||void 0===t?void 0:t.data.name}),Object(p.jsxs)(d.a,{className:n.dark,children:[Object(p.jsxs)(S.a,{className:n.content,children:[Object(p.jsx)(j.a,{variant:"h3",children:null===t||void 0===t?void 0:t.data.name}),Object(p.jsx)(j.a,{variant:"body1",children:null===t||void 0===t?void 0:t.data.description})]}),Object(p.jsx)(C.a,{className:n.actions,children:Object(p.jsx)(k.a,{component:s.b,to:"/courses/".concat(null===t||void 0===t?void 0:t.id),variant:"contained",color:"primary",children:"View course"})})]})]}))},I=a(819),D=a(11),_=a(14),P=["classes","children","className"],F=Object(_.a)({root:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",borderRadius:3,border:0,color:"white",height:48,padding:"0 30px",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"}})((function(e){var t=e.classes,a=e.children,n=e.className,r=Object(g.a)(e,P);return Object(p.jsx)(k.a,Object(f.a)(Object(f.a)({className:Object(D.a)(t.root,n)},r),{},{children:a||"class names"}))})),R=n.forwardRef((function(e,t){return Object(p.jsx)(s.b,Object(f.a)(Object(f.a)({ref:t,to:e.href||"/"},e),{},{role:void 0}))}));function B(e){return Object(p.jsx)(k.a,{variant:e.variant,color:e.color,component:R,children:e.children,href:e.href})}var W=a(820),A=a(1),z=a.n(A),L=a(4),U=a(23),H=r.a.createContext(null),M=function(){return r.a.useContext(H)},V=function(e){var t=e.children,a=Object(U.h)(),n=function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(U.e)(a,t),e.next=3,Object(U.f)(n);case 3:return r=e.sent,console.log(r),e.abrupt("return",{data:r.data(),id:r.id});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(L.a)(z.a.mark((function e(t){var a;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.f)(t);case 2:return a=e.sent,console.log(a),e.abrupt("return",{data:a.data(),id:a.id});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function c(){return(c=Object(L.a)(z.a.mark((function e(t,n){var r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.b)(Object(U.c)(a,t),n);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var i={getDocument:n,getCollection:function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(U.j)(Object(U.c)(a,t)),e.next=3,Object(U.g)(n);case 3:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return{id:e.id,data:e.data(),path:e.ref.path,ref:e.ref,metadata:e.metadata}})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addDocument:function(e,t){return c.apply(this,arguments)},updateDocument:function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.path,r=t.data,e.next=3,Object(U.l)(Object(U.e)(a,n),r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteDocument:function(){var e=Object(L.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.d)(Object(U.e)(a,t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),queryDocuments:function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r,c,i,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collectionPath,r=t.queryParams,c=Object(U.c)(a,n),i=Object(U.j)(c,Object(U.m)(r[0],r[1],r[2])),e.next=5,Object(U.g)(i);case 5:return o=e.sent,e.abrupt("return",o.docs.map((function(e){return{id:e.id,data:e.data(),path:e.ref.path,ref:e.ref,metadata:e.metadata}})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSubCollection:function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r,c,i,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collectionName,r=t.collectionItem,c=t.subCollectionName,i=Object(U.c)(a,n,r,c),e.next=4,Object(U.g)(i);case 4:return o=e.sent,e.abrupt("return",o.docs.map((function(e){return{id:e.id,data:e.data()}})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSubCollectionDocument:function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r,c,i,o,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.collectionName,r=t.collectionItem,c=t.subCollectionName,i=t.subCollectionItem,o=Object(U.e)(a,n,r,c,i),e.next=4,Object(U.f)(o);case 4:return s=e.sent,e.abrupt("return",s.data());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getDocumentFromReference:r};return Object(p.jsx)(H.Provider,{value:i,children:t})},K=a(84),G=r.a.createContext(null),q=function(){return r.a.useContext(G)},J=function(e){var t=e.children,a=Object(K.b)(),n={uploadFile:function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r,c,i,o,s;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,r=t.path,c=t.image,i=void 0!==c&&c,o=Object(K.c)(a,r),e.next=4,Object(K.d)(o,n,{contentType:i?"image/jpeg":"application/octet-stream"});case 4:return s=e.sent,e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uploadText:function(){var e=Object(L.a)(z.a.mark((function e(t,n){var r,c;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(K.c)(a,n),e.next=3,Object(K.e)(r,t);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),downloadFile:function(){var e=Object(L.a)(z.a.mark((function e(t){var n,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(K.c)(a,t),e.next=3,Object(K.a)(n);case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};return Object(p.jsx)(G.Provider,{value:n,children:t})},Y=a(316),Z=a(818),$=a(817),Q=["children"],X=["children"],ee=["children"],te=["children"],ae=["children"],ne=["children"],re=["children"],ce=["children"],ie=["children"],oe=["children"],se={h1:function(e){var t=e.children,a=Object(g.a)(e,Q);return Object(p.jsx)(j.a,{component:"h1",variant:"h1",children:t},a.key)},h2:function(e){var t=e.children,a=Object(g.a)(e,X);return Object(p.jsx)(j.a,{variant:"h2",component:"h2",children:t},a.key)},h3:function(e){var t=e.children,a=Object(g.a)(e,ee);return Object(p.jsx)(j.a,{component:"h3",variant:"h3",children:t},a.key)},h4:function(e){var t=e.children,a=Object(g.a)(e,te);return Object(p.jsx)(j.a,{component:"h4",variant:"h4",children:t},a.key)},h5:function(e){var t=e.children,a=Object(g.a)(e,ae);return Object(p.jsx)(j.a,{component:"h5",variant:"h5",children:t},a.key)},h6:function(e){var t=e.children,a=Object(g.a)(e,ne);return Object(p.jsx)(j.a,{component:"h6",variant:"h6",children:t},a.key)},p:function(e){var t=e.children,a=Object(g.a)(e,re);return Object(p.jsx)(j.a,{component:"p",variant:"body1",children:t},a.key)},a:function(e){var t=e.children,a=Object(g.a)(e,ce);return Object(p.jsx)($.a,{underline:"always",href:a.href,children:t},a.key)},strong:function(e){var t=e.children,a=Object(g.a)(e,ie);return Object(p.jsx)("strong",Object(f.a)(Object(f.a)({},a),{},{children:t}))},pre:function(e){var t=e.children,a=Object(g.a)(e,oe);return Object(p.jsx)("span",Object(f.a)(Object(f.a)({},a),{},{children:t}))}},le=a(312),ue=["lesson"],je=Object(u.a)((function(e){return{root:{minHeight:"100vh",padding:e.spacing(5),maxWidth:900,margin:"auto"},card:{padding:e.spacing(2)},image:{height:300},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(4)}}}));var de=function(e){var t,a,n=e.lesson,r=Object(g.a)(e,ue),c=je();return Object(p.jsxs)(Y.a,Object(f.a)(Object(f.a)({className:c.root},r),{},{children:[Object(p.jsx)(j.a,{variant:"h2",children:n.data.title}),Object(p.jsx)(j.a,{variant:"h4",children:n.data.subtitle}),Object(p.jsx)(Z.a,{className:c.divider}),Object(p.jsx)(le.a,{className:c.root,children:(null===(t=n.data)||void 0===t||null===(a=t.markdown_content)||void 0===a?void 0:a.toString())||" ",components:se,unwrapDisallowed:!1})]}))};var be=function(e){var t=e.lessonId,a=e.courseId,n=e.courseName,c=r.a.useState(null),i=Object(b.a)(c,2),o=i[0],s=i[1],l=M().getDocument,u=r.a.useState(!1),j=Object(b.a)(u,2),d=j[0],h=j[1];return r.a.useEffect((function(){h(!0),l("lessons/".concat(t)).then(s).finally((function(){return h(!1)}))}),[t,l]),Object(p.jsxs)(p.Fragment,{children:[d&&Object(p.jsx)(I.a,{}),o&&!d&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(B,{color:"primary",variant:"text",href:"/courses/".concat(a),children:[Object(p.jsx)(W.a,{fontSize:"inherit"})," ",n]}),Object(p.jsx)(de,{lesson:o})]})]})},he=a(823),pe=a(821),me=a(822),Oe=["lesson","url","index"],xe=function(e){var t=e.lesson,a=e.url,n=e.index,r=Object(g.a)(e,Oe);return Object(p.jsx)(pe.a,Object(f.a)(Object(f.a)({},r),{},{children:Object(p.jsx)(s.b,{to:"".concat(a,"/lessons/").concat(t.id),children:Object(p.jsx)(me.a,{primary:"".concat((n+1).toString(),". ").concat(t.data.title),primaryTypographyProps:{variant:"h4"},secondaryTypographyProps:{variant:"body1"},secondary:t.data.subtitle})})}),t.id)},fe=["courseId"],ge=function(e){var t=e.courseId,a=Object(g.a)(e,fe),n=M().queryDocuments,c=r.a.useState([]),i=Object(b.a)(c,2),o=i[0],s=i[1],u=r.a.useState(!0),d=Object(b.a)(u,2),h=d[0],m=d[1],O=Object(l.i)().url;return r.a.useEffect((function(){m(!0),n({collectionPath:"lessons",queryParams:["course_id","==",t]}).then(s).catch(console.error).finally((function(){return m(!1)}))}),[t,n]),h?Object(p.jsx)(I.a,{}):o.length?Object(p.jsx)(he.a,Object(f.a)(Object(f.a)({},a),{},{children:o.map((function(e,t){return Object(p.jsx)(xe,{lesson:e,url:O,index:t},t)}))})):Object(p.jsx)(j.a,{variant:"h5",children:"No lessons found"})},ve=["imagePath","children"],ye=Object(u.a)((function(e){var t,a;return{root:(t={display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"40vh",width:"100%",position:"relative",backgroundColor:"#fafafa"},Object(o.a)(t,e.breakpoints.down("sm"),{height:"50vh"}),Object(o.a)(t,"&::after",{content:"''",position:"absolute",inset:0,backgroundColor:"rgba(0,0,0,0.7)",zIndex:10}),t),image:(a={position:"absolute",inset:0,width:"100%",height:"100%",objectFit:"cover"},Object(o.a)(a,e.breakpoints.down("sm"),{width:"100%",height:"100%"}),Object(o.a)(a,"zIndex",1),a),box:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",padding:e.spacing(2),zIndex:11}}})),Se=function(e){var t=e.imagePath,a=void 0===t?"images/site/resize/hero_1000x800.webp":t,n=e.children,c=Object(g.a)(e,ve),i=ye(),o=q().downloadFile,s=r.a.useState(""),l=Object(b.a)(s,2),u=l[0],j=l[1];return r.a.useEffect((function(){return o(a).then((function(e){j(e),console.log(e)})),function(){j("")}}),[o,a]),Object(p.jsxs)("div",Object(f.a)(Object(f.a)({className:i.root},c),{},{children:[u&&Object(p.jsx)("img",{className:i.image,src:u,alt:"hero"}),Object(p.jsx)(d.a,{className:i.box,children:n})]}))},Ce=a(824),ke=function(){var e=M().getCollection,t=r.a.useState([]),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState(!0),o=Object(b.a)(i,2),s=o[0],l=o[1];return r.a.useEffect((function(){return l(!0),e("courses").then((function(e){c(e)})),l(!1),function(){c([])}}),[e]),s?Object(p.jsx)("div",{children:"Loading..."}):Object(p.jsx)(Ce.a,{container:!0,spacing:3,children:n.map((function(e){return Object(p.jsx)(Ce.a,{item:!0,xs:12,md:4,lg:3,children:Object(p.jsx)(E,{course:e})},e.id)}))})},we=Object(u.a)((function(e){return{paper:{width:"100%",height:"100%",marginTop:e.spacing(2)},grid:{width:"100%",height:"100%",padding:e.spacing(2),marginTop:e.spacing(2)},sectionTitle:{marginBottom:e.spacing(2)}}})),Ne=function(){var e=we(),t=O().currentUser.displayName.split(" ")[0];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Se,{children:Object(p.jsxs)(j.a,{variant:"h2",children:["Welcome back, ",t]})}),Object(p.jsx)(d.a,{className:e.paper,children:Object(p.jsx)(ke,{})})]})},Te=function(){var e=O();return(null===e||void 0===e?void 0:e.currentUser)?Object(p.jsx)(Ne,{}):Object(p.jsx)(l.a,{to:"/login"})},Ee=a(863),Ie=a(873),De=Object(u.a)((function(e){return Object(Ie.a)({root:{maxWidth:400,margin:"auto",width:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2)},form:{width:"100%",padding:e.spacing(2),display:"flex",flexDirection:"column"},title:{textAlign:"center"},button:{marginTop:e.spacing(2),backgroundColor:e.palette.info.main},googleButton:{marginTop:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2),backgroundColor:e.palette.primary.main},orText:{marginTop:e.spacing(1),marginBottom:e.spacing(1),textAlign:"center"}})}));function _e(e){var t,a=Object.assign({},e),n=De(),c=(null===(t=a.location.state)||void 0===t?void 0:t.referrer)||"/",i=O(),o=r.a.useState(""),s=Object(b.a)(o,2),u=s[0],d=s[1],h=r.a.useState(""),m=Object(b.a)(h,2),x=m[0],f=m[1];return(null===i||void 0===i?void 0:i.currentUser)?Object(p.jsx)(l.a,{to:c}):Object(p.jsxs)(v.a,{className:n.root,children:[Object(p.jsx)(j.a,{variant:"h3",className:n.title,children:"Sign in to FireLearn"}),Object(p.jsxs)("form",{className:n.form,children:[Object(p.jsx)(Ee.a,{value:u,onChange:function(e){d(e.currentTarget.value)},label:"Email",type:"email"}),Object(p.jsx)(Ee.a,{value:x,onChange:function(e){f(e.currentTarget.value)},label:"Password",type:"password"}),Object(p.jsx)(k.a,{className:n.button,type:"submit",variant:"contained",onClick:Object(L.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i,!e.t0){e.next=5;break}return e.next=4,i.login(u,x);case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),children:"Sign in"})]}),Object(p.jsx)(j.a,{className:n.orText,variant:"h6",children:"or"}),Object(p.jsx)(k.a,{variant:"contained",className:n.googleButton,color:"primary",onClick:Object(L.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i,!e.t0){e.next=5;break}return e.next=4,i.signInWithGoogle();case 4:e.t0=e.sent;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),children:"Log in with Google"})]})}var Pe=Object(u.a)((function(e){return Object(Ie.a)({root:{maxWidth:400,margin:"auto",width:"100%",display:"flex",flexDirection:"column",padding:e.spacing(2)},form:{width:"100%",padding:e.spacing(2),display:"flex",flexDirection:"column"},title:{textAlign:"center"},button:{marginTop:e.spacing(2),backgroundColor:e.palette.info.main},googleButton:{marginTop:e.spacing(2),marginLeft:e.spacing(2),marginRight:e.spacing(2),backgroundColor:e.palette.primary.main},orText:{marginTop:e.spacing(1),marginBottom:e.spacing(1),textAlign:"center"}})}));function Fe(){var e=O(),t=r.a.useState(""),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState(""),o=Object(b.a)(i,2),s=o[0],l=o[1],u=Pe(),d=function(){var t=Object(L.a)(z.a.mark((function t(a){var r;return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),t.prev=1,t.t0=e,!t.t0){t.next=7;break}return t.next=6,e.signup(n,s);case 6:t.t0=t.sent;case 7:(null===(r=t.t0)||void 0===r?void 0:r.user)&&(console.log("User created",null===e||void 0===e?void 0:e.currentUser),window.location.href="/"),t.next=14;break;case 11:t.prev=11,t.t1=t.catch(1),console.error(t.t1);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}();return Object(p.jsxs)(v.a,{className:u.root,children:[Object(p.jsx)(j.a,{className:u.title,variant:"h3",children:"Sign up for FireLearn"}),Object(p.jsxs)("form",{className:u.form,onSubmit:d,children:[Object(p.jsx)(Ee.a,{label:"Email",type:"email",value:n,onChange:function(e){c(e.target.value)}}),Object(p.jsx)(Ee.a,{label:"Password",type:"password",value:s,onChange:function(e){l(e.target.value)}}),Object(p.jsx)(k.a,{className:u.button,variant:"contained",type:"submit",children:"Sign up"})]}),Object(p.jsx)(j.a,{className:u.orText,variant:"h6",children:"or"}),Object(p.jsx)(k.a,{className:u.googleButton,variant:"contained",color:"primary",onClick:Object(L.a)(z.a.mark((function t(){return z.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,e.signInWithGoogle();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=console.log("Error");case 7:return t.abrupt("return",t.t0);case 8:case"end":return t.stop()}}),t)}))),children:"Sign up with Google"})]})}var Re=a(44),Be=a(834),We=a(835),Ae=a(836),ze=a(866),Le=a(870),Ue=a(837),He=a(827),Me=a(828),Ve=a(829),Ke=a(830),Ge=a(831),qe=a(832),Je=a(833),Ye=Object(u.a)((function(e){return{list:Object(f.a)(Object(f.a)({},e.mixins.toolbar),{},{borderRadius:0})}})),Ze=function(e){var t=e.currentUser,a=e.handleLogout,n=e.handleClick,r=Ye();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(he.a,{className:r.list,children:[t&&Object(p.jsxs)(pe.a,{button:!0,onClick:function(){return n("/")},children:[Object(p.jsx)(He.a,{children:Object(p.jsx)(Me.a,{})}),Object(p.jsx)(me.a,{primary:"Home"})]}),t&&Object(p.jsxs)(pe.a,{button:!0,onClick:function(){return n("/account")},children:[Object(p.jsx)(He.a,{children:Object(p.jsx)(Ve.a,{})}),Object(p.jsx)(me.a,{primary:"Account"})]}),Object(p.jsxs)(pe.a,{button:!0,onClick:function(){return n("/browse")},children:[Object(p.jsx)(He.a,{children:Object(p.jsx)(Ke.a,{})}),Object(p.jsx)(me.a,{primary:"Browse"})]}),Object(p.jsx)(Z.a,{}),t&&Object(p.jsxs)(pe.a,{button:!0,onClick:a,children:[Object(p.jsx)(He.a,{children:Object(p.jsx)(Ge.a,{})}),Object(p.jsx)(me.a,{primary:"Logout"})]}),!t&&Object(p.jsxs)(pe.a,{button:!0,onClick:function(){return n("/signup")},children:[Object(p.jsx)(He.a,{children:Object(p.jsx)(qe.a,{})}),Object(p.jsx)(me.a,{primary:"Signup"})]}),!t&&Object(p.jsxs)(pe.a,{button:!0,onClick:function(){return n("/login")},children:[Object(p.jsx)(He.a,{children:Object(p.jsx)(Je.a,{})}),Object(p.jsx)(me.a,{primary:"Login"})]})]})})},$e=240,Qe=Object(u.a)((function(e){var t;return{drawer:Object(o.a)({},e.breakpoints.up("sm"),{width:$e,flexShrink:0}),appBar:(t={},Object(o.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat($e,"px)"),marginLeft:$e}),Object(o.a)(t,"borderTopRightRadius",0),Object(o.a)(t,"borderTopLeftRadius",0),t),menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),drawerPaper:{width:$e},title:{color:e.palette.background.paper,fontWeight:e.typography.fontWeightBold,fontFamily:e.typography.fontFamily,fontSize:e.typography.h3.fontSize},toolbar:e.mixins.toolbar}})),Xe=function(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],c=Object(Re.a)(),i=Qe(),o=O(),s=o.logout,u=o.currentUser,d=Object(l.g)().push,h=function(e){d(e)},m=function(){s(),d("/")},x=function(){n(!a)};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Be.a,{position:"static",className:i.appBar,children:Object(p.jsxs)(We.a,{className:i.toolbar,children:[Object(p.jsx)(Ae.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:x,className:i.menuButton,children:Object(p.jsx)(Ue.a,{})}),Object(p.jsx)(j.a,{className:i.title,noWrap:!0,children:"FireLearn"})]})}),Object(p.jsxs)("nav",{className:i.drawer,"aria-label":"menu",children:[Object(p.jsx)(ze.a,{smUp:!0,implementation:"css",children:Object(p.jsx)(Le.a,{variant:"temporary",anchor:"rtl"===c.direction?"right":"left",open:a,onClose:x,classes:{paper:i.drawerPaper},ModalProps:{keepMounted:!0},children:Object(p.jsx)(Ze,{handleClick:h,handleLogout:m,currentUser:u})})}),Object(p.jsx)(ze.a,{xsDown:!0,implementation:"css",children:Object(p.jsx)(Le.a,{classes:{paper:i.drawerPaper},variant:"permanent",open:!0,children:Object(p.jsx)(Ze,{handleClick:h,handleLogout:m,currentUser:u})})})]})]})},et=a(304),tt=a(313),at=a(842),nt=a(157),rt=a(838),ct=a(839),it=a(840),ot=a(841),st=a(159),lt=Object(tt.a)({overrides:{MuiPaper:{root:{backgroundColor:nt.a[50]}},MuiFilledInput:{root:{backgroundColor:nt.a[50]}},MuiCssBaseline:{"@global":{html:{WebkitFontSmoothing:"auto"},body:{minHeight:"100vh",backgroundColor:rt.a[50],display:"flex",flexDirection:"column"},a:{fontStyle:"normal",textDecoration:"none"}}},MuiLink:{root:{fontWeight:"bold",position:"relative",zIndex:10},underlineAlways:{textDecoration:"none","&::after":{content:'""',position:"absolute",left:-1,right:-1,bottom:0,top:"70%",zIndex:-1,backgroundColor:ct.a[50]}}}},palette:{primary:{main:ct.a[700],light:nt.a[50],dark:it.a[900]},secondary:{main:ot.a[200]},info:{main:st.a[500],light:st.a[100]},text:{primary:rt.a[900]},error:{main:it.a[500],light:it.a[50]}},typography:{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',fontSize:15,fontWeightLight:200,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700,button:{fontSize:"1rem",fontWeight:"bold",textTransform:"none"},h1:{fontSize:"2.5rem",fontWeight:"bold",fontStyle:"normal"},h2:{fontSize:"3rem",fontWeight:"bold",fontStyle:"normal",marginBottom:"1rem",background:"linear-gradient(to right, ".concat(st.a[400]," 0%, ").concat(w.a[900]," 100%)"),color:"transparent",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},h3:{color:"transparent",fontSize:"2rem",fontWeight:"bold",background:"linear-gradient(to right, ".concat(st.a[400]," 0%, ").concat(w.a[900]," 100%)"),backgroundClip:"text",WebkitBackgroundClip:"text",fontStyle:"normal",marginBottom:"1rem"},h4:{fontSize:"1.375rem",fontWeight:"normal",marginBottom:"0.5rem",fontStyle:"normal",background:"linear-gradient(to right, ".concat(st.a[400]," 0%, ").concat(w.a[900]," 100%)"),backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",color:"transparent"},h5:{fontSize:"1rem",fontWeight:"bold",fontStyle:"normal"},h6:{fontSize:"0.875rem",fontWeight:"normal",fontStyle:"normal",color:rt.a[700],textTransform:"uppercase",letterSpacing:"0.1em"},subtitle1:{fontSize:"1rem",fontWeight:"bold",fontStyle:"normal"},subtitle2:{fontSize:"0.75rem",fontWeight:"normal",fontStyle:"italic"},body1:{fontSize:"1rem",fontWeight:"normal",color:rt.a[900],fontStyle:"normal"},body2:{fontSize:"0.75rem",fontWeight:"normal",fontStyle:"italic"}}});function ut(e){return Object(p.jsx)(at.a,{theme:lt,children:e.children})}var jt=a(849),dt=a(874),bt=a(847),ht=a(875),pt=(Object(u.a)((function(e){return{root:{padding:e.spacing(3,2),margin:"auto",minHeight:"100vh",width:"100%"},form:{display:"flex",flexDirection:"column",alignItems:"center"}}})),a(868)),mt=a(843),Ot=a(844),xt=Object(u.a)((function(e){return Object(Ie.a)({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}},alert:{flexWrap:"wrap"},deleteButton:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,"&:hover":{backgroundColor:e.palette.error.dark},marginTop:e.spacing(2),marginBottom:e.spacing(2),marginLeft:e.spacing(1)},confirmDeleteButton:{backgroundColor:e.palette.error.main,color:e.palette.error.contrastText,marginLeft:"auto",marginRight:"auto",marginBottom:e.spacing(2)}})}));function ft(){var e=xt(),t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1];return Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)(mt.a,{in:n,children:Object(p.jsxs)(pt.a,{className:e.alert,severity:"error",action:Object(p.jsx)(k.a,{"aria-label":"close",color:"inherit",size:"small",variant:"contained",className:e.deleteButton,onClick:function(){console.log("clicked"),c(!n)},children:"Yes, I'd like to delete my account"}),children:[Object(p.jsx)(Ot.a,{children:"Warning!"}),"You are about to delete your account."," ",Object(p.jsx)("strong",{children:"This action is irreversible."})]})}),Object(p.jsx)(k.a,{className:n?"":e.deleteButton,variant:"contained",color:n?"secondary":"inherit",onClick:function(){c(!n)},children:n?"Close":"Delete Account"})]})}var gt=a(305),vt=a(845),yt=Object(u.a)((function(e){return{root:{display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"flex-end",width:"100%",padding:e.spacing(1)},fileInput:{display:"none"},imagePreview:{width:"100%",height:"100%",objectFit:"cover"}}})),St=function(e){var t=e.setTempImage,a=yt(),n=O(),c=n.currentUser,i=n.updateUserPhoto,o=r.a.useState(!1),s=Object(b.a)(o,2),l=s[0],u=s[1],d=r.a.useState(null),h=Object(b.a)(d,2),m=h[0],x=h[1],f=q().uploadFile,g=r.a.useState(""),v=Object(b.a)(g,2),y=v[0],S=v[1],C=function(){var e=Object(L.a)(z.a.mark((function e(t){var a,n;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),u(!0),m){e.next=5;break}return S("No file selected"),e.abrupt("return");case 5:if(!(m.size>5e6)){e.next=8;break}return S("File must be less than 5MB"),e.abrupt("return");case 8:if(c){e.next=11;break}return S("No user logged in"),e.abrupt("return");case 11:return e.next=13,f({file:m,path:"profileImages/".concat(null===c||void 0===c?void 0:c.uid,"/").concat(m.name)});case 13:if(a=e.sent){e.next=17;break}return S("Error uploading file"),e.abrupt("return");case 17:return e.next=19,Object(gt.a)(a.ref);case 19:return n=e.sent,console.log(n),e.next=23,i(n);case 23:u(!1),window.location.reload();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{onSubmit:C,className:a.root,children:[Object(p.jsx)("input",{id:"file-input",type:"file",accept:"image/*",onChange:function(e){var a,n=null===(a=e.target.files)||void 0===a?void 0:a[0];n&&(x(n),t(URL.createObjectURL(n)))},className:a.fileInput}),Object(p.jsx)("label",{htmlFor:"file-input",children:!m&&Object(p.jsx)(k.a,{variant:"contained",color:"primary",endIcon:Object(p.jsx)(vt.a,{}),component:"span"})}),y&&Object(p.jsx)(j.a,{variant:"h6",color:"error",children:y.toString()}),m&&Object(p.jsxs)(k.a,{variant:"contained",color:"secondary",disabled:l,type:"submit",children:[l&&Object(p.jsx)(I.a,{}),y?"Reupload":"Save"]})]})})},Ct=Object(u.a)((function(e){return{root:{display:"flex",alignItems:"center",flexWrap:"wrap","& div":{margin:e.spacing(1),flex:"100%"}},saveButton:{margin:e.spacing(1),flex:"100%",backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText}}})),kt=function(){var e=Ct(),t=Object(l.g)(),a=O(),n=a.currentUser,c=a.updateUserEmail,i=a.updateUserName,s=n,u=r.a.useState({name:(null===s||void 0===s?void 0:s.displayName)||"",email:(null===s||void 0===s?void 0:s.email)||""}),d=Object(b.a)(u,2),h=d[0],m=d[1],x=r.a.useState(""),g=Object(b.a)(x,2),v=g[0],y=g[1],S=r.a.useState(null),C=Object(b.a)(S,2),w=C[0],N=C[1],T=function(e){m(Object(f.a)(Object(f.a)({},h),{},Object(o.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(L.a)(z.a.mark((function e(t){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(h.email.length<5)){e.next=4;break}return y("Email must be at least 5 characters"),e.abrupt("return");case 4:if(h.email.includes("@")&&h.email.includes(".")){e.next=7;break}return y("Email must be valid"),e.abrupt("return");case 7:return h.email!==(null===s||void 0===s?void 0:s.email)&&c(h.email),h.name!==(null===s||void 0===s?void 0:s.displayName)&&i(h.name),e.prev=9,e.next=12,c(h.email);case 12:return e.next=14,i(h.name);case 14:y(""),I(),e.next=23;break;case 18:e.prev=18,e.t0=e.catch(9),console.error(e.t0),y("Something went wrong. Refreshing..."),setTimeout((function(){window.location.reload()}),2e3);case 23:case"end":return e.stop()}}),e,null,[[9,18]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){N(!0),setTimeout((function(){N(!1),t.push("/account")}),2e3)};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{onSubmit:E,className:e.root,children:[Object(p.jsx)(Ee.a,{variant:"filled",name:"name",label:"Name",value:h.name,onChange:T,margin:"normal"}),Object(p.jsx)(Ee.a,{variant:"filled",name:"email",label:"Email",value:h.email,onChange:T,margin:"normal"}),v.length>0&&Object(p.jsx)(j.a,{variant:"h6",color:"error",children:v}),w&&Object(p.jsx)(pt.a,{severity:"success",children:"Successfully updated"}),Object(p.jsx)(k.a,{className:e.saveButton,disabled:v.length>0||!0===w,type:"submit",children:"Save"})]})})},wt=a(846),Nt=function(e){return U.a.fromDate(new Date(e)).toDate().toLocaleString()},Tt=Object(u.a)((function(e){return{root:{margin:"auto",minHeight:"100vh",width:"100%",maxWidth:"100vw",overflow:"hidden"},card:{marginBottom:e.spacing(3)},cardDanger:{marginBottom:e.spacing(3),backgroundColor:e.palette.error.light},verified:{fontSize:e.typography.h6.fontSize,color:e.palette.success.main},listItem:{padding:e.spacing(1)},editButton:{margin:e.spacing(2,"auto")},media:{height:300},chip:{color:e.palette.primary.contrastText,"& span":{}},check:{color:e.palette.primary.contrastText},none:{color:e.palette.grey[400]}}})),Et=function(e){var t=e.providerData;return Object(p.jsx)(he.a,{children:t.map((function(e,t){return Object(p.jsxs)(pe.a,{component:v.a,children:[Object(p.jsx)(bt.a,{children:Object(p.jsx)(ht.a,{src:e.photoURL||""})}),Object(p.jsx)(me.a,{primary:e.providerId.slice(0,1).toUpperCase()+e.providerId.replace(".com","").slice(1),secondary:e.email,primaryTypographyProps:{variant:"body1"},secondaryTypographyProps:{variant:"h6"}})]},t)}))})},It=function(){var e=Tt(),t=O(),a=t.currentUser,n=a||{},c=n.metadata,i=n.displayName,o=n.email,u=n.emailVerified,h=n.phoneNumber,m=n.photoURL,x=c||{},g=x.creationTime,w=x.lastSignInTime,N=r.a.useState(null),T=Object(b.a)(N,2),E=T[0],I=T[1];if(!(null===t||void 0===t?void 0:t.currentUser))return Object(p.jsx)(l.a,{to:{pathname:"/login",state:{referrer:"/account"}}});var D=Nt(g||""),_=Nt(w||""),P=[{primary:"Name",secondary:i},{primary:"Email",secondary:Object(p.jsxs)(p.Fragment,{children:[o,Object(p.jsx)("br",{}),u?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(dt.a,{icon:Object(p.jsx)(wt.a,{color:"primary"}),color:"primary",variant:"outlined",label:"Verified",size:"small"})}):Object(p.jsx)(dt.a,{label:"Not Verified",color:"secondary"})]})},{primary:"Phone Number",secondary:h||Object(p.jsx)("span",{className:e.none,children:"None"})},{primary:"Created at",secondary:D},{primary:"Last sign in",secondary:_}];return t.currentUser&&Object(p.jsxs)(d.a,{children:[Object(p.jsxs)(v.a,{elevation:0,className:e.card,children:[Object(p.jsx)(y.a,{image:E||m||"",className:e.media,children:Object(p.jsx)(St,{setTempImage:I})}),Object(p.jsxs)(S.a,{children:[Object(p.jsx)(j.a,{align:"center",variant:"h3",children:i}),Object(p.jsx)(j.a,{align:"center",variant:"h5",children:o})]}),Object(p.jsx)(C.a,{children:Object(p.jsx)(k.a,{className:e.editButton,variant:"outlined",component:s.b,to:"/account/edit",children:"Edit info"})})]}),Object(p.jsx)(v.a,{className:e.card,children:Object(p.jsxs)(S.a,{children:[Object(p.jsx)(j.a,{variant:"h3",children:"Info"}),Object(p.jsx)(he.a,{children:P.map((function(t){return Object(p.jsx)(pe.a,{className:e.listItem,children:Object(p.jsx)(me.a,{primaryTypographyProps:{variant:"h6"},secondaryTypographyProps:{variant:"h4"},primary:t.primary,secondary:t.secondary})},t.primary)}))})]})}),Object(p.jsx)(v.a,{elevation:0,className:e.card,children:Object(p.jsxs)(S.a,{children:[Object(p.jsx)(j.a,{variant:"h3",children:"Linked accounts"}),Object(p.jsx)(Et,Object(f.a)({},a))]})}),Object(p.jsxs)(v.a,{component:d.a,className:e.cardDanger,elevation:0,children:[Object(p.jsxs)(S.a,{children:[Object(p.jsx)(j.a,{variant:"h3",color:"error",children:"Danger zone"}),Object(p.jsx)(j.a,{variant:"body1",children:"Actions here are either irreversible or just plain risky. Proceed at your own risk."})]}),Object(p.jsx)(C.a,{children:Object(p.jsx)(ft,{})})]})]})},Dt=function(e){var t=M().getDocument,a=r.a.useState(null),n=Object(b.a)(a,2),c=n[0],i=n[1],o=r.a.useState(!1),s=Object(b.a)(o,2),l=s[0],u=s[1];return r.a.useEffect((function(){u(!0),t("courses/".concat(e)).then((function(e){i(e),console.log(e),u(!1)}))}),[e,t]),{courseData:c,loading:l}},_t=function(e){var t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState(),o=Object(b.a)(i,2),s=o[0],l=o[1],u=M().getDocument;return r.a.useEffect((function(){c(!0),u("lessons/".concat(e)).then((function(e){l(e),c(!1)}))}),[e,u]),{loading:n,lessonData:s}};a(194);function Pt(e){var t=function(e){return e.split(/\s+/).length}(e),a=Math.floor(t/200),n=Math.floor(t%200/(200/60));return"".concat(a," min ").concat(n," sec")}var Ft=a(113);function Rt(e){return e.data.created_at.toDate()>new Date(Date.now()-6048e5)}function Bt(e){return e.data.created_at.toDate()>new Date(Date.now()-864e5)}var Wt=Object(u.a)((function(e){return{root:{padding:e.spacing(2)},heroSubtitle:{color:e.palette.primary.contrastText}}})),At=function(e){var t=e.courseId,a=Object(l.i)().path,n=Wt(),r=Dt(t),c=r.courseData,i=r.loading;return Object(p.jsxs)(p.Fragment,{children:[i&&Object(p.jsx)(I.a,{}),!i&&(null===c||void 0===c?void 0:c.data)&&Object(p.jsxs)(l.d,{children:[Object(p.jsxs)(l.b,{exact:!0,path:a,children:[Object(p.jsxs)(Se,{imagePath:null===c||void 0===c?void 0:c.data.image_path,children:[Object(p.jsx)(j.a,{variant:"h2",children:null===c||void 0===c?void 0:c.data.name}),Object(p.jsx)(j.a,{className:n.heroSubtitle,variant:"h5",children:null===c||void 0===c?void 0:c.data.description})]}),Object(p.jsxs)(d.a,{className:n.root,children:[Object(p.jsx)(j.a,{variant:"h3",children:"Curriculum"}),Object(p.jsx)(ge,{courseId:t})]})]}),Object(p.jsx)(l.b,{path:"".concat(a,"/lessons/:lessonId"),render:function(e){return Object(p.jsx)(be,{courseId:t,lessonId:e.match.params.lessonId,courseName:c.data.name})}})]})]})};a(347).config();var zt,Lt,Ut={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_API_KEY||"AIzaSyAHs3BDMtCrM4EoyIFBfZAhMT37ebkk3Zw",authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_AUTH_DOMAIN||"fire-learn-ffc4e.firebaseapp.com",projectId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_PROJECT_ID||"fire-learn-ffc4e",storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_STORAGE_BUCKET||"fire-learn-ffc4e.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_MESSAGING_SENDER_ID||"936895465833",appId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_APP_ID||"1:936895465833:web:4d22b12e724e5156f095f8",measurementId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).FIREBASE_MEASUREMENT_ID||"G-0L1P008S3H"},Ht=a(872),Mt=a(306),Vt=a.n(Mt),Kt=a(848),Gt=240,qt=Object(u.a)((function(e){return Object(Ie.a)({root:{display:"flex"},drawer:Object(o.a)({},e.breakpoints.up("sm"),{width:Gt,flexShrink:0}),appBar:Object(o.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(Gt,"px)"),marginLeft:Gt}),menuButton:Object(o.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:Gt},content:{flexGrow:1},title:{color:e.palette.background.paper,fontSize:e.typography.h4.fontSize,fontWeight:"bolder",textTransform:"none"}})})),Jt=function(){var e=qt(),t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=function(){c(!n)},o=[{name:"Users",icon:Object(p.jsx)(Ve.a,{}),link:"/admin/users"},{name:"Courses",icon:Object(p.jsx)(Ke.a,{}),link:"/admin/courses"},{name:"Lessons",icon:Object(p.jsx)(Kt.a,{}),link:"/admin/lessons"}],l=Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:e.toolbar}),Object(p.jsxs)(he.a,{children:[o.map((function(e,t){return Object(p.jsxs)(pe.a,{button:!0,component:s.b,to:e.link,children:[Object(p.jsx)(He.a,{children:e.icon}),Object(p.jsx)(me.a,{primary:e.name})]},t)})),Object(p.jsx)(Z.a,{}),Object(p.jsxs)(pe.a,{button:!0,component:s.b,to:"/",children:[Object(p.jsx)(He.a,{children:Object(p.jsx)(Ge.a,{})}),Object(p.jsx)(me.a,{primary:"Exit admin"})]})]})]});return Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)(jt.a,{}),Object(p.jsx)(Be.a,{position:"fixed",className:e.appBar,children:Object(p.jsxs)(We.a,{children:[Object(p.jsx)(Ae.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:i,className:e.menuButton,children:Object(p.jsx)(Vt.a,{})}),Object(p.jsx)(j.a,{variant:"h6",noWrap:!0,className:e.title,children:"FireLearn Admin"})]})}),Object(p.jsxs)("nav",{className:e.drawer,"aria-label":"mailbox folders",children:[Object(p.jsx)(ze.a,{smUp:!0,implementation:"css",children:Object(p.jsx)(Le.a,{variant:"temporary",anchor:"right",open:n,onClose:i,classes:{paper:e.drawerPaper},ModalProps:{keepMounted:!0},children:l})}),Object(p.jsx)(ze.a,{xsDown:!0,implementation:"css",children:Object(p.jsx)(Le.a,{classes:{paper:e.drawerPaper},variant:"permanent",open:!0,children:l})})]})]})},Yt=["title","data","icon","loading","xs","md","lg"],Zt=Object(u.a)((function(e){return{root:{},title:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between","& svg":{marginBottom:e.spacing(1)}},dataBox:{height:"100%"}}})),$t=function(e){var t=e.title,a=e.data,n=(e.icon,e.loading),r=e.xs,c=void 0===r?12:r,i=e.md,o=void 0===i?6:i,s=e.lg,l=void 0===s?3:s,u=Object(g.a)(e,Yt),d=Zt();return Object(p.jsxs)(Ce.a,Object(f.a)(Object(f.a)({item:!0,xs:c,md:o,lg:l},u),{},{children:[Object(p.jsx)(j.a,{variant:"h4",className:d.title,children:Object(p.jsx)("span",{children:t})}),Object(p.jsx)(Y.a,{children:n?Object(p.jsx)(I.a,{}):a})]}))},Qt=["count","label","width","primaryTypographyVariant","secondaryTypographyVariant"],Xt=function(){var e=M().getCollection,t=r.a.useState(0),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState(0),o=Object(b.a)(i,2),s=o[0],l=o[1],u=r.a.useState(0),j=Object(b.a)(u,2),d=j[0],h=j[1],m=r.a.useState(!1),O=Object(b.a)(m,2),x=O[0],f=O[1];return r.a.useEffect((function(){f(!0),e("users").then((function(e){c(e.length),l(e.filter(Rt).length),h(e.filter(Bt).length)})).catch((function(){c(0),l(0),h(0)})).finally((function(){f(!1)}))}),[e]),Object(p.jsx)(p.Fragment,{children:x?Object(p.jsx)(I.a,{}):Object(p.jsx)($t,{data:Object(p.jsxs)(Ce.a,{container:!0,children:[Object(p.jsx)(ea,{count:n,label:"Total Users",width:12,primaryTypographyVariant:"h2",secondaryTypographyVariant:"h4"}),Object(p.jsx)(ea,{count:s,label:"New Weekly Users",width:6,primaryTypographyVariant:"h3",secondaryTypographyVariant:"body1"}),Object(p.jsx)(ea,{count:d,label:"New Daily Users",width:6,primaryTypographyVariant:"h3",secondaryTypographyVariant:"body1"})]}),loading:x,title:"Users",icon:Ve.a})})},ea=function(e){var t=e.count,a=e.label,n=e.width,r=e.primaryTypographyVariant,c=e.secondaryTypographyVariant,i=Object(g.a)(e,Qt);return Object(p.jsxs)(Ce.a,{item:!0,xs:n,className:i.className,children:[Object(p.jsx)(j.a,{align:"center",variant:r,children:"".concat(t.toString())}),Object(p.jsx)(j.a,{align:"center",variant:c,children:a})]})},ta=a(850),aa=a(851),na=a(852),ra=a(853),ca=a(855),ia=a(854),oa=function(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),i=Object(b.a)(c,2),o=i[0],s=i[1],l=M().getCollection;return r.a.useEffect((function(){n(!0),l("enrollments").then((function(e){var t=e.map((function(e){return e.data})),a=Object(Ft.groupBy)(t,"course_id"),n=Object(Ft.sortBy)(a,(function(e){return!e.length})).map((function(e){return{courseId:e[0].course_id,enrollments:e.length}}));s(n)})).catch((function(e){console.error(e)})).finally((function(){n(!1)}))}),[l]),Object(p.jsx)(p.Fragment,{children:a?Object(p.jsx)(I.a,{}):Object(p.jsx)($t,{title:"Popular courses",loading:a,data:Object(p.jsxs)(ta.a,{children:[Object(p.jsxs)(aa.a,{children:[Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"h6",children:"Course"})}),Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"h6",children:"Enrollments"})})]}),Object(p.jsx)(ra.a,{children:o.slice(0,3).map((function(e){return Object(p.jsx)(sa,{courseId:e.courseId,enrollments:e.enrollments},e.courseId)}))})]}),icon:ia.a})})},sa=function(e){var t=e.courseId,a=e.enrollments,n=M().getDocument,c=r.a.useState(null),i=Object(b.a)(c,2),o=i[0],s=i[1],l=r.a.useState(!1),u=Object(b.a)(l,2),d=u[0],h=u[1];return r.a.useEffect((function(){h(!0),n("courses/".concat(t)).then(s).catch((function(e){console.error(e)})).finally((function(){h(!1)}))}),[t,n]),Object(p.jsx)(p.Fragment,{children:d||!(null===o||void 0===o?void 0:o.data)?Object(p.jsx)(I.a,{}):Object(p.jsxs)(ca.a,{children:[Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"h5",children:o.data.name})}),Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"h4",children:a.toString()})})]})})},la=function(){return Object(p.jsxs)(Ce.a,{container:!0,children:[Object(p.jsx)(Xt,{}),Object(p.jsx)(oa,{})]})},ua=a(856),ja=Object(u.a)((function(e){return{input:e.typography.body1,titleInput:e.typography.h4,button:{width:"100%"}}})),da=function(e){var t=e.course,a=(e.url,r.a.useState(Object(f.a)({},t))),n=Object(b.a)(a,2),c=n[0],i=n[1],s=r.a.useState({}),l=Object(b.a)(s,2),u=l[0],j=l[1],d=M().updateDocument,h=r.a.useState(!1),m=Object(b.a)(h,2),O=m[0],x=m[1],g=ja(),v=function(e){if(!O&&c){var t=e.target,a=t.name,n=t.value;i(Object(f.a)(Object(f.a)({},c),{},Object(o.a)({},a,n))),j({})}};return Object(p.jsxs)(p.Fragment,{children:[O&&Object(p.jsx)(I.a,{}),c?Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("form",{onSubmit:function(e){e.preventDefault(),x(!0),0===Object.keys(u).length&&d({path:"courses/".concat(t.id),data:c}).then((function(){console.log("success")})).catch((function(e){console.log(e)})).finally((function(){x(!1)}))},children:Object(p.jsxs)(Ce.a,{component:Y.a,container:!0,children:[Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(Ee.a,{variant:"filled",fullWidth:!0,error:!!u.name,name:"name",color:"primary",value:null===c||void 0===c?void 0:c.data.name,onChange:v,helperText:null===u||void 0===u?void 0:u.name,label:"Name"})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(Ee.a,{variant:"filled",fullWidth:!0,InputProps:{className:g.input},error:!!u.description,multiline:!0,minRows:3,color:"primary",name:"description",value:null===c||void 0===c?void 0:c.data.description,onChange:v,label:"Description",helperText:null===u||void 0===u?void 0:u.description})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(Ee.a,{variant:"filled",fullWidth:!0,InputProps:{className:g.input},error:!!u.organization,color:"primary",name:"organization",value:null===c||void 0===c?void 0:c.data.organization,onChange:v,label:"Organization",helperText:null===u||void 0===u?void 0:u.organization})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(Ee.a,{variant:"filled",fullWidth:!0,InputProps:{className:g.input},error:!!u.author,color:"primary",name:"author",value:null===c||void 0===c?void 0:c.data.author,onChange:v,label:"Author",helperText:null===u||void 0===u?void 0:u.author})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(Ee.a,{variant:"filled",fullWidth:!0,error:!!u.price,type:"number",color:"primary",InputProps:{startAdornment:Object(p.jsx)(ua.a,{position:"start",children:"$"}),className:g.input},label:"Price",name:"price",value:null===c||void 0===c?void 0:c.data.price,onChange:v,helperText:null===u||void 0===u?void 0:u.price})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(k.a,{variant:"contained",color:"primary",type:"submit",className:g.button,children:"Save"})})]})})}):Object(p.jsx)("div",{children:"404"})]})},ba=Object(u.a)((function(e){return{root:{padding:e.spacing(3)},gridItem:{},paper:{height:"100%",padding:0},header:{backgroundColor:e.palette.primary.main,"& *":{color:e.palette.primary.contrastText}}}})),ha=function(e){var t=e.match,a=Object(l.i)().url,n=r.a.useState(null),c=Object(b.a)(n,2),i=c[0],o=c[1],s=M().getDocument,u=r.a.useState(!1),d=Object(b.a)(u,2),h=d[0],m=d[1],O=ba();return r.a.useEffect((function(){m(!0),s("courses/".concat(t.params.courseId)).then(o).finally((function(){return m(!1)}))}),[s,t.params.courseId]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{variant:"h2",children:null===i||void 0===i?void 0:i.data.name}),Object(p.jsx)(Ce.a,{container:!0,spacing:10,className:O.root,children:!h&&i&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(Ce.a,{item:!0,xs:12,lg:4,children:[Object(p.jsx)(j.a,{variant:"h4",children:"Metadata"}),Object(p.jsx)(da,{course:i,url:a})]}),Object(p.jsxs)(Ce.a,{item:!0,xs:12,lg:8,children:[Object(p.jsx)(j.a,{variant:"h4",children:"Lessons"}),Object(p.jsx)(_a,{courseId:i.id})]}),Object(p.jsxs)(Ce.a,{item:!0,xs:12,md:6,lg:3,children:[Object(p.jsx)(j.a,{variant:"h4",children:"Analystics"}),Object(p.jsx)(he.a,{children:Object(p.jsx)(pe.a,{children:Object(p.jsx)(me.a,{primary:"Enrollments",secondary:"0",primaryTypographyProps:{variant:"h6"},secondaryTypographyProps:{variant:"h5"}})})})]})]})})]})},pa=a(858),ma=a(859),Oa=a(860),xa=a(142),fa=a(857),ga=function(){var e=M().addDocument,t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=Object(l.g)().push;return Object(p.jsxs)(F,{onClick:function(){c(!0),e("courses",{createdAt:xa.a.fromDate(new Date)}).then((function(e){c(!1),i("courses/".concat(e.id))}))},variant:"contained",color:"primary",fullWidth:!0,children:[n?Object(p.jsx)(I.a,{size:"small"}):Object(p.jsx)(fa.a,{fontSize:"inherit"}),"Add course"]})},va=Object(u.a)((function(e){return{root:{padding:e.spacing(2),margin:e.spacing(5)},title:{marginBottom:e.spacing(3)},buttonCell:{display:"flex"}}})),ya=function(){var e=va(),t=M().getCollection,a=r.a.useState([]),n=Object(b.a)(a,2),c=n[0],i=n[1],o=r.a.useState(!1),s=Object(b.a)(o,2),u=s[0],d=s[1],h=Object(l.i)().url;return r.a.useEffect((function(){d(!0),t("courses").then(i).catch(console.error).finally((function(){return d(!1)}))}),[t]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{variant:"h3",className:e.title,children:"Courses"}),u?Object(p.jsx)(I.a,{}):Object(p.jsxs)(ta.a,{component:Y.a,children:[Object(p.jsx)(aa.a,{children:["Name","Description","Status","Actions"].map((function(e){return Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"h5",color:"primary",children:e})},e)}))}),Object(p.jsx)(ra.a,{children:c.map((function(t){return Object(p.jsxs)(ca.a,{children:[Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"subtitle1",children:t.data.name})}),Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"body1",children:t.data.description})}),Object(p.jsx)(na.a,{children:t.data.published?Object(p.jsx)(dt.a,{icon:Object(p.jsx)(wt.a,{color:"primary",fontSize:"inherit"}),label:"Published",color:"primary"}):Object(p.jsx)(dt.a,{icon:Object(p.jsx)(pa.a,{color:"disabled",fontSize:"inherit"}),label:"Not published"})}),Object(p.jsx)(na.a,{children:Object(p.jsxs)("div",{className:e.buttonCell,children:[Object(p.jsx)(B,{href:"".concat(h,"/").concat(t.id),children:Object(p.jsx)(ma.a,{color:"primary",fontSize:"small"})}),Object(p.jsx)(B,{onClick:function(){return console.log("delete")},children:Object(p.jsx)(Oa.a,{color:"error",fontSize:"small"})})]})})]},t.data.name)}))})]}),Object(p.jsx)(ga,{})]})},Sa=["courseId"],Ca=function(e){var t=e.courseId,a=Object(g.a)(e,Sa),n=M().addDocument,c=r.a.useState(!1),i=Object(b.a)(c,2),o=i[0],s=i[1],u=Object(l.g)().push;return Object(p.jsxs)(k.a,Object(f.a)(Object(f.a)({onClick:function(){s(!0),n("lessons",{course_id:t,courseId:t}).then((function(e){s(!1),u("/admin/courses/".concat(t,"/lessons/").concat(e.id))}))},variant:"contained",color:"primary",fullWidth:!0},a),{},{children:[o?Object(p.jsx)(I.a,{size:"small"}):Object(p.jsx)(fa.a,{fontSize:"inherit"}),"Add lesson"]}))},ka=["lesson"],wa=Object(u.a)((function(e){return{buttonCell:{display:"flex"}}})),Na=function(e){var t,a,n=e.lesson,r=Object(g.a)(e,ka),c=wa();return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(ca.a,Object(f.a)(Object(f.a)({},r),{},{children:[Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"subtitle1",children:n.data.title})}),Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"body1",children:n.data.subtitle})}),Object(p.jsx)(na.a,{children:n.data.published?Object(p.jsx)(dt.a,{icon:Object(p.jsx)(wt.a,{color:"primary",fontSize:"inherit"}),label:"Published",color:"primary"}):Object(p.jsx)(dt.a,{icon:Object(p.jsx)(pa.a,{color:"disabled",fontSize:"inherit"}),label:"Not published"})}),Object(p.jsxs)(na.a,{className:c.buttonCell,children:[Object(p.jsx)(B,{href:"/admin/courses/".concat((null===(t=n.data)||void 0===t?void 0:t.courseId)||(null===(a=n.data)||void 0===a?void 0:a.course_id),"/lessons/").concat(n.id),children:Object(p.jsx)(ma.a,{fontSize:"small",color:"primary"})}),Object(p.jsx)(k.a,{variant:"text",onClick:function(){return console.log("delete")},children:Object(p.jsx)(Oa.a,{fontSize:"small",color:"error"})})]})]}),n.id)})},Ta=function(e){var t=r.a.useState(!1),a=Object(b.a)(t,2),n=a[0],c=a[1],i=r.a.useState([]),o=Object(b.a)(i,2),s=o[0],l=o[1],u=M().queryDocuments;return r.a.useEffect((function(){return c(!0),u({collectionPath:"lessons",queryParams:["course_id","==",e]}).then(l),c(!1),function(){l([])}}),[e,u]),{loading:n,lessons:s}},Ea=["typographyVariant","value","align","className"],Ia=function(e){var t=e.typographyVariant,a=e.value,n=e.align,r=void 0===n?"center":n,c=e.className,i=Object(g.a)(e,Ea);return Object(p.jsx)(na.a,Object(f.a)(Object(f.a)({align:r,className:c},i),{},{children:Object(p.jsx)(j.a,{color:"primary",variant:t,children:a})}))},Da=Object(u.a)((function(e){return{root:{padding:e.spacing(5)}}})),_a=function(e){var t=e.courseId,a=Object(l.i)(),n=a.url,r=a.path,c=Ta(t),i=c.lessons,o=c.loading,s=Da();return Object(p.jsxs)(p.Fragment,{children:[o?Object(p.jsx)(I.a,{}):Object(p.jsxs)(ta.a,{component:Y.a,className:s.root,children:[Object(p.jsx)(aa.a,{children:Object(p.jsx)(ca.a,{children:["Title","Subtitle","Status","Actions"].map((function(e,t){return Object(p.jsx)(Ia,{typographyVariant:"h5",align:"left",value:e},t)}))})}),Object(p.jsx)(ra.a,{children:i.map((function(e){return Object(p.jsx)(Na,{lesson:e,url:n,path:r},e.id)}))})]}),Object(p.jsx)(Ca,{courseId:t})]})},Pa=a(195),Fa=a.n(Pa),Ra=Object(u.a)((function(e){return{root:{maxWidth:900,display:"flex",flexDirection:"column",justifyContent:"space-between"},paper:{padding:e.spacing(4,5),minHeight:500,fontStyle:"normal",display:"flex",flexDirection:"column",justifyContent:"space-between","& h3":{fontSize:e.typography.h3.fontSize},"& h4":{fontSize:e.typography.h4.fontSize},"& h5":{fontSize:e.typography.h5.fontSize},"& h6":{fontSize:e.typography.h6.fontSize},"& p":{fontSize:e.typography.body1.fontSize}},button:{width:"min-content",margin:e.spacing(2,"auto")}}})),Ba=function(e){var t=e.lessonData,a=e.loading,n=Object(Re.a)(),c=Ra(),i=r.a.useState(t.data.markdown_content||""),o=Object(b.a)(i,2),s=o[0],l=o[1],u=M().updateDocument,h=r.a.useState(!1),m=Object(b.a)(h,2),O=m[0],x=m[1];return Object(p.jsxs)(p.Fragment,{children:[a&&Object(p.jsx)(I.a,{}),!a&&(null===t||void 0===t?void 0:t.data)&&Object(p.jsxs)(d.a,{className:c.root,children:[Object(p.jsx)(j.a,{variant:"h4",children:"Content editor"}),Object(p.jsx)(Y.a,{className:c.paper,children:Object(p.jsx)(Fa.a,{defaultValue:t.data.markdown_content,onChange:function(e){return l(e)},headingsOffset:2,theme:Object(f.a)(Object(f.a)({},Pa.theme),{},{black:n.palette.text.primary,white:n.palette.common.white,primary:n.palette.primary.main,textSecondary:n.palette.text.secondary,almostBlack:n.palette.text.secondary,fontFamily:n.typography.fontFamily||"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen'",fontFamilyMono:"Menlo, Monaco, Consolas, 'Courier New', monospace",fontWeight:400})})}),Object(p.jsx)(k.a,{variant:"contained",disabled:O||a,color:"primary",onClick:function(e){e.preventDefault(),x(!0),s&&u({path:"lessons/".concat(t.id),data:{markdown_content:s,updated_at:U.a.fromDate(new Date),reading_time:Pt(s)}}).then((function(){return console.log("updated")})).catch((function(e){return console.log(e)})).finally((function(){return x(!1)}))},className:c.button,children:O?Object(p.jsx)(I.a,{}):"Save"})]})]})},Wa=a(861),Aa=a(867),za=a(871),La=a(869),Ua=function(e){var t=e.currentValues,a=e.onChange,n=e.label,c=e.placeholder,i=void 0===c?"Choose...":c,o=e.options,s=r.a.useState(t||[]),l=Object(b.a)(s,2)[1];return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(La.a,{multiple:!0,options:o,getOptionLabel:function(e){return e},onChange:function(e,t){l(t),a(e,t)},defaultValue:t||[],renderInput:function(e){return Object(p.jsx)(Ee.a,Object(f.a)(Object(f.a)({},e),{},{variant:"filled",label:n,placeholder:i}))}})})},Ha=a(862);!function(e){e.ENGLISH="ENGLISH",e.SPANISH="SPANISH",e.FRENCH="FRENCH",e.GERMAN="GERMAN",e.ITALIAN="ITALIAN",e.JAPANESE="JAPANESE",e.KOREAN="KOREAN",e.PORTUGUESE="PORTUGUESE"}(zt||(zt={})),function(e){e[e.Math=0]="Math",e[e.Science=1]="Science",e[e.English=2]="English",e[e.History=3]="History",e[e.Geography=4]="Geography",e[e.Biology=5]="Biology",e[e.Chemistry=6]="Chemistry",e[e.Physics=7]="Physics",e[e.Music=8]="Music",e[e.Art=9]="Art",e[e.Literature=10]="Literature",e[e["Computer Science"]=11]="Computer Science",e[e.Business=12]="Business",e[e.Economics=13]="Economics",e[e.Accounting=14]="Accounting",e[e.Health=15]="Health",e[e.Law=16]="Law",e[e.Psychology=17]="Psychology",e[e.Sociology=18]="Sociology",e[e.Philosophy=19]="Philosophy",e[e.Religion=20]="Religion"}(Lt||(Lt={}));var Ma=function(e){var t=e.lessonId,a=e.lessonData,n=M().updateDocument,c=r.a.useState(a),i=Object(b.a)(c,2),s=i[0],l=i[1],u=r.a.useState(!1),h=Object(b.a)(u,2),m=h[0],O=h[1],x=r.a.useState(!1),g=Object(b.a)(x,2),v=g[0],y=g[1],S=r.a.useState(""),C=Object(b.a)(S,2),w=C[0],N=C[1],T=function(){y(!1),N("")},E=function(e){var a=e.target,n=a.name,r=a.value;l({id:t,data:Object(f.a)(Object(f.a)({},null===s||void 0===s?void 0:s.data),{},Object(o.a)({},n,r))})};return Object(p.jsx)(p.Fragment,{children:(null===s||void 0===s?void 0:s.data)?Object(p.jsxs)(d.a,{children:[Object(p.jsx)(j.a,{variant:"h4",children:"Lesson details"}),Object(p.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O(!0),n({path:"lessons/".concat(t),data:Object(f.a)(Object(f.a)({},s.data),{},{published:!0})}).then((function(){N("Lesson updated successfully")})).catch((function(e){console.error(e),N(e.message)})).finally((function(){y(!0),O(!1)}))},children:[Object(p.jsxs)(Ce.a,{container:!0,children:[Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(Ee.a,{label:"Title",onChange:E,value:s.data.title,variant:"filled",name:"title",fullWidth:!0})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(Ee.a,{label:"Subtitle",onChange:E,value:s.data.subtitle,name:"subtitle",variant:"filled",fullWidth:!0})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,children:Object(p.jsx)(Ee.a,{label:"Summary",onChange:E,value:s.data.summary,name:"summary",fullWidth:!0,multiline:!0,variant:"filled",minRows:3})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,md:6,children:Object(p.jsx)(Ua,{options:Object.values(zt),onChange:function(e,a){l({id:t,data:Object(f.a)(Object(f.a)({},null===s||void 0===s?void 0:s.data),{},{languages:a})})},label:"Languages",currentValues:s.data.languages})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,md:6,children:Object(p.jsx)(Ua,{options:Object.values(Lt).map((function(e){return e.toString()})),onChange:function(e,a){l({id:t,data:Object(f.a)(Object(f.a)({},null===s||void 0===s?void 0:s.data),{},{tags:a})})},currentValues:s.data.tags,label:"Tags"})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,md:6,children:Object(p.jsx)(Wa.a,{control:Object(p.jsx)(Aa.a,{color:"primary",name:"published",checked:s.data.published,onChange:function(e){l({id:t,data:Object(f.a)(Object(f.a)({},null===s||void 0===s?void 0:s.data),{},{published:e.target.checked})})}}),label:"Publish now?"})})]}),Object(p.jsxs)(k.a,{variant:"contained",disabled:m,color:"primary",type:"submit",children:[m&&Object(p.jsx)(I.a,{}),s.data.published?"Publish":"Save as draft"]})]}),Object(p.jsx)(za.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:v,autoHideDuration:6e3,onClose:T,message:w,action:Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(k.a,{color:"secondary",size:"small",onClick:T,children:"Close"}),Object(p.jsx)(Ae.a,{size:"small","aria-label":"close",color:"inherit",onClick:T,children:Object(p.jsx)(Ha.a,{fontSize:"small"})})]})})]}):Object(p.jsx)(I.a,{})})},Va=Object(u.a)((function(e){return{root:{padding:e.spacing(3)}}})),Ka=function(e){var t=e.match,a=Va(),n=t.params.lessonId,r=_t(n),c=r.lessonData,i=r.loading;return Object(p.jsxs)(p.Fragment,{children:[i&&Object(p.jsx)(I.a,{}),(null===c||void 0===c?void 0:c.data)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{variant:"h3",children:c.data.title}),Object(p.jsxs)(Ce.a,{container:!0,spacing:5,className:a.root,children:[Object(p.jsx)(Ce.a,{item:!0,xs:12,lg:6,children:Object(p.jsx)(Ma,{lessonData:c,lessonId:n})}),Object(p.jsx)(Ce.a,{item:!0,xs:12,lg:6,children:!i&&c&&Object(p.jsx)(Ba,{lessonData:c,loading:i})})]})]})]})},Ga=function(e){e.match;var t=Object(l.i)().params;return Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"UserEditor"}),Object(p.jsxs)("p",{children:["UserId: ",t.userId]})]})},qa=function(){var e=r.a.useState(!1),t=Object(b.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),i=Object(b.a)(c,2),o=i[0],s=i[1],u=M().getCollection,d=Object(l.i)().url;return r.a.useEffect((function(){n(!0),u("users").then(s).finally((function(){return n(!1)}))}),[u]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(j.a,{variant:"h3",children:"User Manager"}),a?Object(p.jsx)(I.a,{}):Object(p.jsxs)(ta.a,{children:[Object(p.jsx)(aa.a,{children:Object(p.jsx)(ca.a,{children:["Name","ID","Email","Created At","Options"].map((function(e){return Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:"h4",children:e})},e)}))})}),Object(p.jsx)(ra.a,{children:o.map((function(e){return Object(p.jsxs)(ca.a,{children:[[e.data.name,e.id,e.data.email,(t=e.data.created_at,t.toDate().toLocaleDateString())].map((function(e,t){return Object(p.jsx)(na.a,{children:Object(p.jsx)(j.a,{variant:0===t?"subtitle1":"body1",children:e})},t)})),Object(p.jsx)(na.a,{children:Object(p.jsx)(B,{href:"".concat(d,"/").concat(e.id),children:Object(p.jsx)(ma.a,{fontSize:"inherit",color:"secondary"})})})]},e.id);var t}))})]})]})},Ja=Object(u.a)((function(e){return{root:{backgroundColor:"transparent"},breadcrumbs:{padding:e.spacing(1),marginBottom:e.spacing(3),marginTop:0,borderRadius:e.shape.borderRadius},gridItem:{}}})),Ya=function(){var e=O().isAdmin,t=r.a.useState([]),a=Object(b.a)(t,2),n=a[0],c=a[1],i=Object(l.h)().pathname,o=Ja();return r.a.useEffect((function(){var e=i.split("/"),t=e.slice(1).map((function(t,a){return{link:e.slice(0,a+2).join("/"),name:t.toLocaleUpperCase()}}));c(t)}),[i]),e?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Jt,{}),Object(p.jsx)(Ht.a,{className:o.breadcrumbs,children:n.map((function(e,t){return Object(p.jsx)(B,{size:"small",href:e.link,children:e.name},t)}))}),Object(p.jsx)(Y.a,{elevation:0,className:o.root,children:Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin",children:Object(p.jsx)(la,{})}),Object(p.jsxs)(l.b,{path:"/admin/courses",children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin/courses",component:ya}),Object(p.jsxs)(l.b,{path:"/admin/courses/:courseId",children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin/courses/:courseId",component:ha}),Object(p.jsxs)(l.b,{path:"/admin/courses/:courseId/lessons",children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin/courses/:courseId/lessons",render:function(e){return Object(p.jsx)(_a,{courseId:e.match.params.courseId})}}),Object(p.jsx)(l.b,{path:"/admin/courses/:courseId/lessons/:lessonId",component:Ka})]})]})]}),Object(p.jsxs)(l.b,{path:"/admin/users",children:[Object(p.jsx)(l.b,{exact:!0,path:"/admin/users",component:qa}),Object(p.jsx)(l.b,{path:"/admin/users/:userId",component:Ga})]})]})})]}):Object(p.jsx)(l.a,{to:"/"})},Za=Object(u.a)((function(e){var t;return{main:(t={marginBottom:e.spacing(2),flexGrow:1},Object(o.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),Object(o.a)(t,"padding",e.spacing(3)),t),root:{},toolbar:e.mixins.toolbar}}));var $a=function(){var e=Za();return Object(et.a)(Ut),Object(p.jsx)(r.a.Fragment,{children:Object(p.jsx)(x,{children:Object(p.jsx)(J,{children:Object(p.jsx)(V,{children:Object(p.jsxs)(ut,{children:[Object(p.jsx)(jt.a,{}),Object(p.jsx)(s.a,{children:Object(p.jsxs)("div",{className:e.root,children:[Object(p.jsx)(Xe,{}),Object(p.jsx)(d.a,{component:"main",className:e.main,children:Object(p.jsxs)(l.d,{children:[Object(p.jsx)(l.b,{exact:!0,path:"/",component:Te}),Object(p.jsx)(l.b,{path:"/login",component:_e}),Object(p.jsx)(l.b,{path:"/signup",component:Fe}),Object(p.jsx)(l.b,{path:"/account/edit",component:kt}),Object(p.jsx)(l.b,{path:"/account",exact:!0,component:It}),Object(p.jsx)(l.b,{path:"/courses",exact:!0,component:ke}),Object(p.jsx)(l.b,{path:"/courses/:courseId",render:function(e){return Object(p.jsx)(At,{courseId:e.match.params.courseId})}}),Object(p.jsx)(l.b,{path:"/admin",component:Ya}),Object(p.jsx)(l.b,{path:"/browse",component:ke})]})})]})})]})})})})})};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)($a,{})}),document.getElementById("root"))}},[[765,1,2]]]);
//# sourceMappingURL=main.856e02ce.chunk.js.map