{"version":3,"sources":["contexts/authContext.tsx","hooks/useEnrollments.tsx","components/public/CourseCard.tsx","components/buttons/primaryButton.tsx","components/buttons/routerButton.tsx","contexts/firestoreContext.tsx","contexts/storageContext.tsx","theme/markdownComponents.tsx","components/public/LessonContent.tsx","components/public/Lesson.tsx","components/public/LessonListItem.tsx","components/public/LessonList.tsx","components/public/Hero.tsx","routes/browse.tsx","routes/home.tsx","routes/login.tsx","routes/signup.tsx","components/navbar/NavbarDrawer.tsx","components/navbar/index.tsx","theme/index.tsx","components/forms/editEmailSection.tsx","components/forms/deleteAccount.tsx","components/forms/profileImageUpload.tsx","utils/parseTimestamp.ts","routes/account.tsx","hooks/useCourse.tsx","hooks/useStyles.tsx","hooks/useLesson.tsx","hooks/useTabs.ts","routes/course.tsx","components/forms/editAccount.tsx","config/firebaseConfig.js","routes/admin/adminMenu.tsx","components/admin/DashboardItem.tsx","components/admin/TotalUsers.tsx","components/admin/PopularCourses.tsx","routes/admin/dashboard.tsx","components/admin/CourseForm.tsx","components/admin/CourseEditor.tsx","components/admin/AddCourse.tsx","components/admin/CourseTable.tsx","components/admin/AddLesson.tsx","components/admin/LessonRow.tsx","hooks/useCourseLessons.tsx","components/admin/AdminTableCell.tsx","components/admin/LessonTable.tsx","components/admin/MarkdownEditor.tsx","components/admin/LessonMetadataEditor.tsx","components/admin/TagsInput.tsx","components/admin/LessonEditor.tsx","components/admin/UserEditor.tsx","routes/admin/userManager/userTable.tsx","routes/admin/index.tsx","App.tsx","index.tsx"],"names":["AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","auth","getAuth","useEffect","onAuthStateChanged","user","console","log","value","login","email","password","signInWithEmailAndPassword","signup","createUserWithEmailAndPassword","logout","signOut","resetPassword","sendPasswordResetEmail","updateUserEmail","updateEmail","Promise","reject","updateUserPassword","updatePassword","signInWithGoogle","signInWithPopup","GoogleAuthProvider","updateUserName","displayName","updateProfile","updateUserPhoto","photoURL","isAdmin","Provider","useEnrollments","course_id","isLoading","setIsLoading","enrollments","setEnrollments","queryEnrollments","user_id","a","db","getFirestore","enrollmentsRef","collection","q","query","where","limit","getDocs","enrollmentSnapshot","docs","map","doc","data","uid","useStyles","makeStyles","theme","root","padding","position","media","height","content","color","palette","primary","contrastText","expand","transform","marginLeft","transition","transitions","create","duration","shortest","expandOpen","avatar","backgroundColor","red","actions","spacing","dark","paddingTop","bottom","background","CourseCard","course","classes","Card","className","CardMedia","image","image_url","Box","CardContent","Typography","variant","name","description","CardActions","Button","component","Link","to","id","withStyles","borderRadius","border","boxShadow","props","other","clsx","LinkBehavior","ref","href","role","undefined","RouterButton","FirestoreContext","useFirestore","FirestoreProvider","getDocument","path","documentRef","getDoc","snapshot","getDocumentFromReference","collectionPath","addDoc","getCollection","metadata","addDocument","updateDocument","updateDoc","deleteDocument","deleteDoc","queryDocuments","queryParams","collectionRef","getSubCollection","collectionName","collectionItem","subCollectionName","subcollectionRef","getSubCollectionDocument","subCollectionItem","docRef","StorageContext","useStorage","StorageProvider","storage","getStorage","uploadFile","file","storageRef","uploadBytes","contentType","uploadTask","uploadText","text","uploadString","downloadFile","getDownloadURL","downloadURL","markdownComponents","whiteSpace","h1","key","h2","h3","h4","h5","h6","p","underline","strong","pre","minHeight","maxWidth","margin","card","divider","marginTop","marginBottom","LessonContent","lesson","Paper","title","subtitle","Divider","markdown_content","toString","components","unwrapDisallowed","Lesson","lessonId","courseId","courseName","setLesson","then","finally","CircularProgress","ArrowBack","fontSize","LessonListItem","url","index","ListItem","ListItemText","primaryTypographyProps","secondaryTypographyProps","secondary","LessonList","lessons","setLessons","useRouteMatch","catch","error","length","List","display","flexDirection","alignItems","justifyContent","width","breakpoints","down","inset","zIndex","objectFit","box","Hero","imagePath","heroImage","setHeroImage","res","src","alt","Browse","courses","setCourses","Grid","container","item","xs","md","lg","paper","grid","sectionTitle","CourseGrid","firstName","split","Home","createStyles","form","textAlign","button","info","main","googleButton","marginRight","orText","Login","referrer","location","state","setEmail","setPassword","TextField","onChange","event","currentTarget","label","type","onClick","Signup","handleSubmit","preventDefault","userCredential","window","onSubmit","target","list","mixins","toolbar","NavbarDrawer","handleLogout","handleClick","ListItemIcon","Grade","Person","Book","ExitToApp","AssignmentInd","PersonAdd","drawerWidth","drawer","up","flexShrink","appBar","menuButton","drawerPaper","fontWeight","typography","fontWeightBold","fontFamily","Navbar","mobileOpen","setMobileOpen","useTheme","push","useHistory","handleDrawerToggle","AppBar","Toolbar","IconButton","edge","Menu","noWrap","Hidden","smUp","implementation","Drawer","anchor","direction","open","onClose","ModalProps","keepMounted","xsDown","createTheme","overrides","MuiPaper","grey","MuiFilledInput","MuiCssBaseline","html","WebkitFontSmoothing","body","blueGrey","fontStyle","textDecoration","MuiLink","underlineAlways","left","right","top","teal","light","deepOrange","deepPurple","orange","fontWeightLight","fontWeightRegular","fontWeightMedium","textTransform","backgroundClip","WebkitBackgroundClip","WebkitTextFillColor","letterSpacing","subtitle1","subtitle2","body1","body2","ThemeContext","ThemeProvider","alert","flexWrap","deleteButton","confirmDeleteButton","DeleteAccount","setOpen","Collapse","in","Alert","severity","action","size","AlertTitle","fileInput","imagePreview","ProfileImageUpload","setTempImage","setFile","setError","result","downloadUrl","reload","accept","files","URL","createObjectURL","htmlFor","endIcon","CameraAlt","disabled","parseTimestamp","timestampString","Timestamp","fromDate","Date","toDate","toLocaleString","overflow","cardDanger","verified","success","listItem","editButton","chip","check","none","LinkedAccounts","providerData","provider","ListItemAvatar","Avatar","providerId","slice","toUpperCase","replace","Account","emailVerified","phoneNumber","creationTime","lastSignInTime","tempImage","pathname","createdAt","lastSignIn","accountListItems","Chip","icon","Check","elevation","align","useCourse","flexGrow","courseData","setCourseData","useLesson","lessonData","setLessonData","heroSubtitle","Course","exact","image_path","render","routeParams","match","params","flex","saveButton","EditAccount","history","myCurrentUser","values","setValues","setSuccess","handleChange","includes","handleSuccess","setTimeout","require","config","firebaseConfig","apiKey","process","FIREBASE_API_KEY","authDomain","FIREBASE_AUTH_DOMAIN","projectId","FIREBASE_PROJECT_ID","storageBucket","FIREBASE_STORAGE_BUCKET","messagingSenderId","FIREBASE_MESSAGING_SENDER_ID","appId","FIREBASE_APP_ID","measurementId","FIREBASE_MEASUREMENT_ID","AdminMenu","drawerEditItems","link","Drafts","CssBaseline","dataBox","DashboardItem","createdInLastWeek","created_at","now","createdInLastDay","TotalUsers","totalUsers","setTotalUsers","newWeeklyUsers","setNewWeeklyUsers","newDailyUsers","setNewDailyUsers","filter","count","primaryTypographyVariant","secondaryTypographyVariant","UserCount","PopularCourses","courseEnrollments","setCourseEnrollments","enrollmentData","e","grouped","groupBy","popularCourses","sortBy","Table","TableHead","TableCell","TableBody","MultilineChart","PopularCourseItem","setCourse","TableRow","Dashboard","input","titleInput","CourseForm","formData","setFormData","errors","Object","keys","fullWidth","helperText","InputProps","multiline","minRows","organization","author","price","startAdornment","InputAdornment","gridItem","header","CourseEditor","AddCourse","PlusOne","buttonCell","CourseTable","published","NotInterested","Edit","Delete","AddLesson","LessonRow","useCourseLessons","AdminTableCell","typographyVariant","LessonTable","calculateReadingTime","markdown","words","countWordsInMarkdown","minutes","Math","floor","seconds","Languages","Tags","ContentEditor","lessonText","setLessonText","saving","setSaving","defaultValue","headingsOffset","markdownTheme","black","white","common","textSecondary","almostBlack","fontFamilyMono","updated_at","reading_time","err","TagsInput","currentValues","placeholder","options","setTags","Autocomplete","multiple","getOptionLabel","option","renderInput","LessonMetadataEditor","lessonUpdates","setLessonUpdates","snackbarOpen","setSnackbarOpen","message","setMessage","handleSnackbarClose","summary","languages","tag","tags","FormControlLabel","control","Checkbox","checked","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","Fragment","Close","LessonEditor","UserEditor","userId","UserTable","users","setUsers","timestamp","toLocaleDateString","breadcrumbs","shape","Admin","setBreadcrumbs","useLocation","pathArray","breadcrumbsArray","join","toLocaleUpperCase","Breadcrumbs","breadcrumb","routeProps","App","initializeApp","renderProps","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c9734e9a.chunk.js","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport {\n  getAuth,\n  GoogleAuthProvider,\n  createUserWithEmailAndPassword,\n  signInWithPopup,\n  updateProfile,\n  signInWithEmailAndPassword,\n  signOut,\n  sendPasswordResetEmail,\n  updateEmail,\n  updatePassword,\n  onAuthStateChanged,\n  User,\n} from \"@firebase/auth\";\n\n\n\n\n\nconst AuthContext = React.createContext<IAuthContext | null>(null);\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\nexport const AuthProvider: React.FC = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n  const auth = getAuth();\n\n  function signup(email: string, password: string) {\n    return createUserWithEmailAndPassword(auth, email, password);\n  }\n\n  function login(email: string, password: string) {\n    return signInWithEmailAndPassword(auth, email, password);\n  }\n\n  function logout() {\n    return signOut(auth);\n  }\n\n  function resetPassword(email: string) {\n    return sendPasswordResetEmail(auth, email);\n  }\n\n  function updateUserEmail(email: string) {\n    return currentUser\n      ? updateEmail(currentUser, email)\n      : Promise.reject(\"No user logged in\");\n  }\n\n  function updateUserPassword(password: string) {\n    return currentUser\n      ? updatePassword(currentUser, password)\n      : Promise.reject(\"No user logged in\");\n  }\n\n  function signInWithGoogle() {\n    return signInWithPopup(auth, new GoogleAuthProvider());\n  }\n\n  function updateUserName(displayName: string) {\n    return currentUser\n      ? updateProfile(currentUser, { displayName: displayName })\n      : Promise.reject(\"No user logged in\");\n  }\n\n  function updateUserPhoto(photoURL: string) {\n      return currentUser\n      ? updateProfile(currentUser, { photoURL: photoURL })\n      : Promise.reject(\"No user logged in\");\n  }\n\n  function isAdmin() {\n    return currentUser && currentUser.email === \"willkrakow@gmail.com\"\n  }\n\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (user) => {\n      setCurrentUser(user);\n      console.log(user);\n      setLoading(false);\n    });\n    return unsubscribe;\n  }, [auth]);\n\n  const value: IAuthContext = {\n    currentUser,\n    login,\n    signup,\n    logout,\n    resetPassword,\n    updateUserEmail,\n    updateUserPassword,\n    signInWithGoogle,\n    updateUserName,\n    updateUserPhoto,\n    isAdmin,\n  };\n\n  if (loading) {\n    return <div>loading...</div>;\n  }\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nexport default AuthProvider;\n","import React from 'react'\nimport { collection, getDocs, getFirestore, query, where, limit, DocumentData } from 'firebase/firestore'\nimport { useAuth } from '../contexts/authContext';\n\ninterface ReturnProps {\n  enrollments: Array<DocumentData | Enrollment | any | undefined>\n  isLoading: boolean\n}\n\nconst useEnrollments = (course_id?: string): ReturnProps => {\n    const [ isLoading, setIsLoading ] = React.useState(true)\n    const [enrollments, setEnrollments] = React.useState<Enrollment[]>([])\n    const auth = useAuth()\n    \n\n    React.useEffect(() => {\n        setIsLoading(true);\n        const queryEnrollments = async (user_id: string) => {\n          const db = getFirestore();\n          const enrollmentsRef = collection(db, \"enrollments\");\n          const q = course_id\n            ? query(\n                enrollmentsRef,\n                where(\"user_id\", \"==\", user_id),\n                where(\"course_id\", \"==\", course_id),\n                limit(1)\n              )\n            : query(enrollmentsRef, where(\"user_id\", \"==\", user_id));\n          const enrollmentSnapshot = await getDocs(q);\n\n          setEnrollments(enrollmentSnapshot.docs.map((doc) => doc.data()));\n          setIsLoading(false);\n        };\n        auth?.currentUser && queryEnrollments(auth?.currentUser?.uid)\n        return () => {\n            setIsLoading(false);\n        }\n    }, [auth?.currentUser, course_id])\n\n    return {enrollments, isLoading}\n    \n}\n\nexport default useEnrollments","import React from 'react'\nimport { Card, Theme, CardMedia, Typography, makeStyles, CardContent, CardActions, Button, Box} from '@material-ui/core'\nimport { red } from '@material-ui/core/colors'\nimport { Link } from 'react-router-dom'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    padding: 0,\n    position: \"relative\",\n  },\n  media: {\n    height: 532,\n  },\n  content: {\n    \"& p\": {\n      color: theme.palette.primary.contrastText\n    }\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.shortest,\n    }),\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\",\n  },\n  avatar: {\n    backgroundColor: red[500],\n  },\n  actions: {\n    padding: theme.spacing(2),\n  },\n  dark: {\n    padding: theme.spacing(1),\n    paddingTop: theme.spacing(3),\n    position: \"absolute\",\n    bottom: 0,\n    background: `linear-gradient(to bottom,\n        rgba(0,0,0,0.0) 0%,\n        rgba(0,0,0,0.1) 5%,\n        rgba(0,0,0,0.2) 10%,\n          rgba(0,0,0,0.5) 20%,\n        rgba(0,0,0,0.6) 30%,\n        rgba(0,0,0,0.9) 80%)`,\n  },\n}));\n\nconst CourseCard = ({course}: {course: Course}) => {\n    const classes = useStyles()\n    return (\n        <Card className={classes.root}>\n            <CardMedia className={classes.media} image={course?.data.image_url} />\n            <Box className={classes.dark}>\n            <CardContent className={classes.content}>\n                <Typography variant=\"h3\">{course?.data.name}</Typography>\n                <Typography variant=\"body1\">{course?.data.description}</Typography>\n            </CardContent>\n            <CardActions className={classes.actions}>\n                <Button component={Link} to={`/courses/${course?.id}`} variant=\"contained\" color=\"primary\">\n                    View course\n                </Button>\n            </CardActions>\n            </Box>\n        </Card>\n    )\n}\n\nexport default CourseCard","import React from \"react\";\nimport clsx from \"clsx\";\nimport Button from \"@material-ui/core/Button\";\nimport { withStyles, WithStyles } from \"@material-ui/core/styles\";\n\ninterface Props extends WithStyles<typeof styles> {\n  children?: React.ReactNode;\n  className?: string;\n}\n\n// We can inject some CSS into the DOM.\nconst styles = {\n  root: {\n    background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\",\n    borderRadius: 3,\n    border: 0,\n    color: \"white\",\n    height: 48,\n    padding: \"0 30px\",\n    boxShadow: \"0 3px 5px 2px rgba(255, 105, 135, .3)\",\n  },\n};\n\nfunction PrimaryButton(props: Props) {\n  const { classes, children, className, ...other } = props;\n\n  return (\n    <Button className={clsx(classes.root, className)} {...other}>\n      {children || \"class names\"}\n    </Button>\n  );\n}\n\nexport default withStyles(styles)(PrimaryButton);\n","import * as React from \"react\";\nimport {\n  Link as RouterLink,\n  LinkProps as RouterLinkProps,\n} from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\n\nconst LinkBehavior = React.forwardRef<any, Omit<RouterLinkProps, \"to\">>(\n  (props, ref) => <RouterLink ref={ref} to={props.href || \"/\"} {...props} role={undefined} />\n);\n\nexport default function RouterButton(props: React.ComponentPropsWithRef<typeof Button>) {\n  return (\n        <Button variant={props.variant} color={props.color} component={LinkBehavior} children={props.children} href={props.href} />\n  );\n}\n","import React from \"react\";\nimport {\n  getDoc,\n  getFirestore,\n  collection,\n  doc,\n  DocumentReference,\n  DocumentData,\n  addDoc,\n  updateDoc,\n  deleteDoc,\n  query,\n  getDocs,\n  where,\n} from \"firebase/firestore\";\n\n\n\nexport const FirestoreContext = React.createContext<IFirestoreContext | null>(null);\n\nexport const useFirestore = () => React.useContext(FirestoreContext);\n\nexport const FirestoreProvider: React.FC = ({ children }) => {\n  const db = getFirestore();\n\n  const getDocument = async (path: string) => {\n      const documentRef = doc(db, path);\n      const snapshot = await getDoc(documentRef);\n      console.log(snapshot);\n      return {\n          data: snapshot.data(),\n          id: snapshot.id\n      };\n  };\n\n  const getDocumentFromReference = async (documentRef: DocumentReference<DocumentData>) => {\n      const snapshot = await getDoc(documentRef);\n      console.log(snapshot);\n      return {\n          data: snapshot.data(),\n          id: snapshot.id\n      };\n  };\n\n  const getCollection = async (path: string) => {\n      const q = query(collection(db, path));\n      const snapshot = await getDocs(q)\n      return snapshot.docs.map((doc) => {\n          return {\n          id: doc.id,\n          data: doc.data(),\n          path: doc.ref.path,\n          ref: doc.ref,\n          metadata: doc.metadata\n      }});\n  };\n  async function addDocument(\n    collectionPath: string,\n    data: any\n  ) {\n    const snapshot = await addDoc(collection(db, collectionPath), data);\n    return snapshot;\n  };\n\n  const updateDocument = async ({\n    path,\n    data,\n  }: IDocument) => {\n      await updateDoc(doc(db, path), data);\n  };\n\n  const deleteDocument = async (path: string) => {\n      await deleteDoc(doc(db, path));\n  };\n\n  const queryDocuments = async ({collectionPath, queryParams}: IQuery) => {\n      const collectionRef = collection(db, collectionPath);\n      const q = query(collectionRef, where(queryParams[0], queryParams[1], queryParams[2]));\n      const snapshot = await getDocs(q);\n      return snapshot.docs.map((doc) => {\n          return {\n              id: doc.id,\n              data: doc.data(),\n              path: doc.ref.path,\n              ref: doc.ref,\n              metadata: doc.metadata\n          }\n      })\n  }\n\n\n  const getSubCollection = async ({collectionName, collectionItem, subCollectionName }: IGetSubCollection ) => {\n      const subcollectionRef = collection(db, collectionName, collectionItem, subCollectionName);\n      const snapshot = await getDocs(subcollectionRef);\n      return snapshot.docs.map((doc) => {\n          return {\n              id: doc.id,\n              data: doc.data()\n          }\n      })\n  }\n\n  const getSubCollectionDocument = async ({collectionName, collectionItem, subCollectionName, subCollectionItem}: IGetSubCollectionDocument) => {\n      const docRef = doc(db, collectionName, collectionItem, subCollectionName, subCollectionItem);\n      const snapshot = await getDoc(docRef);\n      return snapshot.data();\n  }\n\n  const value = {\n    getDocument,\n    getCollection,\n    addDocument,\n    updateDocument,\n    deleteDocument,\n    queryDocuments,\n    getSubCollection,\n    getSubCollectionDocument,\n    getDocumentFromReference,\n  };\n  return (\n    <FirestoreContext.Provider value={value}>{children}</FirestoreContext.Provider>\n  );\n};\n","import React from 'react'\nimport { getStorage, ref, getDownloadURL, uploadBytes, UploadResult, uploadString } from \"@firebase/storage\";\n\n\nexport const StorageContext= React.createContext<IStorageContext | null>(null)\n\nexport const useStorage = () => React.useContext(StorageContext)\n\n\nexport const StorageProvider: React.FC = ({ children }) => {\n    const storage = getStorage()\n\n    const uploadFile = async ({file, path, image=false}: IUploadFile): Promise<UploadResult> => {\n        const storageRef = ref(storage, path)\n        const uploadTask = await uploadBytes(storageRef, file, {\n            contentType: image ? 'image/jpeg' : 'application/octet-stream'\n        })\n        return uploadTask\n    }\n\n    const uploadText = async (text: string, path: string): Promise<UploadResult> => {\n        const storageRef = ref(storage, path)\n        const uploadTask = await uploadString(storageRef, text)\n        return uploadTask\n    }\n\n    const downloadFile = async (path: string): Promise<string> => {\n        const storageRef = ref(storage, path)\n        const downloadURL = await getDownloadURL(storageRef)\n        return downloadURL\n    }\n\n    const value = {\n        uploadFile,\n        uploadText,\n        downloadFile\n    }\n    return (\n        <StorageContext.Provider value={value} >\n            {children}\n        </StorageContext.Provider>\n    )\n}","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport ReactMarkdown, {  } from 'react-markdown'\nimport { Typography, makeStyles, Link } from '@material-ui/core'\nimport { SpecialComponents } from 'react-markdown/lib/ast-to-react'\nimport { NormalComponents } from 'react-markdown/lib/complex-types'\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    whiteSpace: 'pre-wrap',\n  },\n}))\n\nconst markdownComponents: Partial<\n  Omit<NormalComponents, keyof SpecialComponents> & SpecialComponents\n> = {\n  h1: ({ children, ...props }) => (\n    <Typography component=\"h1\" key={props.key} variant=\"h1\">\n      {children}\n    </Typography>\n  ),\n  h2: ({ children, ...props }) => (\n    <Typography variant=\"h2\" component=\"h2\" key={props.key}>\n      {children}\n    </Typography>\n  ),\n  h3: ({ children, ...props }) => (\n    <Typography key={props.key} component=\"h3\" variant=\"h3\">\n      {children}\n    </Typography>\n  ),\n  h4: ({ children, ...props }) => (\n    <Typography key={props.key} component=\"h4\" variant=\"h4\">\n      {children}\n    </Typography>\n  ),\n  h5: ({ children, ...props }) => (\n    <Typography key={props.key} component=\"h5\" variant=\"h5\">\n      {children}\n    </Typography>\n  ),\n  h6: ({ children, ...props }) => (\n    <Typography component=\"h6\" key={props.key} variant=\"h6\">\n      {children}\n    </Typography>\n  ),\n  p: ({ children, ...props }) => (\n    <Typography component=\"p\" variant=\"body1\" key={props.key}>\n      {children}\n    </Typography>\n  ),\n  a: ({ children, ...props }) => (\n      <Link underline=\"always\" key={props.key} href={props.href}>{children}</Link>\n  ),\n  strong: ({ children, ...props }) => (\n    <strong {...props}>{children}</strong>\n  ),\n  pre: ({ children, ...props }) => (\n    <span {...props}>{children}</span>\n  ),\n};\n\n\n\nexport default markdownComponents","import React from \"react\";\nimport {\n  Paper,\n  Typography,\n  Divider,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport markdownComponents from \"../../theme/markdownComponents\";\nimport ReactMarkdown from \"react-markdown\";\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    minHeight: \"100vh\",\n    padding: theme.spacing(5),\n    maxWidth: 900,\n    margin: \"auto\",\n  },\n  card: {\n    padding: theme.spacing(2),\n  },\n  image: {\n    height: 300,\n  },\n  divider: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(4),\n  },\n}));\n\ninterface Props {\n  lesson: Lesson;\n}\n\nfunction LessonContent({ lesson }: Props) {\n  const classes = useStyles();\n  return (\n    <Paper className={classes.root}>\n      <Typography variant=\"h2\">{lesson.data.title}</Typography>\n      <Typography variant=\"h4\">{lesson.data.subtitle}</Typography>\n      <Divider className={classes.divider} />\n      <ReactMarkdown\n        className={classes.root}\n        children={lesson.data?.markdown_content?.toString() || \" \"}\n        components={markdownComponents}\n        unwrapDisallowed={false}\n      />\n    </Paper>\n  );\n}\n\nexport default LessonContent;\n","import React from \"react\";\nimport {\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { RouterButton } from \"../buttons\";\nimport { ArrowBack } from \"@material-ui/icons\";\nimport { useFirestore } from \"../../contexts\";\nimport LessonContent from './LessonContent'\n\ntype Props = {\n  lessonId: string;\n  courseId: string;\n  courseName: string;\n};\n\n\nfunction Lesson({ lessonId, courseId, courseName }: Props) {\n  const [ lesson, setLesson ] = React.useState<Lesson | null>(null);\n  const {getDocument} = useFirestore() as IFirestoreContext;\n  const [loading, setLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    setLoading(true);\n    getDocument(`lessons/${lessonId}`)\n    .then(setLesson)\n    .finally(() => setLoading(false));\n  }, [lessonId]);\n\n\n  return (\n    <>\n      {loading && <CircularProgress />}\n      {lesson && !loading && (\n        <>\n          <RouterButton\n            color=\"primary\"\n            variant=\"text\"\n            href={`/courses/${courseId}`}\n          >\n            <ArrowBack fontSize=\"inherit\" /> {courseName}\n          </RouterButton>\n          <LessonContent lesson={lesson} />\n        </>\n      )}\n    </>\n  );\n}\n\n\nexport default Lesson;\n\n\n\n","import React from 'react'\nimport { ListItem, ListItemText } from '@material-ui/core'\nimport { Link } from 'react-router-dom'\n\n\ninterface Props {\n  lesson: Lesson;\n  url: string;\n  index: number;\n}\n\nconst LessonListItem = ({ lesson, url, index }: Props) => {\n  return (\n    <ListItem key={lesson.id}>\n      <Link to={`${url}/lessons/${lesson.id}`}>\n        <ListItemText\n          primary={`${(index + 1).toString()}. ${lesson.data.title}`}\n          primaryTypographyProps={{ variant: \"h4\" }}\n          secondaryTypographyProps={{ variant: \"body1\" }}\n          secondary={lesson.data.subtitle}\n        />\n      </Link>\n    </ListItem>\n  );\n};\n\nexport default LessonListItem;\n","import React from 'react'\nimport { CircularProgress, Typography, List, } from '@material-ui/core'\nimport { useFirestore } from '../../contexts/firestoreContext'\nimport { useRouteMatch } from 'react-router'\nimport LessonListItem from './LessonListItem'\n\ninterface Props {\n    courseId: string\n}\n\nconst LessonList = ({courseId}: Props) => {\n    const { queryDocuments } = useFirestore() as IFirestoreContext\n    const [ lessons, setLessons ] = React.useState<Lesson[]>([])\n    const [ loading, setLoading ] = React.useState(true)\n    const { url } = useRouteMatch()\n    React.useEffect(() => {\n        setLoading(true)\n        queryDocuments({collectionPath: `lessons`, queryParams: [\"course_id\", \"==\", courseId] })\n            .then(setLessons)\n            .catch (console.error)\n            .finally(() => setLoading(false))\n\n    }, [courseId, queryDocuments])\n\n    if (loading) {\n        return <CircularProgress />\n    }\n    if (!lessons.length) {\n        return <Typography variant=\"h5\">No lessons found</Typography>\n    }\n    return (\n      <List>\n        {lessons.map((lesson, index) => (\n          <LessonListItem key={index} lesson={lesson} url={url} index={index} />\n        ))}\n      </List>\n    );\n}\n\nexport default LessonList\n\n\n        ","import React from 'react'\nimport {useStorage} from '../../contexts/storageContext'\nimport { Box, makeStyles, Theme } from '@material-ui/core'\n\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    height: \"40vh\",\n    width: \"100%\",\n    position: \"relative\",\n    backgroundColor: \"#fafafa\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"50vh\",\n    },\n    \"&::after\": {\n      content: \"''\",\n      position: \"absolute\",\n      inset: 0,\n      backgroundColor: \"rgba(0,0,0,0.7)\",\n      zIndex: 10,\n    },\n  },\n  image: {\n    position: \"absolute\",\n    inset: 0,\n    width: \"100%\",\n    height: \"100%\",\n    objectFit: \"cover\",\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\",\n      height: \"100%\",\n    },\n    zIndex: 1,\n  },\n  box: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    justifyContent: \"center\",\n    padding: theme.spacing(2),\n    zIndex: 11,\n  },\n}));\n\ninterface Props {\n    imagePath?: string;\n    children: React.ReactNode;\n}\n\nconst Hero: React.FC<Props> = ({imagePath=\"images/site/resize/hero_1000x800.webp\", children}) => {\n  const classes = useStyles();\n  const { downloadFile } = useStorage() as IStorageContext;\n  const [heroImage, setHeroImage] = React.useState<string>(\"\");\n  \n\n  React.useEffect(() => {\n    downloadFile(imagePath).then((res) => {\n      setHeroImage(res);\n      console.log(res);\n    });\n\n    return () => {\n      setHeroImage(\"\");\n    };\n  }, [downloadFile, imagePath]);\n\n  return (\n    <div className={classes.root}>\n      {heroImage && (\n        <img className={classes.image} src={heroImage} alt=\"hero\" />\n      )}\n      <Box className={classes.box}>\n        {children}\n      </Box>\n    </div>\n  );\n};\n\nexport default Hero","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport { DocumentData } from \"firebase/firestore\";\nimport { useFirestore } from \"../contexts\";\nimport { CourseCard } from \"../components/public\";\n\nconst Browse = () => {\n  const { getCollection } = useFirestore() as IFirestoreContext;\n  const [courses, setCourses] = React.useState<\n    Array<DocumentData | Course | any>\n  >([]);\n  const [loading, setLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    setLoading(true);\n\n    getCollection(\"courses\").then((courses) => {\n        setCourses(courses);\n      });\n    setLoading(false);\n    return () => {\n      setCourses([]);\n    };\n  }, [getCollection]);\n\n  if (loading) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <Grid container spacing={3}>\n      {courses.map((course: Course) => (\n        <Grid item xs={12} md={4} lg={3} key={course.id}>\n          <CourseCard course={course} />\n        </Grid>\n      ))}\n    </Grid>\n  );\n};\n\nexport default Browse;\n","import React from \"react\";\nimport { Box, makeStyles, Theme, Typography } from \"@material-ui/core\";\nimport { Redirect, } from \"react-router-dom\";\nimport { useAuth } from \"../contexts/authContext\";\nimport useEnrollments from \"../hooks/useEnrollments\";\nimport { Hero } from \"../components/public\";\nimport Browse from \"./browse\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  paper: {\n    width: \"100%\",\n    height: \"100%\",\n    marginTop: theme.spacing(2),\n  },\n  grid: {\n    width: \"100%\",\n    height: \"100%\",\n    padding: theme.spacing(2),\n    marginTop: theme.spacing(2),\n  },\n  sectionTitle: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst CourseGrid = () => {\n  const classes = useStyles();\n\n  const { enrollments, isLoading } = useEnrollments();\n  const { currentUser } = useAuth() as IAuthContext;\n  const firstName = currentUser.displayName.split(\" \")[0];\n\n  return (\n    <>\n      <Hero>\n        <Typography variant=\"h2\">Welcome back, {firstName}</Typography>\n      </Hero>\n    <Box className={classes.paper}>\n\n      {!isLoading && <Browse />}\n    </Box>\n    </>\n  );\n};\n\nconst Home = () => {\n  const auth = useAuth();\n\n  return auth?.currentUser ? <CourseGrid /> : <Redirect to=\"/login\" />;\n};\nexport default Home;\n","import React from \"react\";\nimport { Button, Card, TextField, Typography } from \"@material-ui/core\";\nimport { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport { Redirect } from \"react-router\";\nimport { useAuth } from \"../contexts/authContext\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      maxWidth: 400,\n      margin: \"auto\",\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      padding: theme.spacing(2),\n    },\n    form: {\n      width: \"100%\",\n      padding: theme.spacing(2),\n      display: \"flex\",\n      flexDirection: \"column\",\n    },\n    title: {\n      textAlign: \"center\",\n    },\n    button: {\n      marginTop: theme.spacing(2),\n      backgroundColor: theme.palette.info.main,\n    },\n    googleButton: {\n      marginTop: theme.spacing(2),\n      marginLeft: theme.spacing(2),\n      marginRight: theme.spacing(2),\n      backgroundColor: theme.palette.primary.main,\n    },\n    orText: {\n      marginTop: theme.spacing(1),\n      marginBottom: theme.spacing(1),\n      textAlign: \"center\",\n    },\n  })\n);\n\nexport default function Login({...props}) {\n  const classes = useStyles();\n  const referrer = props.location.state?.referrer || \"/\";\n  const auth = useAuth()\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  // const [error, setError] = React.useState(\"\");\n\n  const handleChangePassword: React.ChangeEventHandler<HTMLInputElement> = (event) => {\n    setPassword(event.currentTarget.value);\n  };\n\n  const handleChangeEmail: React.ChangeEventHandler<HTMLInputElement> = (event) => {\n    setEmail(event.currentTarget.value);\n  };\n\n\n  return auth?.currentUser ? (\n    <Redirect to={referrer} />\n  ) : (\n    <Card className={classes.root}>\n      <Typography variant=\"h3\" className={classes.title}>\n        Sign in to FireLearn\n      </Typography>\n      <form className={classes.form}>\n        <TextField\n          value={email}\n          onChange={handleChangeEmail}\n          label=\"Email\"\n          type=\"email\"\n        />\n        <TextField\n          value={password}\n          onChange={handleChangePassword}\n          label=\"Password\"\n          type=\"password\"\n        />\n        <Button\n          className={classes.button}\n          type=\"submit\"\n          variant=\"contained\"\n          onClick={async () => auth && await auth.login(email, password)}\n        >\n          Sign in\n        </Button>\n      </form>\n      <Typography className={classes.orText} variant=\"h6\">\n        or\n      </Typography>\n      <Button\n        variant=\"contained\"\n        className={classes.googleButton}\n        color=\"primary\"\n        onClick={async () => auth && await auth.signInWithGoogle()}\n      >\n        Log in with Google\n      </Button>\n    </Card>\n  );\n}\n","import { Button, Card, TextField, Typography } from '@material-ui/core'\nimport React from 'react'\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles'\nimport { useAuth } from '../contexts/authContext'\n\n\nconst useStyles = makeStyles((theme: Theme) => createStyles({\n  root: {\n    maxWidth: 400,\n    margin: \"auto\",\n    width: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    padding: theme.spacing(2),\n  },\n  form: {\n    width: \"100%\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n  title: {\n    textAlign: \"center\",\n  },\n  button: {\n    marginTop: theme.spacing(2),\n    backgroundColor: theme.palette.info.main,\n  },\n  googleButton: {\n    marginTop: theme.spacing(2),\n    marginLeft: theme.spacing(2),\n    marginRight: theme.spacing(2),\n    backgroundColor: theme.palette.primary.main\n  },\n  orText: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n    textAlign: \"center\",\n  }\n}));\nexport default function Signup() {\n  const auth = useAuth()\n  const [email, setEmail] = React.useState('')\n  const [password, setPassword] = React.useState('')\n\n  const classes = useStyles()\n\n  const handleEmailChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setEmail(event.target.value)\n  }\n\n  const handlePasswordChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setPassword(event.target.value)\n  }\n\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault()\n    try {\n      const userCredential = auth && await auth.signup(email, password)\n      if (userCredential?.user) {\n        console.log('User created', auth?.currentUser)\n        window.location.href = '/'\n      }\n    } catch (error) {\n      console.error(error)\n    }\n  }\n  return (\n    <Card className={classes.root}>\n      <Typography className={classes.title} variant=\"h3\">Sign up for FireLearn</Typography>\n      <form className={classes.form} onSubmit={handleSubmit}>\n        <TextField label=\"Email\" type=\"email\" value={email} onChange={handleEmailChange} />\n        <TextField label=\"Password\" type=\"password\" value={password} onChange={handlePasswordChange} />\n        <Button className={classes.button} variant=\"contained\" type=\"submit\">Sign up</Button>\n      </form>\n      <Typography className={classes.orText} variant=\"h6\">or</Typography>\n      <Button className={classes.googleButton} variant=\"contained\" color=\"primary\" onClick={async () => auth ? await auth.signInWithGoogle() : console.log(\"Error\")}>Sign up with Google</Button>\n    </Card>\n  )\n}\n","import React from \"react\";\nimport {\n  List,\n  Divider,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport { User } from \"firebase/auth\";\nimport {\n  Person,\n  ExitToApp,\n  Book,\n  Grade,\n  PersonAdd,\n  AssignmentInd,\n} from \"@material-ui/icons\";\n\ninterface Props {\n  currentUser: User;\n  handleLogout: () => void;\n  handleClick: (path: string) => void;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  list: {\n    ...theme.mixins.toolbar,\n    borderRadius: 0,\n  },\n}));\n\nconst NavbarDrawer = ({ currentUser, handleLogout, handleClick }: Props) => {\n  const classes = useStyles();\n  return (\n    <>\n      <List className={classes.list}>\n        {currentUser && (\n          <ListItem button onClick={() => handleClick(\"/\")}>\n            <ListItemIcon>\n              <Grade />\n            </ListItemIcon>\n            <ListItemText primary=\"Home\" />\n          </ListItem>\n        )}\n        {currentUser && (\n          <ListItem button onClick={() => handleClick(\"/account\")}>\n            <ListItemIcon>\n              <Person />\n            </ListItemIcon>\n            <ListItemText primary=\"Account\" />\n          </ListItem>\n        )}\n        <ListItem button onClick={() => handleClick(\"/browse\")}>\n          <ListItemIcon>\n            <Book />\n          </ListItemIcon>\n          <ListItemText primary=\"Browse\" />\n        </ListItem>\n        <Divider />\n        {currentUser && (\n          <ListItem button onClick={handleLogout}>\n            <ListItemIcon>\n              <ExitToApp />\n            </ListItemIcon>\n            <ListItemText primary=\"Logout\" />\n          </ListItem>\n        )}\n        {!currentUser && (\n          <ListItem button onClick={() => handleClick(\"/signup\")}>\n            <ListItemIcon>\n              <AssignmentInd />\n            </ListItemIcon>\n            <ListItemText primary=\"Signup\" />\n          </ListItem>\n        )}\n        {!currentUser && (\n          <ListItem button onClick={() => handleClick(\"/login\")}>\n            <ListItemIcon>\n              <PersonAdd />\n            </ListItemIcon>\n            <ListItemText primary=\"Login\" />\n          </ListItem>\n        )}\n      </List>\n    </>\n  );\n};\n\n\nexport default NavbarDrawer;","import React from \"react\";\nimport {\n  AppBar,\n  Drawer,\n  Toolbar,\n  IconButton,\n  Typography,\n  makeStyles,\n  Theme,\n  Hidden,\n  useTheme,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router\";\nimport { useAuth } from \"../../contexts\";\nimport { Menu } from '@material-ui/icons'\nimport NavbarDrawer from \"./NavbarDrawer\";\n\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme: Theme) => ({\n  drawer: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n    borderTopRightRadius: 0,\n    borderTopLeftRadius: 0,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  title: {\n    color: theme.palette.background.paper,\n    fontWeight: theme.typography.fontWeightBold,\n    fontFamily: theme.typography.fontFamily,\n    fontSize: theme.typography.h3.fontSize\n  },\n  toolbar: theme.mixins.toolbar,\n}));\nconst Navbar = () => {\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n  const theme = useTheme();\n  const classes = useStyles();\n  const { logout, currentUser } = useAuth() as IAuthContext\n  const { push } = useHistory()\n\n  const handleClick = (path: string) => {\n    push(path)\n  }\n\n  const handleLogout = () => {\n    logout()\n    push(\"/\")\n  }\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  \n\n\n  return (\n    <>\n      <AppBar position=\"static\" className={classes.appBar}>\n        <Toolbar className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"menu\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <Menu />\n          </IconButton>\n          <Typography className={classes.title} noWrap>\n            FireLearn\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <nav className={classes.drawer} aria-label=\"menu\">\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            variant=\"temporary\"\n            anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            <NavbarDrawer\n              handleClick={handleClick}\n              handleLogout={handleLogout}\n              currentUser={currentUser}\n            />\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            <NavbarDrawer\n              handleClick={handleClick}\n              handleLogout={handleLogout}\n              currentUser={currentUser}\n            />\n          </Drawer>\n        </Hidden>\n      </nav>\n    </>\n  );\n};\n\nexport default Navbar;\n","import React from 'react'\nimport { createTheme } from '@material-ui/core/styles'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { orange, blueGrey, deepOrange, deepPurple, red, grey, teal, } from '@material-ui/core/colors'\n\nconst theme = createTheme({\n  overrides: {\n    MuiPaper: {\n      root: {\n        backgroundColor: grey[50],\n      },\n    },\n    MuiFilledInput: {\n      root: {\n        backgroundColor: grey[50],\n      },\n    },\n    MuiCssBaseline: {\n      \"@global\": {\n        html: {\n          WebkitFontSmoothing: \"auto\",\n        },\n        body: {\n          minHeight: \"100vh\",\n          backgroundColor: blueGrey[50],\n          display: \"flex\",\n          flexDirection: \"column\",\n        },\n        a: {\n          fontStyle: \"normal\",\n          textDecoration: \"none\",\n        },\n      },\n    },\n    MuiLink: {\n      root: {\n        fontWeight: \"bold\",\n        position: \"relative\",\n        zIndex: 10,\n      },\n      underlineAlways: {\n        textDecoration: \"none\",\n        \"&::after\": {\n          content: '\"\"',\n          position: \"absolute\",\n          left: -1,\n          right: -1,\n          bottom: 0,\n          top: \"70%\",\n          zIndex: -1,\n          backgroundColor: teal[50],\n        },\n      },\n    },\n  },\n  palette: {\n    primary: {\n      main: teal[700],\n      light: grey[50],\n      dark: deepOrange[900],\n    },\n    secondary: {\n      main: deepPurple[200],\n    },\n    info: {\n      main: orange[500],\n      light: orange[100],\n    },\n    text: {\n      primary: blueGrey[900],\n    },\n    error: {\n      main: deepOrange[500],\n      light: deepOrange[50],\n    },\n  },\n  typography: {\n    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    fontSize: 15,\n    fontWeightLight: 200,\n    fontWeightRegular: 400,\n    fontWeightMedium: 500,\n    fontWeightBold: 700,\n    button: {\n      fontSize: \"1rem\",\n      fontWeight: \"bold\",\n      textTransform: \"none\",\n    },\n    h1: {\n      fontSize: \"2.5rem\",\n      fontWeight: \"bold\",\n      fontStyle: \"normal\",\n    },\n    h2: {\n      fontSize: \"3rem\",\n      fontWeight: \"bold\",\n      fontStyle: \"normal\",\n      marginBottom: \"1rem\",\n      background: `linear-gradient(to right, ${orange[400]} 0%, ${red[900]} 100%)`,\n      color: \"transparent\",\n      backgroundClip: \"text\",\n      WebkitBackgroundClip: \"text\",\n      WebkitTextFillColor: \"transparent\",\n    },\n    h3: {\n      color: \"transparent\",\n      fontSize: \"2rem\",\n      fontWeight: \"bold\",\n      background: `linear-gradient(to right, ${orange[400]} 0%, ${red[900]} 100%)`,\n      backgroundClip: \"text\",\n      WebkitBackgroundClip: \"text\",\n      fontStyle: \"normal\",\n      marginBottom: \"1rem\",\n    },\n    h4: {\n      fontSize: \"1.375rem\",\n      fontWeight: \"normal\",\n      marginBottom: \"0.5rem\",\n      fontStyle: \"normal\",\n      background: `linear-gradient(to right, ${orange[400]} 0%, ${red[900]} 100%)`,\n      backgroundClip: \"text\",\n      WebkitBackgroundClip: \"text\",\n      WebkitTextFillColor: \"transparent\",\n      color: \"transparent\",\n    },\n    h5: {\n      fontSize: \"1rem\",\n      fontWeight: \"bold\",\n      fontStyle: \"normal\",\n    },\n    h6: {\n      fontSize: \"0.875rem\",\n      fontWeight: \"normal\",\n      fontStyle: \"normal\",\n      color: blueGrey[700],\n      textTransform: \"uppercase\",\n      letterSpacing: \"0.1em\",\n    },\n    subtitle1: {\n      fontSize: \"1rem\",\n      fontWeight: \"bold\",\n      fontStyle: \"normal\",\n    },\n    subtitle2: {\n      fontSize: \"0.75rem\",\n      fontWeight: \"normal\",\n      fontStyle: \"italic\",\n    },\n    body1: {\n      fontSize: \"1rem\",\n      fontWeight: \"normal\",\n      color: blueGrey[900],\n      fontStyle: \"normal\",\n    },\n    body2: {\n      fontSize: \"0.75rem\",\n      fontWeight: \"normal\",\n      fontStyle: \"italic\",\n    },\n  },\n});\n\n\nexport default function ThemeContext(props: any) {\n    return (\n        <ThemeProvider theme={theme}>\n            {props.children}\n        </ThemeProvider>\n    )\n}","import React from \"react\";\nimport {\n  Box,\n  Typography,\n  TextField,\n  Button,\n  makeStyles,\n  Theme,\n} from \"@material-ui/core\";\nimport { User } from 'firebase/auth'\n\ninterface IEditEmailSectionProps {\n  auth: IAuthContext;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    padding: theme.spacing(3, 2),\n    margin: \"auto\",\n    minHeight: \"100vh\",\n    width: \"100%\",\n  },\n  form: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n  }\n}));\n\nconst EditEmailSection = ({ auth }: IEditEmailSectionProps) => {\n  const classes = useStyles();\n  const { currentUser, updateUserEmail } = auth;\n  \n  const [error, setError] = React.useState<string | null>(null);\n  const { email } = (currentUser as User) || {};\n\n  const [emailToUpdate, setEmailToUpdate] = React.useState(email);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setEmailToUpdate(event.target.value);\n  };\n\n  const handleSubmit = async () => {\n    if (!emailToUpdate) {\n      setError(\"Email is required\");\n      return;\n    }\n    if (\n      !emailToUpdate.includes(\"@\") ||\n      !emailToUpdate.includes(\".\") ||\n      emailToUpdate.length < 5\n    ) {\n      setError(\"Email is invalid\");\n      return;\n    }\n    try {\n      setError(\"Please enter your full email address\");\n      await updateUserEmail(emailToUpdate);\n      setError(null);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n      setError(\"Something went wrong\");\n    }\n  };\n\n  return (\n    <Box display=\"flex\" flexDirection=\"column\">\n      <Typography variant=\"h6\">Edit Email</Typography>\n      <Typography variant=\"h4\">{error}</Typography>\n      <form className={classes.form} noValidate autoComplete=\"off\">\n        <TextField\n          value={emailToUpdate}\n          onChange={handleChange}\n          label=\"Email\"\n          variant=\"outlined\"\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\n          Submit\n        </Button>\n      </form>\n    </Box>\n  );\n};\n\nexport default EditEmailSection;\n","import React from \"react\";\nimport { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Button from \"@material-ui/core/Button\";\nimport { AlertTitle } from \"@material-ui/lab\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n      \"& > * + *\": {\n        marginTop: theme.spacing(2),\n      },\n    },\n    alert: {\n        flexWrap: \"wrap\",\n    },\n    deleteButton: {\n        backgroundColor: theme.palette.error.main,\n        color: theme.palette.error.contrastText,\n        \"&:hover\": {\n            backgroundColor: theme.palette.error.dark,\n        },\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2),\n        marginLeft: theme.spacing(1),\n    },\n    confirmDeleteButton: {\n        backgroundColor: theme.palette.error.main,\n        color: theme.palette.error.contrastText,\n        marginLeft: \"auto\",\n        marginRight: \"auto\",\n        marginBottom: theme.spacing(2)\n    },\n  })\n);\n\nexport default function DeleteAccount() {\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n\n  const handleClick = () => {\n      console.log(\"clicked\");\n    setOpen(!open);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Collapse in={open}>\n        <Alert\n          className={classes.alert}\n          severity=\"error\"\n          action={\n            <Button\n              aria-label=\"close\"\n              color=\"inherit\"\n              size=\"small\"\n              variant=\"contained\"\n              className={classes.deleteButton}\n              onClick={handleClick}\n            >\n              Yes, I'd like to delete my account\n            </Button>\n          }\n        >\n          <AlertTitle>Warning!</AlertTitle>\n          You are about to delete your account.{\" \"}\n          <strong>This action is irreversible.</strong>\n        </Alert>\n      </Collapse>\n      <Button\n        className={open ? \"\" : classes.deleteButton}\n        variant=\"contained\"\n        color={open ? \"secondary\" : \"inherit\"}\n        onClick={() => {\n          setOpen(!open);\n        }}\n      >\n        {open ? \"Close\" : \"Delete Account\"}\n      </Button>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Typography, Button, makeStyles, CircularProgress } from \"@material-ui/core\";\nimport { useAuth } from \"../../contexts/authContext\";\nimport { useStorage } from \"../../contexts/storageContext\";\nimport { UploadResult, getDownloadURL } from \"firebase/storage\";\nimport { CameraAlt } from \"@material-ui/icons\";\n\ninterface Props {\n  setTempImage: (image: string) => void;\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-end\",\n    justifyContent: \"flex-end\",\n    width: \"100%\",\n    padding: theme.spacing(1),\n  },\n  fileInput: {\n    display: \"none\",\n  },\n  imagePreview: {\n    width: \"100%\",\n    height: \"100%\",\n    objectFit: \"cover\",\n  },\n}));\n\nconst ProfileImageUpload = ({setTempImage}: Props) => {\n  const classes = useStyles();\n  const { currentUser, updateUserPhoto } = useAuth() as IAuthContext;\n  const [loading, setLoading] = React.useState(false);\n  const [file, setFile] = React.useState<File | null>(null);\n  const { uploadFile } = useStorage() as IStorageContext;\n  const [error, setError] = React.useState(\"\");\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      setFile(file);\n      setTempImage(URL.createObjectURL(file));\n    }\n  };\n\n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setLoading(true);\n    // Check for file size and errors\n    if (!file) {\n      setError(\"No file selected\");\n      return; // don't submit\n    }\n    if (file.size > 5000000) {\n      setError(\"File must be less than 5MB\");\n      return; // don't submit\n    }\n    if (!currentUser) {\n      setError(\"No user logged in\");\n      return; // don't submit\n    }\n    // Upload file to Firebase Storage\n    const result: UploadResult =\n      await uploadFile({\n        file: file,\n        path: `profileImages/${currentUser?.uid}/${file.name}`,\n      });\n    if (!result) {\n      setError(\"Error uploading file\");\n      return; // don't submit\n    }\n    // Get the download URL\n    const downloadUrl = await getDownloadURL(result.ref);\n    console.log(downloadUrl)\n    // Update the user's profile image with the URL\n    await updateUserPhoto(downloadUrl);\n\n    setLoading(false);\n    window.location.reload();\n  };\n\n  return (\n    <>\n      <form onSubmit={handleSubmit} className={classes.root}>\n        <input\n        id=\"file-input\"\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleChange}\n        className={classes.fileInput}\n      />\n      <label htmlFor=\"file-input\">\n        {!file && <Button\n          variant=\"contained\"\n          color=\"primary\"\n          endIcon={<CameraAlt />}\n          component=\"span\"\n        />}\n      </label>\n        {error && (\n          <Typography variant=\"h6\" color=\"error\">\n            {error.toString()}\n          </Typography>\n        )}\n        {file && <Button variant=\"contained\" color=\"secondary\" disabled={loading} type=\"submit\">{loading && <CircularProgress />}{error ? \"Reupload\" : \"Save\"}</Button>}\n      </form>\n    </>\n  );\n};\n\nexport default ProfileImageUpload;\n","import { Timestamp } from \"firebase/firestore\";\n\nexport const parseTimestamp = (timestampString: string) => {\n  return Timestamp.fromDate(new Date(timestampString))\n    .toDate()\n    .toLocaleString();\n};\n\nexport const getDateStringFromTimestamp = (timestamp: Timestamp) => {\n  return timestamp.toDate().toLocaleDateString();\n}\n","import React from \"react\";\nimport {\n  makeStyles,\n  Typography,\n  ListItem,\n  ListItemText,\n  List,\n  Box,\n  Button,\n  ListItemAvatar,\n  Card,\n  CardContent,\n  CardActions,\n  Avatar,\n  CardMedia,\n  Chip,\n} from \"@material-ui/core\";\nimport { useAuth } from \"../contexts/authContext\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { User } from \"firebase/auth\";\nimport { DeleteAccount } from \"../components/forms\";\nimport { Check } from \"@material-ui/icons\";\nimport ProfileImageUpload from \"../components/forms/profileImageUpload\";\nimport { parseTimestamp } from \"../utils/parseTimestamp\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: \"auto\",\n    minHeight: \"100vh\",\n    width: \"100%\",\n    maxWidth: \"100vw\",\n    overflow: \"hidden\",\n  },\n  card: {\n    marginBottom: theme.spacing(3),\n  },\n  cardDanger: {\n    marginBottom: theme.spacing(3),\n    backgroundColor: theme.palette.error.light,\n  },\n  verified: {\n    fontSize: theme.typography.h6.fontSize,\n    color: theme.palette.success.main,\n  },\n  listItem: {\n    padding: theme.spacing(1),\n  },\n  editButton: {\n    margin: theme.spacing(2, \"auto\"),\n  },\n  media: {\n    height: 300,\n  },\n  chip: {\n    color: theme.palette.primary.contrastText,\n    \"& span\": {},\n  },\n  check: {\n    color: theme.palette.primary.contrastText,\n  },\n  none: {\n    color: theme.palette.grey[400]\n  }\n}));\n\nconst Account = () => {\n  const classes = useStyles();\n  const auth = useAuth() as IAuthContext;\n  const { currentUser } = auth;\n  const { metadata, displayName, email, emailVerified, phoneNumber, photoURL } =\n    (currentUser as User) || {};\n  const { creationTime, lastSignInTime } = metadata || {};\n  const [tempImage, setTempImage] = React.useState<string | null>(null);\n\n  if (!auth?.currentUser) {\n    return (\n      <Redirect\n        to={{\n          pathname: \"/login\",\n          state: { referrer: \"/account\" },\n        }}\n      />\n    );\n  }\n\n  const createdAt = parseTimestamp(creationTime || \"\");\n  const lastSignIn = parseTimestamp(lastSignInTime || \"\");\n\n  interface IListItem {\n    primary: string;\n    secondary: string | React.ReactNode | React.ReactElement;\n\n  }\n  const accountListItems: IListItem[] = [\n    {\n      primary: \"Name\",\n      secondary: displayName,\n    },\n    {\n      primary: \"Email\",\n      secondary: (\n        <>\n          {email}\n          <br />\n          {emailVerified ? (\n            <>\n              <Chip\n                icon={<Check color=\"primary\" />}\n                color=\"primary\"\n                variant=\"outlined\"\n                label=\"Verified\"\n                size=\"small\"\n              />\n            </>\n          ) : (\n            <Chip label=\"Not Verified\" color=\"secondary\" />\n          )}\n        </>\n      ),\n    },\n    {\n      primary: \"Phone Number\",\n      secondary: phoneNumber || <span className={classes.none}>None</span>,\n    },\n    {\n      primary: \"Created at\",\n      secondary: createdAt,\n    },\n    {\n      primary: \"Last sign in\",\n      secondary: lastSignIn,\n    },\n  ];\n  return (\n    auth.currentUser && (\n      <Box>\n        <Card elevation={0} className={classes.card}>\n          <CardMedia\n            image={tempImage || photoURL || \"\"}\n            className={classes.media}\n          >\n            <ProfileImageUpload setTempImage={setTempImage} />\n          </CardMedia>\n          <CardContent>\n            <Typography align=\"center\" variant=\"h3\">\n              {displayName}\n            </Typography>\n            <Typography align=\"center\" variant=\"h5\">\n              {email}\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <Button\n              className={classes.editButton}\n              variant=\"outlined\"\n              component={Link}\n              to=\"/account/edit\"\n            >\n              Edit info\n            </Button>\n          </CardActions>\n        </Card>\n\n        <Card className={classes.card}>\n          <CardContent>\n            <Typography variant=\"h3\">Info</Typography>\n            <List>\n              {accountListItems.map((item) => (\n                <ListItem key={item.primary} className={classes.listItem}>\n                  <ListItemText\n                  primaryTypographyProps={{\n                    variant: \"h6\",\n                  }}\n                  secondaryTypographyProps={{\n                    variant: \"h4\",\n                  }}\n                  primary={item.primary}\n                  secondary={item.secondary}\n                />\n                </ListItem>\n              ))}\n            </List>\n          </CardContent>\n        </Card>\n        <Card elevation={0} className={classes.card}>\n          <CardContent>\n            <Typography variant=\"h3\">Linked accounts</Typography>\n            <LinkedAccounts {...currentUser} />\n          </CardContent>\n        </Card>\n        <Card component={Box} className={classes.cardDanger} elevation={0}>\n          <CardContent>\n            <Typography variant=\"h3\" color=\"error\">\n              Danger zone\n            </Typography>\n            <Typography variant=\"body1\">\n              Actions here are either irreversible or just plain risky. Proceed\n              at your own risk.\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <DeleteAccount />\n          </CardActions>\n        </Card>\n      </Box>\n    )\n  );\n};\n\nconst LinkedAccounts = (user: User) => {\n  const { providerData } = user;\n  return (\n    <List>\n      {providerData.map((provider, index) => (\n        <ListItem key={index} component={Card}>\n          <ListItemAvatar>\n            <Avatar src={provider.photoURL || \"\"} />\n          </ListItemAvatar>\n          <ListItemText\n            primary={provider.providerId.slice(0, 1).toUpperCase() + provider.providerId.replace(\".com\", \"\").slice(1)}\n            secondary={provider.email}\n            primaryTypographyProps={{\n              variant: \"body1\",\n            }}\n            secondaryTypographyProps={{\n              variant: \"h6\",\n            }}\n          />\n        </ListItem>\n      ))}\n    </List>\n  );\n};\n\nexport default Account;\n","import React from \"react\";\nimport { useFirestore } from \"../contexts\";\n\nconst useCourse = (courseId: string) => {\n  const { getDocument } = useFirestore() as IFirestoreContext;\n  const [courseData, setCourseData] = React.useState<Course | null>(null);\n  const [loading, setLoading] = React.useState<boolean>(false);\n  React.useEffect(() => {\n    setLoading(true);\n    getDocument(`courses/${courseId}`).then((course) => {\n      setCourseData(course);\n      console.log(course);\n      setLoading(false);\n    });\n  }, [courseId, getDocument]);\n\n  return {courseData, loading};\n};\n\nexport default useCourse;\n","import { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      flexGrow: 1,\n    },\n  })\n);\n\nexport default useStyles\n","import React from \"react\";\nimport { useFirestore } from \"../contexts\";\n\nconst useLesson = (lessonId: string) => {\n  const [loading, setLoading] = React.useState(false);\n  const [lessonData, setLessonData] = React.useState<Lesson | null | any>();\n\n  const { getDocument } = useFirestore() as IFirestoreContext;\n\n  React.useEffect(() => {\n    setLoading(true);\n    getDocument(`lessons/${lessonId}`).then((lesson: Lesson) => {\n      setLessonData(lesson);\n      setLoading(false);\n    });\n  }, [lessonId, getDocument]);\n\n  return { loading, lessonData };\n};\n\n\nexport default useLesson;","import React from \"react\";\nimport { a11yProps } from \"../utils\";\n\ninterface IA11yProps {\n  id: string;\n  \"aria-controls\": string;\n}\n\nconst useTabs = (totalTabs: number) => {\n  const [tabValue, setTabValue] = React.useState(0);\n\n  const handleTabChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setTabValue(newValue);\n  };\n\n  const tabArray = Array.from(Array(totalTabs).keys());\n  const ariaProps: IA11yProps[] = tabArray.map((item, index) =>\n    a11yProps(index)\n  );\n\n  return { tabValue, handleTabChange, ariaProps };\n};\n\nexport default useTabs","import React from \"react\";\nimport {\n  Route,\n  Switch,\n  useRouteMatch,\n} from \"react-router-dom\";\nimport { useCourse } from \"../hooks\";\nimport {\n  Box,\n  Typography,\n  makeStyles,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport {LessonList, Hero, Lesson} from \"../components/public\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n  heroSubtitle: {\n    color: theme.palette.primary.contrastText,\n  },\n}));\n\n// const functions = getFunctions()\n// const createEnrollment = httpsCallable(functions, \"createEnrollment\")\n\ntype TParams = {\n  courseId: string;\n};\n\nconst Course = ({ courseId }: TParams) => {\n  const { path } = useRouteMatch();\n  const classes = useStyles();\n  const { courseData, loading } = useCourse(courseId);\n  return (\n    <>\n      {loading && <CircularProgress />}\n      {!loading && courseData?.data && (\n        <Switch>\n          <Route exact path={path}>\n            <Hero imagePath={courseData?.data.image_path}>\n              <Typography variant=\"h2\">{courseData?.data.name}</Typography>\n              <Typography className={classes.heroSubtitle} variant=\"h5\">\n                {courseData?.data.description}\n              </Typography>\n            </Hero>\n            <Box className={classes.root}>\n              <Typography variant=\"h3\">Curriculum</Typography>\n              <LessonList courseId={courseId} />\n            </Box>\n          </Route>\n          <Route\n            path={`${path}/lessons/:lessonId`}\n            render={(routeParams) => {\n              return (\n                <Lesson\n                  courseId={courseId}\n                  lessonId={routeParams.match.params.lessonId}\n                  courseName={courseData.data.name}\n                />\n              );\n            }}\n          />\n        </Switch>\n      )}\n    </>\n  );\n};\n\nexport default Course;\n","import React from \"react\";\nimport { Button, TextField, Typography, makeStyles } from \"@material-ui/core\";\nimport { useAuth } from \"../../contexts/authContext\";\nimport { useHistory } from \"react-router\";\nimport { Alert } from \"@material-ui/lab\";\nimport { User } from \"firebase/auth\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    flexWrap: \"wrap\",\n    \"& div\": {\n      margin: theme.spacing(1),\n      flex: `100%`,\n    },\n  },\n  saveButton: {\n    margin: theme.spacing(1),\n    flex: `100%`,\n    backgroundColor: theme.palette.secondary.main,\n    color: theme.palette.secondary.contrastText,\n  },\n}));\n\nconst EditAccount = () => {\n  const classes = useStyles();\n  const history = useHistory();\n  const { currentUser, updateUserEmail, updateUserName, } = useAuth() as IAuthContext;\n  const myCurrentUser = currentUser as User;\n  const [values, setValues] = React.useState({\n    name: myCurrentUser?.displayName || \"\",\n    email: myCurrentUser?.email || \"\",\n  });\n  const [error, setError] = React.useState(\"\");\n  const [ success, setSuccess ] = React.useState<boolean | null>(null)\n\n  // Update the state with the new values\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setValues({\n      ...values,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  \n  \n  const handleSubmit = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (values.email.length < 5) {\n      setError(\"Email must be at least 5 characters\");\n      return; // don't submit\n    }\n    if (!values.email.includes(\"@\") || !values.email.includes(\".\")) {\n      setError(\"Email must be valid\");\n      return; // don't submit\n    }\n    values.email !== myCurrentUser?.email && updateUserEmail(values.email);\n    values.name !== myCurrentUser?.displayName && updateUserName(values.name);\n    try {\n      await updateUserEmail(values.email);\n      await updateUserName(values.name);\n\n      setError(\"\");\n      handleSuccess();\n    } catch (error) {\n      console.error(error)\n      setError(\"Something went wrong. Refreshing...\")\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    }\n  };\n  const handleSuccess = () => {\n    setSuccess(true);\n    setTimeout(() => {\n      setSuccess(false);\n      history.push(\"/account\");\n    }, 2000);\n  };\n\n  return (\n    <>\n    <form onSubmit={handleSubmit} className={classes.root}>\n      <TextField\n        variant=\"filled\"\n        name=\"name\"\n        label=\"Name\"\n        value={values.name}\n        onChange={handleChange}\n        margin=\"normal\"\n      />\n      <TextField\n        variant=\"filled\"\n        name=\"email\"\n        label=\"Email\"\n        value={values.email}\n        onChange={handleChange}\n        margin=\"normal\"\n      />\n\n      {error.length > 0 && (\n        <Typography variant=\"h6\" color=\"error\">\n          {error}\n        </Typography>\n      )}\n      {success && (\n      <Alert severity=\"success\">\n        Successfully updated\n        </Alert>\n        )}\n      <Button className={classes.saveButton} disabled={error.length > 0 || success === true} type=\"submit\">\n        Save\n      </Button>\n    </form>\n    </>\n  );\n};\n\nexport default EditAccount\n","const dotenv = require('dotenv');\n\ndotenv.config();\n\nconst firebaseConfig = {\n  apiKey: process.env.FIREBASE_API_KEY || \"AIzaSyAHs3BDMtCrM4EoyIFBfZAhMT37ebkk3Zw\",\n  authDomain: process.env.FIREBASE_AUTH_DOMAIN || \"fire-learn-ffc4e.firebaseapp.com\",\n  projectId: process.env.FIREBASE_PROJECT_ID || \"fire-learn-ffc4e\",\n  storageBucket: process.env.FIREBASE_STORAGE_BUCKET || \"fire-learn-ffc4e.appspot.com\",\n  messagingSenderId: process.env.FIREBASE_MESSAGING_SENDER_ID || \"936895465833\",\n  appId: process.env.FIREBASE_APP_ID || \"1:936895465833:web:4d22b12e724e5156f095f8\",\n  measurementId: process.env.FIREBASE_MEASUREMENT_ID || \"G-0L1P008S3H\",\n  }\n\nexport default firebaseConfig","import React from \"react\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  makeStyles,\n  Theme,\n  createStyles,\n} from \"@material-ui/core/styles\";\nimport { Book, Drafts, ExitToApp, Person } from \"@material-ui/icons\";\nimport { Link } from \"react-router-dom\";\nimport { Divider } from \"@material-ui/core\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n    },\n    drawer: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: drawerWidth,\n        flexShrink: 0,\n      },\n    },\n    appBar: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: `calc(100% - ${drawerWidth}px)`,\n        marginLeft: drawerWidth,\n      },\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n      [theme.breakpoints.up(\"sm\")]: {\n        display: \"none\",\n      },\n    },\n    // necessary for content to be below app bar\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n      width: drawerWidth,\n    },\n    content: {\n      flexGrow: 1,\n    },\n    title: {\n      color: theme.palette.background.paper,\n      fontSize: theme.typography.h4.fontSize,\n      fontWeight: \"bolder\",\n      textTransform: \"none\",\n    }\n  })\n);\n\nconst AdminMenu = () => {\n  const classes = useStyles();\n  const [mobileOpen, setMobileOpen] = React.useState(false);\n\n  const handleDrawerToggle = () => {\n    setMobileOpen(!mobileOpen);\n  };\n\n  const drawerEditItems = [\n      {\n          name: \"Users\",\n          icon: <Person />,\n          link: \"/admin/users\",\n      },\n      {\n          name: \"Courses\",\n          icon: <Book />,\n          link: \"/admin/courses\",\n      },\n      {\n          name: \"Lessons\",\n          icon: <Drafts />,\n          link: \"/admin/lessons\",\n      },\n  ]\n\n  const drawer = (\n    <div>\n      <div className={classes.toolbar} />\n      <List>\n        {drawerEditItems.map((item, index) => (\n          <ListItem key={index} button component={Link} to={item.link}>\n            <ListItemIcon>\n              {item.icon}\n            </ListItemIcon>\n            <ListItemText primary={item.name} />\n          </ListItem>\n        ))}\n        <Divider />\n        <ListItem button component={Link} to=\"/\">\n          <ListItemIcon>\n            <ExitToApp />\n          </ListItemIcon>\n          <ListItemText primary=\"Exit admin\" />\n        </ListItem>\n      </List>\n    </div>\n  );\n\n  return (\n    <div className={classes.root}>\n      <CssBaseline />\n      <AppBar position=\"fixed\" className={classes.appBar}>\n        <Toolbar>\n          <IconButton\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            edge=\"start\"\n            onClick={handleDrawerToggle}\n            className={classes.menuButton}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography variant=\"h6\" noWrap className={classes.title}>\n            FireLearn Admin\n          </Typography>\n        </Toolbar>\n      </AppBar>\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\n        {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n        <Hidden smUp implementation=\"css\">\n          <Drawer\n            variant=\"temporary\"\n            anchor={\"right\"}\n            open={mobileOpen}\n            onClose={handleDrawerToggle}\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            ModalProps={{\n              keepMounted: true, // Better open performance on mobile.\n            }}\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n        <Hidden xsDown implementation=\"css\">\n          <Drawer\n            classes={{\n              paper: classes.drawerPaper,\n            }}\n            variant=\"permanent\"\n            open\n          >\n            {drawer}\n          </Drawer>\n        </Hidden>\n      </nav>\n    </div>\n  );\n}\n\nexport default AdminMenu;","import React from \"react\";\nimport {\n  Grid,\n  makeStyles,\n  Theme,\n  Paper,\n  Typography,\n  Box,\n  CircularProgress,\n  GridSize,\n} from \"@material-ui/core\";\nimport { OverridableComponent } from \"@material-ui/core/OverridableComponent\";\nimport { SvgIconTypeMap } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n   \n  },\n  title: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"flex-start\",\n    justifyContent: \"space-between\",\n    \"& svg\": {\n      marginBottom: theme.spacing(1),\n    },\n  },\n  dataBox: {\n      height: \"100%\",\n  },\n}));\n\ninterface Props {\n  title: string;\n  data: React.ReactNode | React.ReactNodeArray;\n  icon: OverridableComponent<SvgIconTypeMap<{}, \"svg\">>;\n  loading: boolean;\n  xs?: boolean | GridSize | undefined;\n  md?: boolean | GridSize | undefined;\n  lg?: boolean | GridSize | undefined;\n}\n\nconst DashboardItem = ({ title, data, icon, loading, xs = 12, md = 6, lg = 3 }: Props) => {\n  const classes = useStyles();\n  return (\n    <Grid item xs={xs} md={md} lg={lg} className={classes.root}>\n      <Typography variant=\"h4\" className={classes.title}>\n        <span>{title}</span>\n      </Typography>\n      <Paper className={classes.root}>\n        <Box className={classes.dataBox}>\n          {loading ? <CircularProgress /> : data}\n        </Box>\n      </Paper>\n    </Grid>\n  );\n};\n\n\nexport default DashboardItem;","import React from \"react\";\nimport {\n  CircularProgress,\n  makeStyles,\n  Grid,\n  Typography,\n  Theme,\n  GridSize,\n  GridProps,\n} from \"@material-ui/core\";\nimport { Person } from \"@material-ui/icons\";\nimport { useFirestore } from \"../../contexts\";\nimport DashboardItem from \"./DashboardItem\";\nimport { Variant } from \"@material-ui/core/styles/createTypography\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  \n}));\n\nfunction createdInLastWeek(user: UserDocument) {\n  return (\n    user.data.created_at.toDate() >\n    new Date(Date.now() - 1000 * 60 * 60 * 24 * 7)\n  );\n}\n\nfunction createdInLastDay(user: UserDocument) {\n  return (\n    user.data.created_at.toDate() > new Date(Date.now() - 1000 * 60 * 60 * 24)\n  );\n}\n\nconst TotalUsers = () => {\n    const classes = useStyles();\n  const { getCollection } = useFirestore() as IFirestoreContext;\n  const [totalUsers, setTotalUsers] = React.useState<number>(0);\n  const [newWeeklyUsers, setNewWeeklyUsers] = React.useState<number>(0);\n  const [newDailyUsers, setNewDailyUsers] = React.useState<number>(0);\n\n  const [loading, setLoading] = React.useState(false);\n  React.useEffect(() => {\n    setLoading(true);\n    getCollection(\"users\")\n      .then((snapshot: Array<any>) => {\n        setTotalUsers(snapshot.length);\n        setNewWeeklyUsers(snapshot.filter(createdInLastWeek).length);\n        setNewDailyUsers(snapshot.filter(createdInLastDay).length);\n      })\n      .catch(() => {\n        setTotalUsers(0);\n        setNewWeeklyUsers(0);\n        setNewDailyUsers(0);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  return (\n    <>\n      {loading ? (\n        <CircularProgress />\n      ) : (\n        <DashboardItem\n          data={\n            <Grid container>\n              <UserCount\n                count={totalUsers}\n                label=\"Total Users\"\n                width={12}\n                primaryTypographyVariant=\"h2\"\n                secondaryTypographyVariant=\"h4\"\n              />\n              <UserCount\n                count={newWeeklyUsers}\n                label=\"New Weekly Users\"\n                width={6}\n                primaryTypographyVariant=\"h3\"\n                secondaryTypographyVariant=\"body1\"\n              />\n              <UserCount\n                count={newDailyUsers}\n                label=\"New Daily Users\"\n                width={6}\n\n                primaryTypographyVariant=\"h3\"\n                secondaryTypographyVariant=\"body1\"\n              />\n            </Grid>\n          }\n          loading={loading}\n          title=\"Users\"\n          icon={Person}\n        />\n      )}\n    </>\n  );\n};\n\nexport default TotalUsers;\n\ninterface IUserCount extends GridProps {\n  count: number;\n  label: string;\n  width: GridSize | boolean | undefined;\n  primaryTypographyVariant: Variant | \"inherit\" | undefined;\n  secondaryTypographyVariant: Variant | \"inherit\" | undefined;\n}\n\n\nconst UserCount = ({\n  count,\n  label,\n  width,\n  primaryTypographyVariant,\n  secondaryTypographyVariant,\n  ...props\n}: IUserCount) => {\n  return (\n    <Grid item xs={width} className={props.className} >\n      <Typography\n        align=\"center\"\n        variant={primaryTypographyVariant}\n      >{`${count.toString()}`}</Typography>\n      <Typography align=\"center\" variant={secondaryTypographyVariant}>\n        {label}\n      </Typography>\n    </Grid>\n  );\n};\n","import {\n  CircularProgress,\n  Table,\n  TableHead,\n  TableCell,\n  Typography,\n  TableRow,\n  TableBody,\n} from \"@material-ui/core\";\nimport React from \"react\";\nimport { useFirestore } from \"../../contexts\";\nimport DashboardItem from \"./DashboardItem\";\nimport { groupBy, sortBy } from \"lodash\";\nimport { MultilineChart } from '@material-ui/icons'\n\nfunction groupAndSortByLength<T extends {data: any}>(collection: T[], key: string) {\n  const collectionDatum = collection.map(item => item.data);\n  const grouped = groupBy(collectionDatum, key);\n  const sorted = sortBy(grouped, (item: any) => !item.length);\n  return sorted.map((e: any) => ({\n      key: e[0][key],\n      \n  }))\n}\n\nconst PopularCourses = () => {\n  const [loading, setLoading] = React.useState(false);\n  const [courseEnrollments, setCourseEnrollments] = React.useState(\n    [] as IPopularCourseItem[]\n  );\n\n  const { getCollection } = useFirestore() as IFirestoreContext;\n\n  React.useEffect(() => {\n    setLoading(true);\n    getCollection(\"enrollments\")\n      .then((enrollments: any[]) => {\n        const enrollmentData = enrollments.map((e) => e.data);\n        const grouped = groupBy(enrollmentData, \"course_id\");\n        const sorted = sortBy(grouped, (e: any) => !e.length);\n        const popularCourses = sorted.map((e: any) => ({\n          courseId: e[0].course_id,\n          enrollments: e.length,\n        }));\n        setCourseEnrollments(popularCourses);\n      })\n      .catch((error) => {\n        console.error(error);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, []);\n\n  return (\n    <>\n      {loading ? (\n        <CircularProgress />\n      ) : (\n        <DashboardItem\n        title=\"Popular courses\"\n        loading={loading}\n        data={<Table>\n            <TableHead>\n                <TableCell><Typography variant=\"h6\">Course</Typography></TableCell>\n                <TableCell><Typography variant=\"h6\">Enrollments</Typography></TableCell>\n                </TableHead>\n                <TableBody>\n            {courseEnrollments.slice(0,3).map((e: IPopularCourseItem) => (\n                <PopularCourseItem\n                key={e.courseId}\n                courseId={e.courseId}\n                enrollments={e.enrollments}\n                />\n                ))}\n                </TableBody>\n          </Table>\n        }\n        icon={MultilineChart}\n        />\n      )}\n    </>\n  );\n};\n\nexport default PopularCourses;\n\ninterface IPopularCourseItem {\n  courseId: string;\n  enrollments: number;\n}\n\nconst PopularCourseItem = ({ courseId, enrollments }: IPopularCourseItem) => {\n  const { getDocument } = useFirestore() as IFirestoreContext;\n  const [course, setCourse] = React.useState<Course | null>(null);\n  const [loading, setLoading] = React.useState(false);\n\n  React.useEffect(() => {\n    setLoading(true);\n    getDocument(`courses/${courseId}`)\n      .then(setCourse)\n      .catch((error) => {\n        console.error(error);\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [courseId]);\n\n  return (\n    <>\n      {loading || !course?.data ? (\n        <CircularProgress />\n      ) : (\n        <TableRow>\n            <TableCell>\n                <Typography variant=\"h5\">{course.data.name}</Typography>\n            </TableCell>\n            <TableCell>\n                <Typography variant=\"h4\">{enrollments.toString()}</Typography>\n            </TableCell>\n        </TableRow>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { Grid } from \"@material-ui/core\";\nimport TotalUsers from \"../../components/admin/TotalUsers\";\nimport PopularCourses from \"../../components/admin/PopularCourses\";\n\nconst Dashboard = () => {\n\n  return (\n    <Grid container>\n      <TotalUsers />\n      <PopularCourses />\n    </Grid>\n  );\n}\n\nexport default Dashboard;","import React from \"react\";\nimport {\n  Button,\n  CircularProgress,\n  Grid,\n  InputAdornment,\n  TextField,\n  makeStyles,\n  Theme,\n  Paper\n} from \"@material-ui/core\";\nimport { useFirestore } from \"../../contexts\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  input: theme.typography.body1,\n  titleInput: theme.typography.h4,\n  button: {\n    width: \"100%\",\n  }\n}))\n\n\ninterface ICourseForm {\n  course: Course;\n  url: string;\n}\n\ninterface IErrors {\n  name?: string;\n  description?: string;\n  price?: string;\n  author?: string;\n  organization?: string;\n}\n\nfunction validate(values: any) {\n  const errors: any = {};\n  if (!values.name) {\n    errors.name = \"Required\";\n  }\n  if (!values.description) {\n    errors.description = \"Required\";\n  }\n  if (!values.price) {\n    errors.price = \"Required\";\n  }\n\n  if (values.price < 0) {\n    errors.price = \"Must be positive\";\n  }\n  return errors;\n}\n\nconst CourseForm = ({ course, url }: ICourseForm) => {\n  const [formData, setFormData] = React.useState<Course>({ ...course });\n  const [errors, setErrors] = React.useState<IErrors>({});\n  const { updateDocument } = useFirestore() as IFirestoreContext\n  const [ loading, setLoading ] = React.useState(false);\n  const classes = useStyles();\n\n\n  \n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (loading || !formData) return;\n    const { name, value } = event.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    setLoading(true);\n    // validate form\n    if (Object.keys(errors).length === 0) {\n      // submit form\n      updateDocument({ path: `courses/${course.id}`, data: formData })\n      .then(() => {\n        console.log(\"success\");\n      })\n      .catch(error => {\n        console.log(error);\n      })\n      .finally(() => {\n        setLoading(false);\n      })\n    }\n  };\n\n  return (\n    <>\n      {loading && <CircularProgress />}\n      {formData ? (\n        <>\n          <form onSubmit={handleSubmit}>\n            <Grid component={Paper} container>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"filled\"\n                  fullWidth\n                  error={!!errors.name}\n                  name=\"name\"\n                  color=\"primary\"\n                  value={formData?.data.name}\n                  onChange={handleChange}\n                  helperText={errors?.name}\n                  label=\"Name\"\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"filled\"\n                  fullWidth\n                  InputProps={{\n                    className: classes.input,\n                  }}\n                  error={!!errors.description}\n                  multiline\n                  minRows={3}\n                  color=\"primary\"\n                  name=\"description\"\n                  value={formData?.data.description}\n                  onChange={handleChange}\n                  label=\"Description\"\n                  helperText={errors?.description}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"filled\"\n                  fullWidth\n                  InputProps={{\n                    className: classes.input,\n                  }}\n                  error={!!errors.organization}\n                  color=\"primary\"\n                  name=\"organization\"\n                  value={formData?.data.organization}\n                  onChange={handleChange}\n                  label=\"Organization\"\n                  helperText={errors?.organization}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"filled\"\n                  fullWidth\n                  InputProps={{\n                    className: classes.input,\n                  }}\n                  error={!!errors.author}\n                  color=\"primary\"\n                  name=\"author\"\n                  value={formData?.data.author}\n                  onChange={handleChange}\n                  label=\"Author\"\n                  helperText={errors?.author}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <TextField\n                  variant=\"filled\"\n                  fullWidth\n                  error={!!errors.price}\n                  type=\"number\"\n                  color=\"primary\"\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">$</InputAdornment>\n                    ),\n                    className: classes.input,\n                  }}\n                  label=\"Price\"\n                  name=\"price\"\n                  value={formData?.data.price}\n                  onChange={handleChange}\n                  helperText={errors?.price}\n                />\n              </Grid>\n              <Grid item xs={12} >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  type=\"submit\"\n                  className={classes.button}\n                >\n                  Save\n                </Button>\n              </Grid>\n            </Grid>\n          </form>\n        </>\n      ) : (\n        <div>404</div>\n      )}\n    </>\n  );\n};\n\nexport default CourseForm;\n","import React from \"react\";\nimport { RouteComponentProps, useRouteMatch } from \"react-router\";\nimport { useFirestore } from \"../../contexts\";\nimport CourseForm from \"./CourseForm\";\nimport {\n  Grid,\n  List,\n  ListItemText,\n  ListItem,\n  makeStyles,\n  Theme,\n  Typography,\n} from \"@material-ui/core\";\nimport { LessonTable } from \".\";\n\ninterface TParams {\n  courseId: string;\n}\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    padding: theme.spacing(3),\n  },\n  gridItem: {\n  },\n  paper: {\n    height: \"100%\",\n    padding: 0,\n  },\n  header: {\n    backgroundColor: theme.palette.primary.main,\n    \"& *\": {\n      color: theme.palette.primary.contrastText,\n    }\n  }\n}))\n\nconst CourseEditor = ({ match }: RouteComponentProps<TParams>) => {\n  const { url } = useRouteMatch();\n  const [course, setCourse] = React.useState<Course | null>(null);\n  const { getDocument } = useFirestore() as IFirestoreContext;\n  const [loading, setLoading] = React.useState(false);\n  \n  const classes = useStyles();\n  React.useEffect(() => {\n    setLoading(true);\n    getDocument(`courses/${match.params.courseId}`)\n      .then(setCourse)\n      .finally(() => setLoading(false));\n  }, [getDocument, match.params.courseId]);\n\n  return (\n    <>\n      <Typography variant=\"h2\">{course?.data.name}</Typography>\n      <Grid container spacing={10} className={classes.root}>\n        {!loading && course && (\n          <>\n            <Grid item xs={12} lg={4}>\n              <Typography variant=\"h4\">Metadata</Typography>\n              <CourseForm course={course} url={url} />\n            </Grid>\n            <Grid item xs={12} lg={8}>\n              <Typography variant=\"h4\">Lessons</Typography>\n              <LessonTable courseId={course.id} />\n            </Grid>\n            <Grid item xs={12} md={6} lg={3}>\n              <Typography variant=\"h4\">Analystics</Typography>\n              <List>\n                <ListItem>\n                  <ListItemText\n                    primary=\"Enrollments\"\n                    secondary=\"0\"\n                    primaryTypographyProps={{ variant: \"h6\" }}\n                    secondaryTypographyProps={{ variant: \"h5\" }}\n                  />\n                </ListItem>\n              </List>\n            </Grid>\n          </>\n        )}\n      </Grid>\n    </>\n  );\n};\n\nexport default CourseEditor;\n","import React from \"react\";\nimport { Button, CircularProgress } from \"@material-ui/core\";\nimport { useFirestore } from \"../../contexts/firestoreContext\";\nimport { useHistory } from \"react-router\";\nimport { DocumentData, DocumentReference, Timestamp } from \"@firebase/firestore\";\nimport { PlusOne } from \"@material-ui/icons\";\n\nconst AddCourse = () => {\n  const { addDocument } = useFirestore() as IFirestoreContext;\n  const [loading, setLoading] = React.useState(false);\n  const { push } = useHistory();\n\n  const handleNewCourse = () => {\n    setLoading(true);\n    addDocument(\"courses\", {createdAt: Timestamp.fromDate(new Date())}).then(\n      (ref: DocumentReference<DocumentData>) => {\n        setLoading(false);\n        push(`courses/${ref.id}`);\n      }\n    );\n  };\n\n  return (\n    <Button\n      onClick={handleNewCourse}\n      variant=\"contained\"\n      color=\"primary\"\n      fullWidth\n    >\n      {loading ? (\n        <CircularProgress size=\"small\" />\n      ) : (\n        <PlusOne fontSize=\"inherit\" />\n      )}\n      Add course\n    </Button>\n  );\n};\n\nexport default AddCourse;\n","import React from \"react\";\nimport {\n  Table,\n  TableHead,\n  TableBody,\n  TableCell,\n  TableRow,\n  Typography,\n  Chip,\n  Paper,\n  makeStyles,\n  CircularProgress,\n  Theme,\n} from \"@material-ui/core\";\nimport { useFirestore } from \"../../contexts\";\nimport { Check, Delete, Edit, NotInterested } from \"@material-ui/icons\";\nimport { RouterButton } from \"../buttons\";\nimport { useRouteMatch } from \"react-router\";\nimport { Link } from \"react-router-dom\";\nimport AddCourse from \"./AddCourse\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    padding: theme.spacing(2),\n    margin: theme.spacing(5),\n  },\n  title: {\n    marginBottom: theme.spacing(3),\n  },\n  buttonCell: {\n    display: \"flex\",\n  }\n  }));\n\nconst CourseTable = () => {\n  const classes = useStyles();\n  const { getCollection } = useFirestore() as IFirestoreContext;\n  const [courses, setCourses] = React.useState<Course[]>([]);\n  const [loading, setLoading] = React.useState(false);\n  const { url } = useRouteMatch();\n\n  React.useEffect(() => {\n    setLoading(true);\n    getCollection(\"courses\")\n      .then(setCourses)\n      .catch(console.error)\n      .finally(() => setLoading(false));\n  }, [getCollection]);\n\n  return (\n    <>\n      <Typography variant=\"h3\" className={classes.title}>Courses</Typography>\n      {loading ? (\n        <CircularProgress />\n      ) : (\n        <Table component={Paper}>\n          <TableHead>\n            {[\"Name\", \"Description\", \"Status\", \"Actions\"].map((label) => (\n              <TableCell key={label}>\n                <Typography variant=\"h5\" color=\"primary\">{label}</Typography>\n              </TableCell>\n            ))}\n          </TableHead>\n          <TableBody>\n            {courses.map((course) => (\n              <TableRow key={course.data.name}>\n                <TableCell>\n                  <Typography variant=\"subtitle1\">\n                    {course.data.name}\n                  </Typography>\n                </TableCell>\n                <TableCell>\n                  <Typography variant=\"body1\">\n                    {course.data.description}\n                  </Typography>\n                </TableCell>\n                <TableCell>\n                  {course.data.published ? (\n                    <Chip\n                      icon={<Check color=\"primary\" fontSize=\"inherit\" />}\n                      label=\"Published\"\n                      color=\"primary\"\n                    />\n                  ) : (\n                    <Chip\n                      icon={\n                        <NotInterested color=\"disabled\" fontSize=\"inherit\" />\n                      }\n                      label=\"Not published\"\n                    />\n                  )}\n                </TableCell>\n                <TableCell>\n                  <div className={classes.buttonCell}>\n                  <RouterButton\n                    href={`${url}/${course.id}`}\n                  >\n                    <Edit color=\"primary\" fontSize=\"small\" />\n                  </RouterButton>\n                  <RouterButton onClick={() => console.log(\"delete\")}>\n                    <Delete color=\"error\" fontSize=\"small\" />\n                  </RouterButton>\n                  </div>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n      <AddCourse />\n    </>\n  );\n};\n\nexport default CourseTable;\n","import React from 'react'\nimport { Button, CircularProgress } from '@material-ui/core'\nimport { useFirestore } from '../../contexts/firestoreContext'\nimport { useHistory } from 'react-router'\nimport { DocumentData, DocumentReference } from \"@firebase/firestore\";\nimport { PlusOne } from '@material-ui/icons';\n\n\ninterface Props {\n    courseId: string\n}\n\nconst AddLesson = ({ courseId }: Props) => {\n    const { addDocument } = useFirestore() as IFirestoreContext\n    const [ loading, setLoading ] = React.useState(false)\n    const { push } = useHistory()\n    const handleNewLesson = () => {\n    setLoading(true);\n    addDocument('lessons', { course_id: courseId, courseId: courseId })\n      .then((ref: DocumentReference<DocumentData>) => {\n        setLoading(false);\n        push(`/admin/courses/${courseId}/lessons/${ref.id}`);\n      })\n  }\n\n    return (\n        <Button onClick={handleNewLesson} variant=\"contained\" color=\"primary\" fullWidth>\n            {loading ? <CircularProgress size=\"small\" /> : <PlusOne fontSize=\"inherit\" />}\n            Add lesson\n        </Button>\n    )\n}\n\nexport default AddLesson","import React from \"react\";\nimport { TableRow, Chip, TableCell, Typography, Button, makeStyles, Theme } from \"@material-ui/core\";\nimport { RouterButton } from \"../../components/buttons\";\nimport { Check, Delete, Edit, NotInterested } from \"@material-ui/icons\";\n\n// Table row properties\n//     title\n//     subtitle\n//     courses\n//     options\n\ninterface Props {\n  lesson: Lesson;\n  url?: string;\n  path?: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  buttonCell: {\n    display: \"flex\"\n  }\n}));\n\n\n\nconst LessonRow = ({ lesson }: Props) => {\n  const classes = useStyles();\n  return (\n    <>\n      <TableRow key={lesson.id}>\n        <TableCell><Typography variant=\"subtitle1\">{lesson.data.title}</Typography></TableCell>\n        <TableCell><Typography variant=\"body1\">{lesson.data.subtitle}</Typography></TableCell>\n        <TableCell>\n          {lesson.data.published ? (\n            <Chip\n              icon={<Check color=\"primary\" fontSize=\"inherit\" />}\n              label=\"Published\"\n              color=\"primary\"\n            />\n          ) : (\n            <Chip\n              icon={<NotInterested color=\"disabled\" fontSize=\"inherit\" />}\n              label=\"Not published\"\n\n            />\n          )}\n        </TableCell>\n        <TableCell className={classes.buttonCell}>\n          <RouterButton href={`/admin/courses/${lesson.data?.courseId || lesson.data?.course_id}/lessons/${lesson.id}`}><Edit fontSize=\"small\" color=\"primary\" /></RouterButton>\n          <Button variant=\"text\" onClick={() => console.log(\"delete\")}><Delete fontSize=\"small\" color=\"error\" /></Button>\n        </TableCell>\n      </TableRow>\n    </>\n  );\n};\n\nexport default LessonRow;\n","import React from 'react'\nimport { useFirestore } from '../contexts/firestoreContext';\n\nconst useCourseLessons = (courseId: string) => {\n    const [loading, setLoading] = React.useState(false);\n    const [lessons, setLessons] = React.useState<Lesson[]>([]);\n    const { queryDocuments } = useFirestore() as IFirestoreContext;\n\n    \n\n    React.useEffect(() => {\n        const loadLessons = () => {\n          setLoading(true);\n          queryDocuments({\n            collectionPath: \"lessons\",\n            queryParams: [\"course_id\", \"==\", courseId],\n          }).then(setLessons);\n          setLoading(false);\n        };\n        loadLessons();\n\n        return () => {\n            setLessons([]);\n        };\n    }, [courseId, queryDocuments]);\n\n    return { loading: loading, lessons: lessons }\n}\n\nexport default useCourseLessons;\n","import React from 'react'\nimport { TableCell, Typography, TableCellProps, TypographyProps } from '@material-ui/core';\n\ninterface ITableCell extends TableCellProps {\n    value: string;\n    align: 'left' | 'center' | 'right';\n    className?: string;\n    typographyVariant?: TypographyProps['variant'];\n}\n\n\n\ntype IAdminCell = TypographyProps & ITableCell;\n\nconst AdminTableCell: React.FC<IAdminCell> = ({ typographyVariant, value, align=\"center\", className, ...props }: IAdminCell) => {\n    return (\n        <TableCell align={align} className={className} {...props}>\n            <Typography color=\"primary\" variant={typographyVariant}>\n                {value}\n            </Typography>\n        </TableCell>\n    )\n}\n\nexport default AdminTableCell","import React from \"react\";\nimport { useRouteMatch } from \"react-router\";\nimport {\n  CircularProgress,\n  Paper,\n  Table,\n  TableBody,\n  TableHead,\n  TableRow,\n  makeStyles,\n  Theme\n} from \"@material-ui/core\";\nimport LessonRow from \"./LessonRow\";\nimport useCourseLessons from \"../../hooks/useCourseLessons\";\nimport AddLesson from \"./AddLesson\";\nimport AdminTableCell from \"./AdminTableCell\";\n\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    padding: theme.spacing(5),\n  }\n}));\n\ninterface TParams {\n  courseId: string;\n}\n\nconst LessonTable = ({courseId}: TParams) => {\n  const { url, path } = useRouteMatch();\n  const { lessons, loading } = useCourseLessons(courseId);\n  const classes = useStyles();\n  return (\n    <>\n      {loading ? (\n        <CircularProgress />\n      ) : (\n        <Table component={Paper} className={classes.root} >\n          <TableHead>\n            <TableRow>\n              {[\"Title\", \"Subtitle\", \"Status\", \"Actions\"].map(\n                (label, index) => (\n                  <AdminTableCell typographyVariant=\"h5\" align=\"left\" value={label} key={index} />\n                )\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {lessons.map((lesson) => (\n              <LessonRow\n                key={lesson.id}\n                lesson={lesson}\n                url={url}\n                path={path}\n              />\n            ))}\n          </TableBody>\n        </Table>\n      )}\n      <AddLesson courseId={courseId} />\n    </>\n  );\n};\n\nexport default LessonTable;\n","import React from \"react\";\nimport {\n  makeStyles,\n  Theme,\n  Button,\n  CircularProgress,\n  Box,\n  useTheme,\n  Paper,\n  Typography\n} from \"@material-ui/core\";\nimport { useFirestore } from \"../../contexts\";\nimport Editor, { theme as markdownTheme } from \"rich-markdown-editor\";\nimport { Timestamp } from 'firebase/firestore'\n\ninterface Props {\n  lessonData: Lesson;\n  loading: boolean;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    maxWidth: 900,\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n  },\n  paper: {\n    padding: theme.spacing(4, 5),\n    minHeight: 500,\n    fontStyle: \"normal\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-between\",\n    \"& h3\": {\n      fontSize: theme.typography.h3.fontSize,\n    },\n    \"& h4\": {\n      fontSize: theme.typography.h4.fontSize,\n    },\n    \"& h5\": {\n      fontSize: theme.typography.h5.fontSize,\n    },\n    \"& h6\": {\n      fontSize: theme.typography.h6.fontSize,\n    },\n    \"& p\": {\n      fontSize: theme.typography.body1.fontSize,\n    },\n  },\n  button: {\n    width: \"min-content\",\n    margin: theme.spacing(2, \"auto\"),\n  },\n}));\n\nfunction countWordsInMarkdown(markdown: string) {\n  return markdown.split(/\\s+/).length;\n}\n\nfunction calculateReadingTime(markdown: string) {\n  const wordsPerMinute = 200;\n  const words = countWordsInMarkdown(markdown);\n  const minutes = Math.floor(words / wordsPerMinute);\n  const seconds = Math.floor((words % wordsPerMinute) / (wordsPerMinute / 60));\n  return `${minutes} min ${seconds} sec`;\n}\n\nconst ContentEditor = ({lessonData, loading}: Props) => {\n  const theme = useTheme();\n  const classes = useStyles();\n  const [lessonText, setLessonText] = React.useState(\"\");\n  const { updateDocument } = useFirestore() as IFirestoreContext;\n  const [saving, setSaving] = React.useState(false);\n\n  const handleSaveContent = (event: React.MouseEvent<HTMLButtonElement>) => {\n    event.preventDefault();\n    setSaving(true);\n    lessonText &&\n      updateDocument({\n        path: `lessons/${lessonData.id}`,\n        data: { \n          markdown_content: lessonText,\n          updated_at: Timestamp.fromDate(new Date()),\n          reading_time: calculateReadingTime(lessonText),\n        },\n      })\n        .then(() => console.log(\"updated\"))\n        .catch((err) => console.log(err))\n        .finally(() => setSaving(false));\n  };\n\n  React.useEffect(() => {\n    if (!lessonText && lessonData?.data.markdown_content) {\n      setLessonText(lessonData.data.markdown_content);\n    }\n  }, [lessonData]);\n\n  // const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n  //   event.preventDefault();\n  //   lesson && updateDocument({ path: `lessons/${lesson.id}`, data: lesson.data })\n  //   .then(() => console.log(\"updated lesson dat\"))\n  //   .catch(err => console.log(err))\n  // };\n\n  return (\n    <>\n      {loading && <CircularProgress />}\n      {!loading && lessonData?.data && (\n        <Box className={classes.root}>\n          <Typography variant=\"h4\">Content editor</Typography>\n          <Paper className={classes.paper}>\n            <Editor\n              defaultValue={lessonData.data.markdown_content}\n              onChange={(value) => setLessonText(value)}\n              headingsOffset={2}\n              theme={{\n                ...markdownTheme,\n                black: theme.palette.text.primary,\n                white: theme.palette.common.white,\n                primary: theme.palette.primary.main,\n                textSecondary: theme.palette.text.secondary,\n                almostBlack: theme.palette.text.secondary,\n                fontFamily:\n                  theme.typography.fontFamily ||\n                  \"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen'\",\n                fontFamilyMono:\n                  \"Menlo, Monaco, Consolas, 'Courier New', monospace\",\n                fontWeight: 400,\n              }}\n              // theme={{\n              //   ...markdownTheme,\n              //   fontFamily:\n              //     \"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\",\n              //   fontFamilyMono: \"Roboto Mono\",\n              //   black: grey[900],\n              //   white: grey[50],\n              //   background: grey[50],\n              //   almostBlack: grey[800],\n              //   primary: teal[500],\n              // }}\n            />\n          </Paper>\n          <Button\n            variant=\"contained\"\n            disabled={saving || loading}\n            color=\"primary\"\n            onClick={handleSaveContent}\n            className={classes.button}\n          >\n            {saving ? <CircularProgress /> : \"Save\"}\n          </Button>\n        </Box>\n      )}\n    </>\n  );\n};\n\nexport default ContentEditor;\n","import React from \"react\";\nimport {\n  TextField,\n  IconButton,\n  Button,\n  CircularProgress,\n  Grid,\n  makeStyles,\n  Theme,\n  Snackbar,\n  Checkbox,\n  FormControlLabel,\n  Typography,\n  Box,\n} from \"@material-ui/core\";\nimport { useFirestore } from \"../../contexts/firestoreContext\";\nimport { useLesson } from \"../../hooks\";\nimport TagsInput from \"./TagsInput\";\nimport { Close as CloseIcon } from \"@material-ui/icons\";\n\ninterface Props {\n  lessonId: string;\n}\n\nenum Languages {\n  ENGLISH = \"ENGLISH\",\n  SPANISH = \"SPANISH\",\n  FRENCH = \"FRENCH\",\n  GERMAN = \"GERMAN\",\n  ITALIAN = \"ITALIAN\",\n  JAPANESE = \"JAPANESE\",\n  KOREAN = \"KOREAN\",\n  PORTUGUESE = \"PORTUGUESE\",\n}\n\nenum Tags {\n  \"Math\",\n  \"Science\",\n  \"English\",\n  \"History\",\n  \"Geography\",\n  \"Biology\",\n  \"Chemistry\",\n  \"Physics\",\n  \"Music\",\n  \"Art\",\n  \"Literature\",\n  \"Computer Science\",\n  \"Business\",\n  \"Economics\",\n  \"Accounting\",\n  \"Health\",\n  \"Law\",\n  \"Psychology\",\n  \"Sociology\",\n  \"Philosophy\",\n  \"Religion\",\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  grid: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n  form: {\n    marginBottom: theme.spacing(4),\n  },\n  root: {\n    padding: theme.spacing(3),\n  }\n}));\n\nconst LessonMetadataEditor = ({ lessonId }: Props) => {\n  const classes = useStyles();\n  const { lessonData, loading } = useLesson(lessonId) as {\n    lessonData: Lesson;\n    loading: boolean;\n  };\n  const { updateDocument } = useFirestore() as IFirestoreContext;\n  const [lessonUpdates, setLessonUpdates] = React.useState<Lesson | any>(null);\n  const [saving, setSaving] = React.useState(false);\n  const [snackbarOpen, setSnackbarOpen] = React.useState(false);\n  const [message, setMessage] = React.useState(\"\");\n\n  const handleSnackbarClose = () => {\n    setSnackbarOpen(false);\n    setMessage(\"\");\n  };\n\n  React.useEffect(() => {\n    if (lessonData && !lessonUpdates) {\n      setLessonUpdates(lessonData);\n    }\n  }, [lessonData]);\n\n  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    setSaving(true);\n    updateDocument({\n      path: `lessons/${lessonId}`,\n      data: {\n        ...lessonUpdates.data,\n        published: true,\n      },\n    })\n      .then(() => {\n        setMessage(\"Lesson updated successfully\");\n      })\n      .catch((err) => {\n        console.error(err);\n        setMessage(err.message);\n      })\n      .finally(() => {\n        setSnackbarOpen(true);\n        setSaving(false);\n      });\n  };\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setLessonUpdates({\n      id: lessonId,\n      data: {\n        ...lessonUpdates?.data,\n        [name]: value,\n      },\n    });\n  };\n\n  const handleTagsChange = (e: React.ChangeEvent<{}>, value: string[]) => {\n    setLessonUpdates({\n      id: lessonId,\n      data: {\n        ...lessonUpdates?.data,\n        tags: value,\n      },\n    });\n  };\n\n  const handleLanguageChange = (e: React.ChangeEvent<{}>, value: string[]) => {\n    setLessonUpdates({\n      id: lessonId,\n      data: {\n        ...lessonUpdates?.data,\n        languages: value,\n      },\n    });\n  };\n\n  const handlePublishedChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setLessonUpdates({\n      id: lessonId,\n      data: {\n        ...lessonUpdates?.data,\n        published: e.target.checked,\n      },\n    });\n  };\n\n  return (\n    <>\n      {loading && <CircularProgress />}\n      {!loading && lessonUpdates?.data ? (\n        <Box>\n          <Typography variant=\"h4\">Lesson details</Typography>\n            <form onSubmit={handleSubmit}>\n              <Grid container>\n                <Grid item xs={12}>\n                  <TextField\n                    label=\"Title\"\n                    onChange={handleChange}\n                    value={lessonUpdates.data.title}\n                    variant=\"filled\"\n                    name=\"title\"\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    label=\"Subtitle\"\n                    onChange={handleChange}\n                    value={lessonUpdates.data.subtitle}\n                    name=\"subtitle\"\n                    variant=\"filled\"\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <TextField\n                    label=\"Summary\"\n                    onChange={handleChange}\n                    value={lessonUpdates.data.summary}\n                    name=\"summary\"\n                    fullWidth\n                    multiline\n                    variant=\"filled\"\n                    minRows={3}\n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <TagsInput\n                    options={Object.values(Languages)}\n                    onChange={handleLanguageChange}\n                    label=\"Languages\"\n                    currentValues={lessonUpdates.data.languages}\n                    \n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <TagsInput\n                    options={Object.values(Tags).map((tag) => tag.toString())}\n                    onChange={handleTagsChange}\n                    currentValues={lessonUpdates.data.tags}\n                    label=\"Tags\"\n                  />\n                </Grid>\n                <Grid item xs={12} md={6}>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        color=\"primary\"\n                        name=\"published\"\n                        checked={lessonUpdates.data.published}\n                        onChange={handlePublishedChange}\n                      />\n                    }\n                    label=\"Publish now?\"\n                  />\n                </Grid>\n              </Grid>\n              <Button\n                variant=\"contained\"\n                disabled={saving}\n                color=\"primary\"\n                type=\"submit\"\n              >\n                {saving && <CircularProgress />}\n                {!lessonUpdates.data.published ? \"Save as draft\" : \"Publish\"}\n              </Button>\n            </form>\n            <Snackbar\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"left\",\n              }}\n              open={snackbarOpen}\n              autoHideDuration={6000}\n              onClose={handleSnackbarClose}\n              message={message}\n              action={\n                <React.Fragment>\n                  <Button\n                    color=\"secondary\"\n                    size=\"small\"\n                    onClick={handleSnackbarClose}\n                  >\n                    Close\n                  </Button>\n                  <IconButton\n                    size=\"small\"\n                    aria-label=\"close\"\n                    color=\"inherit\"\n                    onClick={handleSnackbarClose}\n                  >\n                    <CloseIcon fontSize=\"small\" />\n                  </IconButton>\n                </React.Fragment>\n              }\n            />\n        </Box>\n      ) : (\n        <CircularProgress />\n      )}\n    </>\n  );\n};\n\nexport default LessonMetadataEditor;\n","import React from 'react'\nimport { Autocomplete } from '@material-ui/lab'; \nimport { TextField } from '@material-ui/core';\n\ninterface TagsInputProps {\n    currentValues?: string[];\n    onChange: (e: React.ChangeEvent<{}>, value: string[]) => void;\n    label: string;\n    placeholder?: string;\n    options: string[];\n}\n\nconst TagsInput = ({ currentValues, onChange, label, placeholder=\"Choose...\", options }: TagsInputProps) => {\n    const [_, setTags] = React.useState<string[]>(currentValues || []);\n    const handleChange = (event: React.ChangeEvent<{}>, value: string[]) => {\n      setTags(value)\n      onChange(event, value);\n    }\n\n\n    return (\n      <>\n        <Autocomplete\n        multiple\n        options={options}\n        getOptionLabel={(option: string) => option}\n        onChange={handleChange}\n        defaultValue={currentValues || []}\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"filled\"\n            label={label}\n            placeholder={placeholder}\n          />\n        )}\n      />\n      </>\n    );\n    }\n\nexport default TagsInput","import React from 'react'\nimport { CircularProgress, Grid, makeStyles, Theme, Typography } from '@material-ui/core'\nimport ContentEditor from './MarkdownEditor'\nimport { RouteComponentProps  } from 'react-router'\nimport { useLesson } from '../../hooks'\nimport LessonMetadataEditor from './LessonMetadataEditor'\n\ninterface TParams {\n  lessonId: string;\n}\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    padding: theme.spacing(3),\n  }\n}))\n\n\nconst LessonEditor = ({ match }: RouteComponentProps<TParams>) => {\n  const classes = useStyles()\n  const { lessonId } = match.params\n  const { lessonData, loading } = useLesson(lessonId) as {lessonData: Lesson, loading: boolean}\n  const [ lessonUpdates, setLessonUpdates ] = React.useState<Lesson | any>(null)\n\n  React.useEffect(() => {\n    if (lessonData && !lessonUpdates) {\n      setLessonUpdates(lessonData)\n    }\n\n  }, [lessonData])\n\n\n  return (\n    <>\n      {loading && <CircularProgress />}\n      {!loading && lessonUpdates?.data && (\n        <>\n        <Typography variant=\"h3\">{lessonData.data.title}</Typography>\n      <Grid container spacing={5} className={classes.root}>        \n        <Grid item xs={12} lg={6}>\n          <LessonMetadataEditor lessonId={lessonId} />\n        </Grid>\n        <Grid item xs={12} lg={6}>\n          {!loading && lessonData &&<ContentEditor lessonData={lessonData} loading={loading} />}\n        </Grid>\n      </Grid>\n        </>\n      )}\n    </>\n  );}\n\nexport default LessonEditor","import React from 'react'\nimport { RouteComponentProps, useRouteMatch } from 'react-router'\n\ninterface TParams {\n    userId: string;\n}\n\nconst UserEditor = ({match}: RouteComponentProps<TParams>) => {\n    const { params } = useRouteMatch<TParams>()\n    return (\n        <div>\n            <h1>UserEditor</h1>\n            <p>UserId: {params.userId}</p>\n        </div>\n    )\n}\n\nexport default UserEditor","import React from \"react\";\nimport {\n  Table,\n  CircularProgress,\n  TableBody,\n  TableHead,\n  TableRow,\n  Typography,\n  TableCell,\n} from \"@material-ui/core\";\nimport { useFirestore } from \"../../../contexts\";\nimport { getDateStringFromTimestamp } from \"../../../utils/parseTimestamp\";\nimport { RouterButton } from \"../../../components/buttons\";\nimport { useRouteMatch } from \"react-router\";\nimport { Edit } from \"@material-ui/icons\";\n\n\nconst UserTable = () => {\n  const [loading, setLoading] = React.useState(false);\n  const [users, setUsers] = React.useState<UserDocument[]>([]);\n  const { getCollection } = useFirestore() as IFirestoreContext;\n  const { url } = useRouteMatch()\n  React.useEffect(() => {\n    setLoading(true);\n    getCollection(\"users\")\n      .then(setUsers)\n      .finally(() => setLoading(false));\n  }, [getCollection]);\n  return (\n    <>\n      <Typography variant=\"h3\">User Manager</Typography>\n      {loading ? (\n        <CircularProgress />\n      ) : (\n        <Table>\n          <TableHead>\n            <TableRow>\n              {[\"Name\", \"ID\", \"Email\", \"Created At\", \"Options\"].map((label) => (\n                <TableCell key={label}>\n                  <Typography variant=\"h4\">{label}</Typography>\n                </TableCell>\n              ))}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {users.map((user) => (\n              <TableRow key={user.id}>\n                {[\n                  user.data.name,\n                  user.id,\n                  user.data.email,\n                  getDateStringFromTimestamp(user.data.created_at),\n                ].map((value, index) => (\n                  <TableCell key={index}>\n                    <Typography variant={index === 0 ? \"subtitle1\" : \"body1\"}>\n                      {value}\n                    </Typography>\n                  </TableCell>\n                ))}\n                <TableCell>\n                    <RouterButton href={`${url}/${user.id}`}><Edit fontSize=\"inherit\" color=\"secondary\" /></RouterButton>\n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      )}\n    </>\n  );\n};\n\nexport default UserTable;","import React from \"react\";\nimport { Paper, Breadcrumbs, makeStyles, Theme, Grid } from \"@material-ui/core\";\nimport { Redirect, Switch, Route, useLocation } from \"react-router\";\nimport { RouterButton } from \"../../components/buttons\";\nimport { useAuth } from \"../../contexts/authContext\";\nimport AdminMenu from \"./adminMenu\";\nimport Dashboard from \"./dashboard\";\nimport {\n  CourseEditor,\n  CourseTable,\n  UserEditor,\n  LessonTable,\n  LessonEditor,\n} from \"../../components/admin\";\nimport UserTable from \"./userManager/userTable\";\nconst useStyles = makeStyles((theme: Theme) => ({\n  root: {\n    backgroundColor: \"transparent\",\n  },\n  breadcrumbs: {\n    padding: theme.spacing(1),\n    marginBottom: theme.spacing(3),\n    marginTop: 0,\n    borderRadius: theme.shape.borderRadius,\n  },\n  gridItem: {\n  }\n}));\n\nconst Admin = () => {\n  const { isAdmin } = useAuth() as IAuthContext;\n  const [breadcrumbs, setBreadcrumbs] = React.useState<any[]>([]);\n  const { pathname } = useLocation();\n  const classes = useStyles();\n\n  React.useEffect(() => {\n    const pathArray = pathname.split(\"/\");\n    const breadcrumbsArray = pathArray.slice(1).map((path, index) => {\n      return {\n        link: pathArray.slice(0, index + 2).join(\"/\"),\n        name: path.toLocaleUpperCase(),\n      };\n    });\n    setBreadcrumbs(breadcrumbsArray);\n  }, [pathname]);\n\n  if (!isAdmin) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <>\n      <AdminMenu />\n      <Breadcrumbs className={classes.breadcrumbs}>\n        {breadcrumbs.map((breadcrumb, index) => {\n          return (\n            <RouterButton size=\"small\" href={breadcrumb.link} key={index}>\n              {breadcrumb.name}\n            </RouterButton>\n          );\n        })}\n      </Breadcrumbs>\n        <Paper elevation={0} className={classes.root}>\n          <Switch>\n            <Route exact path=\"/admin\">\n              <Dashboard />\n            </Route>\n            <Route path=\"/admin/courses\">\n              <Route exact path=\"/admin/courses\" component={CourseTable} />\n              <Route path=\"/admin/courses/:courseId\">\n                <Route\n                  exact\n                  path=\"/admin/courses/:courseId\"\n                  component={CourseEditor}\n                />\n                <Route path=\"/admin/courses/:courseId/lessons\">\n                  <Route\n                    exact\n                    path=\"/admin/courses/:courseId/lessons\"\n                    render={(routeProps) => <LessonTable courseId={routeProps.match.params.courseId} />}\n                  />\n                  <Route\n                    path=\"/admin/courses/:courseId/lessons/:lessonId\"\n                    component={LessonEditor}\n                  />\n                </Route>\n              </Route>\n            </Route>\n            <Route path=\"/admin/users\">\n              <Route exact path=\"/admin/users\" component={UserTable} />\n              <Route path=\"/admin/users/:userId\" component={UserEditor} />\n            </Route>\n          </Switch>\n        </Paper>\n    </>\n  );\n};\n\nexport default Admin;\n","import React from 'react';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom'\nimport { Home, Login, Signup } from './routes';\nimport Navbar from './components/navbar';\n\nimport {initializeApp} from 'firebase/app';\nimport { AuthProvider, StorageProvider, FirestoreProvider } from './contexts'\nimport ThemeContext from './theme';\nimport { CssBaseline, Box } from '@material-ui/core';\nimport {makeStyles} from '@material-ui/core/styles';\nimport Account from './routes/account';\nimport Browse from './routes/browse';\nimport Course from './routes/course';\nimport EditAccount from './components/forms/editAccount';\nimport firebaseConfig from './config/firebaseConfig';\nimport Admin from './routes/admin';\n\nconst drawerWidth = 240;\nconst useStyles = makeStyles((theme) => ({\n  main: {\n    marginBottom: theme.spacing(2),\n    flexGrow: 1,\n    [theme.breakpoints.up(\"sm\")]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n    padding: theme.spacing(3),\n  },\n  root: {},\n  toolbar: theme.mixins.toolbar,\n}));\n\nfunction App() {\n  const classes = useStyles();\n  initializeApp(firebaseConfig);\n  return (\n    <React.Fragment>\n      <AuthProvider>\n        <StorageProvider>\n          <FirestoreProvider>\n          <ThemeContext>\n            <CssBaseline />\n            <BrowserRouter>\n            <div className={classes.root}>\n              <Navbar />\n              <Box component=\"main\" className={classes.main}>\n                <Switch>\n                  <Route exact path=\"/\" component={Home} />\n                  <Route path=\"/login\" component={Login} />\n                  <Route path=\"/signup\" component={Signup} />\n                  <Route path=\"/account/edit\" component={EditAccount} />\n                  <Route path=\"/account\" exact component={Account} />\n                  <Route path=\"/courses\" exact component={Browse} />\n                  <Route path=\"/courses/:courseId\" render={renderProps => <Course courseId={renderProps.match.params.courseId} />} />\n                  <Route path=\"/admin\" component={Admin} />\n                  <Route path=\"/browse\" component={Browse} />\n                </Switch>\n              </Box>\n            </div>\n            </BrowserRouter>\n          </ThemeContext>\n          </FirestoreProvider>\n        </StorageProvider>\n      </AuthProvider>\n    </React.Fragment>\n  );\n}\n\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}